!function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c;function l(e,t){return c||(c=document.createElement("a")),c.href=t,e===c.href}function u(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function d(e){let t;return u(e,(e=>t=e))(),t}function h(e,t,n){e.$$.on_destroy.push(u(t,n))}function p(e,t,n,r){if(e){const i=f(e,t,n,r);return e[0](i)}}function f(e,t,r,i){return e[1]&&i?n(r.ctx.slice(),e[1](i(t))):r.ctx}function m(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function g(e,t,n,r,i,o){if(i){const s=f(t,n,r,o);e.p(s,i)}}function v(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function b(e){return null==e?"":e}function y(e,t,n){return e.set(n),t}function w(t){return t&&s(t.destroy)?t.destroy:e}const A="undefined"!=typeof window;let k=A?()=>window.performance.now():()=>Date.now(),$=A?e=>requestAnimationFrame(e):e;const V=new Set;function x(e){V.forEach((t=>{t.c(e)||(V.delete(t),t.f())})),0!==V.size&&$(x)}function I(e){let t;return 0===V.size&&$(x),{promise:new Promise((n=>{V.add(t={c:e,f:n})})),abort(){V.delete(t)}}}function C(e,t){e.appendChild(t)}function E(e,t,n){const r=S(e);if(!r.getElementById(t)){const e=M("style");e.id=t,e.textContent=n,_(r,e)}}function S(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function T(e){const t=M("style");return _(S(e),t),t.sheet}function _(e,t){return C(e.head||e,t),t.sheet}function R(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function D(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function M(e){return document.createElement(e)}function N(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function B(e){return document.createTextNode(e)}function L(){return B(" ")}function P(){return B("")}function j(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function F(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function U(e){const t=[];for(let n=0;n<e.length;n+=1)t.push({start:e.start(n),end:e.end(n)});return t}function q(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function z(e,t){e.value=null==t?"":t}function H(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let W;function K(){if(void 0===W){W=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){W=!0}}return W}function G(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=M("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=K();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=j(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=j(n.contentWindow,"resize",t)}),C(e,n),()=>{(r||i&&n.contentWindow)&&i(),O(n)}}function J(e,t,n){e.classList[n?"add":"remove"](t)}function Q(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}const Z=new Map;let X,Y=0;function ee(e,t,n,r,i,o,s,a=0){const c=16.666/r;let l="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*o(e);l+=100*e+`%{${s(r,1-r)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,h=S(e),{stylesheet:p,rules:f}=Z.get(h)||function(e,t){const n={stylesheet:T(t),rules:{}};return Z.set(e,n),n}(h,e);f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${r}ms linear ${i}ms 1 both`,Y+=1,d}function te(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Y-=i,Y||$((()=>{Y||(Z.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&O(t)})),Z.clear())})))}function ne(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i="none"===r.transform?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function re(e){X=e}function ie(){if(!X)throw new Error("Function called outside component initialization");return X}function oe(e){ie().$$.on_mount.push(e)}function se(e){ie().$$.on_destroy.push(e)}function ae(){const e=ie();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const o=Q(t,n,{cancelable:r});return i.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}function ce(e){return ie().$$.context.get(e)}function le(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ue=[],de=[],he=[],pe=[],fe=Promise.resolve();let me=!1;function ge(e){he.push(e)}function ve(e){pe.push(e)}const be=new Set;let ye,we=0;function Ae(){if(0!==we)return;const e=X;do{try{for(;we<ue.length;){const e=ue[we];we++,re(e),ke(e.$$)}}catch(e){throw ue.length=0,we=0,e}for(re(null),ue.length=0,we=0;de.length;)de.pop()();for(let e=0;e<he.length;e+=1){const t=he[e];be.has(t)||(be.add(t),t())}he.length=0}while(ue.length);for(;pe.length;)pe.pop()();me=!1,be.clear(),re(e)}function ke(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ge)}}function $e(){return ye||(ye=Promise.resolve(),ye.then((()=>{ye=null}))),ye}function Ve(e,t,n){e.dispatchEvent(Q(`${t?"intro":"outro"}${n}`))}const xe=new Set;let Ie;function Ce(){Ie={r:0,c:[],p:Ie}}function Ee(){Ie.r||o(Ie.c),Ie=Ie.p}function Se(e,t){e&&e.i&&(xe.delete(e),e.i(t))}function Te(e,t,n,r){if(e&&e.o){if(xe.has(e))return;xe.add(e),Ie.c.push((()=>{xe.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const _e={duration:0};function Re(n,r,i){const o={direction:"in"};let a,c,l=r(n,i,o),u=!1,d=0;function h(){a&&te(n,a)}function p(){const{delay:r=0,duration:i=300,easing:o=t,tick:s=e,css:p}=l||_e;p&&(a=ee(n,0,1,i,r,o,p,d++)),s(0,1);const f=k()+r,m=f+i;c&&c.abort(),u=!0,ge((()=>Ve(n,!0,"start"))),c=I((e=>{if(u){if(e>=m)return s(1,0),Ve(n,!0,"end"),h(),u=!1;if(e>=f){const t=o((e-f)/i);s(t,1-t)}}return u}))}let f=!1;return{start(){f||(f=!0,te(n),s(l)?(l=l(o),$e().then(p)):p())},invalidate(){f=!1},end(){u&&(h(),u=!1)}}}function Oe(n,r,i){const a={direction:"out"};let c,l=r(n,i,a),u=!0;const d=Ie;function h(){const{delay:r=0,duration:i=300,easing:s=t,tick:a=e,css:h}=l||_e;h&&(c=ee(n,1,0,i,r,s,h));const p=k()+r,f=p+i;ge((()=>Ve(n,!1,"start"))),I((e=>{if(u){if(e>=f)return a(0,1),Ve(n,!1,"end"),--d.r||o(d.c),!1;if(e>=p){const t=s((e-p)/i);a(1-t,t)}}return u}))}return d.r+=1,s(l)?$e().then((()=>{l=l(a),h()})):h(),{end(e){e&&l.tick&&l.tick(1,0),u&&(c&&te(n,c),u=!1)}}}function De(n,r,i,a){const c={direction:"both"};let l=r(n,i,c),u=a?0:1,d=null,h=null,p=null;function f(){p&&te(n,p)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(r){const{delay:i=0,duration:s=300,easing:a=t,tick:c=e,css:g}=l||_e,v={start:k()+i,b:r};r||(v.group=Ie,Ie.r+=1),d||h?h=v:(g&&(f(),p=ee(n,u,r,s,i,a,g)),r&&c(0,1),d=m(v,s),ge((()=>Ve(n,r,"start"))),I((e=>{if(h&&e>h.start&&(d=m(h,s),h=null,Ve(n,d.b,"start"),g&&(f(),p=ee(n,u,d.b,d.duration,0,a,l.css))),d)if(e>=d.end)c(u=d.b,1-u),Ve(n,d.b,"end"),h||(d.b?f():--d.group.r||o(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*a(t/d.duration),c(u,1-u)}return!(!d&&!h)})))}return{run(e){s(l)?$e().then((()=>{l=l(c),g(e)})):g(e)},end(){f(),d=h=null}}}function Me(e,t){const n=t.token={};function r(e,r,i,o){if(t.token!==n)return;t.resolved=o;let s=t.ctx;void 0!==i&&(s=s.slice(),s[i]=o);const a=e&&(t.current=e)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(Ce(),Te(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Ee())})):t.block.d(1),a.c(),Se(a,1),a.m(t.mount(),t.anchor),c=!0),t.block=a,t.blocks&&(t.blocks[r]=a),c&&Ae()}if(function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(e)){const n=ie();if(e.then((e=>{re(n),r(t.then,1,t.value,e),re(null)}),(e=>{if(re(n),r(t.catch,2,t.error,e),re(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Ne(e,t){e.f(),function(e,t){Te(e,1,1,(()=>{t.delete(e.key)}))}(e,t)}function Be(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Le(e){e&&e.c()}function Pe(e,t,n,i){const{fragment:a,after_update:c}=e.$$;a&&a.m(t,n),i||ge((()=>{const t=e.$$.on_mount.map(r).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),c.forEach(ge)}function je(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Fe(e,t){-1===e.$$.dirty[0]&&(ue.push(e),me||(me=!0,fe.then(Ae)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ue(t,n,r,s,a,c,l,u=[-1]){const d=X;re(t);const h=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(h.root);let p=!1;if(h.ctx=r?r(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),p&&Fe(t,e)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);h.fragment&&h.fragment.l(e),e.forEach(O)}else h.fragment&&h.fragment.c();n.intro&&Se(t.$$.fragment),Pe(t,n.target,n.anchor,n.customElement),Ae()}re(d)}class qe{$destroy(){je(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ze=[];function He(e,t){return{subscribe:We(e,t).subscribe}}function We(t,n=e){let r;const i=new Set;function o(e){if(a(t,e)&&(t=e,r)){const e=!ze.length;for(const e of i)e[1](),ze.push(e,t);if(e){for(let e=0;e<ze.length;e+=2)ze[e][0](ze[e+1]);ze.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const c=[s,a];return i.add(c),1===i.size&&(r=n(o)||e),s(t),()=>{i.delete(c),0===i.size&&(r(),r=null)}}}}const Ke=We({palette:{primary:{main:"#1b4d75",dark:"#0f2b42"},bubble:{sent:"#424242",received:"white"},bubbleText:{sent:"white",received:"black"},background:{default:"#dae7f2",textarea:"#edf4fa"}},breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1536}},typography:{fontFamily:"Montserrat",h1:{fontFamily:"Advent Pro"},h2:{fontFamily:"Advent Pro"},h3:{fontFamily:"Advent Pro"},h4:{fontFamily:"Advent Pro"},h5:{fontFamily:"Advent Pro"},fontSize:14},shape:{borderRadius:"24px",bubbleBorderRadius:"24px",textAreaBorderRadius:"48px"},outline:!1,headerTextColor:"white",buttonIconColor:"white",textAreaTextColor:"black",fontFamily:'Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif !important',fab:!1}),Ge=We({name:"",image:""}),Je={xs:0,sm:600,md:900,lg:1200,xl:1536},Qe=e=>{let t=Ze(e),n=0;if((null==t?void 0:t.r)&&(null==t?void 0:t.g)&&(null==t?void 0:t.b)){for(const[e,n]of Object.entries(t)){let r=n/255;r<=.04045?r/=12.92:r=Math.pow((r+.055)/1.055,2.4),t=Object.assign(Object.assign({},t),{[e]:r})}n=.2126*(null==t?void 0:t.r)+.7152*(null==t?void 0:t.g)+.0722*(null==t?void 0:t.b)}return n>.179?"#000000":"#FAFAFA"},Ze=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null};var Xe=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ye="-ms-",et="-moz-",tt="-webkit-",nt="comm",rt="rule",it="decl",ot="@keyframes",st=Math.abs,at=String.fromCharCode,ct=Object.assign;function lt(e){return e.trim()}function ut(e,t,n){return e.replace(t,n)}function dt(e,t){return e.indexOf(t)}function ht(e,t){return 0|e.charCodeAt(t)}function pt(e,t,n){return e.slice(t,n)}function ft(e){return e.length}function mt(e){return e.length}function gt(e,t){return t.push(e),e}var vt=1,bt=1,yt=0,wt=0,At=0,kt="";function $t(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:vt,column:bt,length:s,return:""}}function Vt(e,t){return ct($t("",null,null,"",null,null,0),e,{length:-e.length},t)}function xt(){return At=wt>0?ht(kt,--wt):0,bt--,10===At&&(bt=1,vt--),At}function It(){return At=wt<yt?ht(kt,wt++):0,bt++,10===At&&(bt=1,vt++),At}function Ct(){return ht(kt,wt)}function Et(){return wt}function St(e,t){return pt(kt,e,t)}function Tt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _t(e){return vt=bt=1,yt=ft(kt=e),wt=0,[]}function Rt(e){return kt="",e}function Ot(e){return lt(St(wt-1,Nt(91===e?e+2:40===e?e+1:e)))}function Dt(e){for(;(At=Ct())&&At<33;)It();return Tt(e)>2||Tt(At)>3?"":" "}function Mt(e,t){for(;--t&&It()&&!(At<48||At>102||At>57&&At<65||At>70&&At<97););return St(e,Et()+(t<6&&32==Ct()&&32==It()))}function Nt(e){for(;It();)switch(At){case e:return wt;case 34:case 39:34!==e&&39!==e&&Nt(At);break;case 40:41===e&&Nt(e);break;case 92:It()}return wt}function Bt(e,t){for(;It()&&e+At!==57&&(e+At!==84||47!==Ct()););return"/*"+St(t,wt-1)+"*"+at(47===e?e:It())}function Lt(e){for(;!Tt(Ct());)It();return St(e,wt)}function Pt(e){return Rt(jt("",null,null,null,[""],e=_t(e),0,[0],e))}function jt(e,t,n,r,i,o,s,a,c){for(var l=0,u=0,d=s,h=0,p=0,f=0,m=1,g=1,v=1,b=0,y="",w=i,A=o,k=r,$=y;g;)switch(f=b,b=It()){case 40:if(108!=f&&58==$.charCodeAt(d-1)){-1!=dt($+=ut(Ot(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:$+=Ot(b);break;case 9:case 10:case 13:case 32:$+=Dt(f);break;case 92:$+=Mt(Et()-1,7);continue;case 47:switch(Ct()){case 42:case 47:gt(Ut(Bt(It(),Et()),t,n),c);break;default:$+="/"}break;case 123*m:a[l++]=ft($)*v;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:p>0&&ft($)-d&&gt(p>32?qt($+";",r,n,d-1):qt(ut($," ","")+";",r,n,d-2),c);break;case 59:$+=";";default:if(gt(k=Ft($,t,n,l,u,i,a,y,w=[],A=[],d),o),123===b)if(0===u)jt($,t,k,k,w,o,d,a,A);else switch(h){case 100:case 109:case 115:jt(e,k,k,r&&gt(Ft(e,k,k,0,0,i,a,y,i,w=[],d),A),i,A,d,a,r?w:A);break;default:jt($,k,k,k,[""],A,0,a,A)}}l=u=p=0,m=v=1,y=$="",d=s;break;case 58:d=1+ft($),p=f;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==xt())continue;switch($+=at(b),b*m){case 38:v=u>0?1:($+="\f",-1);break;case 44:a[l++]=(ft($)-1)*v,v=1;break;case 64:45===Ct()&&($+=Ot(It())),h=Ct(),u=d=ft(y=$+=Lt(Et())),b++;break;case 45:45===f&&2==ft($)&&(m=0)}}return o}function Ft(e,t,n,r,i,o,s,a,c,l,u){for(var d=i-1,h=0===i?o:[""],p=mt(h),f=0,m=0,g=0;f<r;++f)for(var v=0,b=pt(e,d+1,d=st(m=s[f])),y=e;v<p;++v)(y=lt(m>0?h[v]+" "+b:ut(b,/&\f/g,h[v])))&&(c[g++]=y);return $t(e,t,n,0===i?rt:a,c,l,u)}function Ut(e,t,n){return $t(e,t,n,nt,at(At),pt(e,2,-2),0)}function qt(e,t,n,r){return $t(e,t,n,it,pt(e,0,r),pt(e,r+1,-1),r)}function zt(e,t){switch(function(e,t){return(((t<<2^ht(e,0))<<2^ht(e,1))<<2^ht(e,2))<<2^ht(e,3)}(e,t)){case 5103:return tt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+e+et+e+Ye+e+e;case 6828:case 4268:return tt+e+Ye+e+e;case 6165:return tt+e+Ye+"flex-"+e+e;case 5187:return tt+e+ut(e,/(\w+).+(:[^]+)/,tt+"box-$1$2"+Ye+"flex-$1$2")+e;case 5443:return tt+e+Ye+"flex-item-"+ut(e,/flex-|-self/,"")+e;case 4675:return tt+e+Ye+"flex-line-pack"+ut(e,/align-content|flex-|-self/,"")+e;case 5548:return tt+e+Ye+ut(e,"shrink","negative")+e;case 5292:return tt+e+Ye+ut(e,"basis","preferred-size")+e;case 6060:return tt+"box-"+ut(e,"-grow","")+tt+e+Ye+ut(e,"grow","positive")+e;case 4554:return tt+ut(e,/([^-])(transform)/g,"$1"+tt+"$2")+e;case 6187:return ut(ut(ut(e,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),e,"")+e;case 5495:case 3959:return ut(e,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return ut(ut(e,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+Ye+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+e+e;case 4095:case 3583:case 4068:case 2532:return ut(e,/(.+)-inline(.+)/,tt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ft(e)-1-t>6)switch(ht(e,t+1)){case 109:if(45!==ht(e,t+4))break;case 102:return ut(e,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+et+(108==ht(e,t+3)?"$3":"$2-$3"))+e;case 115:return~dt(e,"stretch")?zt(ut(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ht(e,t+1))break;case 6444:switch(ht(e,ft(e)-3-(~dt(e,"!important")&&10))){case 107:return ut(e,":",":"+tt)+e;case 101:return ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(45===ht(e,14)?"inline-":"")+"box$3$1"+tt+"$2$3$1"+Ye+"$2box$3")+e}break;case 5936:switch(ht(e,t+11)){case 114:return tt+e+Ye+ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tt+e+Ye+ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tt+e+Ye+ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return tt+e+Ye+e+e}return e}function Ht(e,t){for(var n="",r=mt(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Wt(e,t,n,r){switch(e.type){case"@import":case it:return e.return=e.return||e.value;case nt:return"";case ot:return e.return=e.value+"{"+Ht(e.children,r)+"}";case rt:e.value=e.props.join(",")}return ft(n=Ht(e.children,r))?e.return=e.value+"{"+n+"}":""}function Kt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Gt=function(e,t,n){for(var r=0,i=0;r=i,i=Ct(),38===r&&12===i&&(t[n]=1),!Tt(i);)It();return St(e,wt)},Jt=function(e,t){return Rt(function(e,t){var n=-1,r=44;do{switch(Tt(r)){case 0:38===r&&12===Ct()&&(t[n]=1),e[n]+=Gt(wt-1,t,n);break;case 2:e[n]+=Ot(r);break;case 4:if(44===r){e[++n]=58===Ct()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=at(r)}}while(r=It());return e}(_t(e),t))},Qt=new WeakMap,Zt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Qt.get(n))&&!r){Qt.set(e,!0);for(var i=[],o=Jt(t,i),s=n.props,a=0,c=0;a<o.length;a++)for(var l=0;l<s.length;l++,c++)e.props[c]=i[a]?o[a].replace(/&\f/g,s[l]):s[l]+" "+o[a]}}},Xt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Yt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case it:e.return=zt(e.value,e.length);break;case ot:return Ht([Vt(e,{value:ut(e.value,"@","@"+tt)})],r);case rt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ht([Vt(e,{props:[ut(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ht([Vt(e,{props:[ut(t,/:(plac\w+)/,":"+tt+"input-$1")]}),Vt(e,{props:[ut(t,/:(plac\w+)/,":-moz-$1")]}),Vt(e,{props:[ut(t,/:(plac\w+)/,Ye+"input-$1")]})],r)}return""}))}}],en=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Yt;var i,o,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var c=[Zt,Xt];var l,u,d=[Wt,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=mt(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(c.concat(r,d));o=function(e,t,n,r){l=n,Ht(Pt(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new Xe({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return p.sheet.hydrate(a),p};var tn={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nn=/[A-Z]|^ms/g,rn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,on=function(e){return 45===e.charCodeAt(1)},sn=function(e){return null!=e&&"boolean"!=typeof e},an=Kt((function(e){return on(e)?e:e.replace(nn,"-$&").toLowerCase()})),cn=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(rn,(function(e,t,n){return un={name:t,styles:n,next:un},t}))}return 1===tn[e]||on(e)||"number"!=typeof t||0===t?t:t+"px"};function ln(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return un={name:n.name,styles:n.styles,next:un},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)un={name:r.name,styles:r.styles,next:un},r=r.next;var i=n.styles+";";return i}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ln(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!=typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":sn(s)&&(r+=an(o)+":"+cn(o,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=ln(e,t,s);switch(o){case"animation":case"animationName":r+=an(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var c=0;c<s.length;c++)sn(s[c])&&(r+=an(o)+":"+cn(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=un,s=n(e);return un=o,ln(e,t,s)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var un,dn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var hn=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";un=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=ln(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=ln(n,t,e[s]),r&&(i+=o[s]);dn.lastIndex=0;for(var a,c="";null!==(a=dn.exec(i));)c+="-"+a[1];var l=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return{name:l,styles:i,next:un}};function pn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var fn=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};function mn(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function gn(e,t,n){var r=[],i=pn(e,r,n);return r.length<2?n:i+t(r)}var vn=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=e(i);else for(var s in o="",i)i[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n},bn=function(e){var t=en(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=hn(n,t.registered,void 0);return fn(t,i,!1),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return gn(t.registered,n,vn(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=hn(n,t.registered);mn(t,i)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=hn(n,t.registered),o="animation-"+i.name;return mn(t,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:pn.bind(null,t.registered),merge:gn.bind(null,t.registered,n)}}({key:"css"}),yn=bn.css;const wn=He(!1,(e=>{if("undefined"==typeof window)return()=>{};const t=`(max-width: ${Je.sm}px)`,n=window.matchMedia(t);function r(t){e(t.matches)}return e(n.matches),n.addEventListener("change",r),()=>n.removeEventListener("change",r)})),An=He(!1,(e=>{if("undefined"==typeof window)return()=>{};const t=`(max-width: ${Je.md}px)`,n=window.matchMedia(t);function r(t){e(t.matches)}return e(n.matches),n.addEventListener("change",r),()=>n.removeEventListener("change",r)})),kn=He(!1,(e=>{if("undefined"==typeof window)return()=>{};const t=`(max-width: ${Je.lg}px)`,n=window.matchMedia(t);function r(t){e(t.matches)}return e(n.matches),n.addEventListener("change",r),()=>n.removeEventListener("change",r)}));function $n(e){return"number"==typeof e?`${e}px`:e}var Vn=(e,t)=>{let n=t;return Object.entries(n).forEach((([t,n])=>{n&&e.style.setProperty(`--s-${t}`,$n(n))})),{update(t){Object.entries(t).forEach((([t,r])=>{r&&(e.style.setProperty(`--s-${t}`,$n(r)),delete n[t])})),Object.keys(n).forEach((t=>e.style.removeProperty(`--s-${t}`))),n=t}}};function xn(e){E(e,"svelte-89qv9b",'.s-icon{color:var(--theme-icons-active);font-size:var(--s-icon-size);transform:rotate(var(--s-icon-rotate));line-height:1;letter-spacing:normal;text-transform:none;display:inline-flex;font-feature-settings:"liga";justify-content:center;position:relative;align-items:center;text-indent:0;vertical-align:middle;cursor:inherit;user-select:none;direction:ltr;transition:0.3s cubic-bezier(0.25, 0.8, 0.5, 1), visibility 0s}.s-icon.disabled{color:var(--theme-icons-inactive)}.s-icon.spin{animation:s-icon-spin 1s linear infinite}.s-icon>svg{fill:currentColor}@keyframes s-icon-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}')}function In(e){let t,n,r,i=e[10]&&Cn(e);return{c(){t=N("svg"),n=N("path"),i&&i.c(),F(n,"d",e[9]),F(t,"xmlns","http://www.w3.org/2000/svg"),F(t,"width",e[0]),F(t,"height",e[1]),F(t,"viewBox",r="0 0 "+e[4]+" "+e[5])},m(e,r){R(e,t,r),C(t,n),i&&i.m(n,null)},p(e,o){e[10]?i?i.p(e,o):(i=Cn(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null),512&o&&F(n,"d",e[9]),1&o&&F(t,"width",e[0]),2&o&&F(t,"height",e[1]),48&o&&r!==(r="0 0 "+e[4]+" "+e[5])&&F(t,"viewBox",r)},d(e){e&&O(t),i&&i.d()}}}function Cn(e){let t,n;return{c(){t=N("title"),n=B(e[10])},m(e,r){R(e,t,r),C(t,n)},p(e,t){1024&t&&q(n,e[10])},d(e){e&&O(t)}}}function En(e){let t,n,r,i,o,a,c,l=e[9]&&In(e);const u=e[13].default,d=p(u,e,e[12],null);return{c(){t=M("i"),l&&l.c(),n=L(),d&&d.c(),F(t,"aria-hidden","true"),F(t,"class",r="s-icon "+e[2]),F(t,"aria-label",e[10]),F(t,"aria-disabled",e[8]),F(t,"style",e[11]),J(t,"spin",e[7]),J(t,"disabled",e[8])},m(r,s){R(r,t,s),l&&l.m(t,null),C(t,n),d&&d.m(t,null),o=!0,a||(c=w(i=Vn.call(null,t,{"icon-size":e[3],"icon-rotate":`${e[6]}deg`})),a=!0)},p(e,[a]){e[9]?l?l.p(e,a):(l=In(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),d&&d.p&&(!o||4096&a)&&g(d,u,e,e[12],o?m(u,e[12],a,null):v(e[12]),null),(!o||4&a&&r!==(r="s-icon "+e[2]))&&F(t,"class",r),(!o||1024&a)&&F(t,"aria-label",e[10]),(!o||256&a)&&F(t,"aria-disabled",e[8]),(!o||2048&a)&&F(t,"style",e[11]),i&&s(i.update)&&72&a&&i.update.call(null,{"icon-size":e[3],"icon-rotate":`${e[6]}deg`}),(!o||132&a)&&J(t,"spin",e[7]),(!o||260&a)&&J(t,"disabled",e[8])},i(e){o||(Se(d,e),o=!0)},o(e){Te(d,e),o=!1},d(e){e&&O(t),l&&l.d(),d&&d.d(e),a=!1,c()}}}function Sn(e,t,n){let{$$slots:r={},$$scope:i}=t,{class:o=""}=t,{size:s="24px"}=t,{width:a=s}=t,{height:c=s}=t,{viewWidth:l="24"}=t,{viewHeight:u="24"}=t,{rotate:d=0}=t,{spin:h=!1}=t,{disabled:p=!1}=t,{path:f=null}=t,{label:m=null}=t,{style:g=null}=t;return e.$$set=e=>{"class"in e&&n(2,o=e.class),"size"in e&&n(3,s=e.size),"width"in e&&n(0,a=e.width),"height"in e&&n(1,c=e.height),"viewWidth"in e&&n(4,l=e.viewWidth),"viewHeight"in e&&n(5,u=e.viewHeight),"rotate"in e&&n(6,d=e.rotate),"spin"in e&&n(7,h=e.spin),"disabled"in e&&n(8,p=e.disabled),"path"in e&&n(9,f=e.path),"label"in e&&n(10,m=e.label),"style"in e&&n(11,g=e.style),"$$scope"in e&&n(12,i=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&(n(0,a=s),n(1,c=s))},[a,c,o,s,l,u,d,h,p,f,m,g,i,r]}class Tn extends qe{constructor(e){super(),Ue(this,e,Sn,En,a,{class:2,size:3,width:0,height:1,viewWidth:4,viewHeight:5,rotate:6,spin:7,disabled:8,path:9,label:10,style:11},xn)}}let _n=36,Rn="";for(;_n--;)Rn+=_n.toString(36);function On(e){const t=e-1;return t*t*t+1}function Dn(e){return--e*e*e*e*e+1}function Mn(e,{delay:n=0,duration:r=400,easing:i=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:i,css:e=>"opacity: "+e*o}}function Nn(e){var{fallback:t}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["fallback"]);const i=new Map,o=new Map;function a(e,i,o){return(a,c)=>(e.set(c.key,{rect:a.getBoundingClientRect()}),()=>{if(i.has(c.key)){const{rect:e}=i.get(c.key);return i.delete(c.key),function(e,t,i){const{delay:o=0,duration:a=(e=>30*Math.sqrt(e)),easing:c=On}=n(n({},r),i),l=t.getBoundingClientRect(),u=e.left-l.left,d=e.top-l.top,h=e.width/l.width,p=e.height/l.height,f=Math.sqrt(u*u+d*d),m=getComputedStyle(t),g="none"===m.transform?"":m.transform,v=+m.opacity;return{delay:o,duration:s(a)?a(f):a,easing:c,css:(e,t)=>`\n\t\t\t\topacity: ${e*v};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${g} translate(${t*u}px,${t*d}px) scale(${e+(1-e)*h}, ${e+(1-e)*p});\n\t\t\t`}}(e,a,c)}return e.delete(c.key),t&&t(a,c,o)})}return[a(o,i,!1),a(i,o,!0)]}var Bn="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",Ln="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",Pn="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z",jn="M12,4L9.91,6.09L12,8.18M4.27,3L3,4.27L7.73,9H3V15H7L12,20V13.27L16.25,17.53C15.58,18.04 14.83,18.46 14,18.7V20.77C15.38,20.45 16.63,19.82 17.68,18.96L19.73,21L21,19.73L12,10.73M19,12C19,12.94 18.8,13.82 18.46,14.64L19.97,16.15C20.62,14.91 21,13.5 21,12C21,7.72 18,4.14 14,3.23V5.29C16.89,6.15 19,8.83 19,12M16.5,12C16.5,10.23 15.5,8.71 14,7.97V10.18L16.45,12.63C16.5,12.43 16.5,12.21 16.5,12Z";const Fn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Un={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,l=i>>2,u=(3&i)<<4|s>>4;let d=(15&s)<<2|c>>6,h=63&c;a||(h=64,o||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw Error();const c=i<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},qn=function(e){return function(e){const t=Fn(e);return Un.encodeByteArray(t,!0)}(e).replace(/\./g,"")},zn=function(e){try{return Un.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const Hn=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Wn=()=>{try{return Hn()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&zn(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Kn=e=>{var t;return null===(t=Wn())||void 0===t?void 0:t[`_${e}`]};class Gn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Jn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qn(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Zn(){try{return"object"==typeof indexedDB}catch(e){return!1}}function Xn(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class Yn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,er.prototype.create)}}class er{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(tr,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new Yn(r,s,n)}}const tr=/\{\$([^}]+)}/g;function nr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(rr(n)&&rr(o)){if(!nr(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function rr(e){return null!==e&&"object"==typeof e}function ir(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class or{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=sr),void 0===r.error&&(r.error=sr),void 0===r.complete&&(r.complete=sr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function sr(){}function ar(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function cr(e){return e&&e._delegate?e._delegate:e}class lr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ur="[DEFAULT]";class dr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Gn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:hr(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function hr(e){return e===ur?void 0:e}class pr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var fr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fr||(fr={}));const mr={debug:fr.DEBUG,verbose:fr.VERBOSE,info:fr.INFO,warn:fr.WARN,error:fr.ERROR,silent:fr.SILENT},gr=fr.INFO,vr={[fr.DEBUG]:"log",[fr.VERBOSE]:"log",[fr.INFO]:"info",[fr.WARN]:"warn",[fr.ERROR]:"error"},br=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=vr[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class yr{constructor(e){this.name=e,this._logLevel=gr,this._logHandler=br,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?mr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fr.DEBUG,...e),this._logHandler(this,fr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fr.VERBOSE,...e),this._logHandler(this,fr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fr.INFO,...e),this._logHandler(this,fr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fr.WARN,...e),this._logHandler(this,fr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fr.ERROR,...e),this._logHandler(this,fr.ERROR,...e)}}let wr,Ar;const kr=new WeakMap,$r=new WeakMap,Vr=new WeakMap,xr=new WeakMap,Ir=new WeakMap;let Cr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $r.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Vr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Er(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ar||(Ar=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(_r(this),t),Tr(kr.get(this))}:function(...t){return Tr(e.apply(_r(this),t))}:function(t,...n){const r=e.call(_r(this),t,...n);return Vr.set(r,t.sort?t.sort():[t]),Tr(r)}}function Sr(e){return"function"==typeof e?Er(e):(e instanceof IDBTransaction&&function(e){if($r.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));$r.set(e,t)}(e),t=e,(wr||(wr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Cr):e);var t}function Tr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Tr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&kr.set(t,e)})).catch((()=>{})),Ir.set(t,e),t}(e);if(xr.has(e))return xr.get(e);const t=Sr(e);return t!==e&&(xr.set(e,t),Ir.set(t,e)),t}const _r=e=>Ir.get(e);function Rr(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Tr(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Tr(s.result),e.oldVersion,e.newVersion,Tr(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}const Or=["get","getKey","getAll","getAllKeys","count"],Dr=["put","add","delete","clear"],Mr=new Map;function Nr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Mr.get(t))return Mr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Dr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Or.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return Mr.set(t,o),o}Cr=(e=>({...e,get:(t,n,r)=>Nr(t,n)||e.get(t,n,r),has:(t,n)=>!!Nr(t,n)||e.has(t,n)}))(Cr);class Br{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Lr="@firebase/app",Pr="0.9.1",jr=new yr("@firebase/app"),Fr="[DEFAULT]",Ur={[Lr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qr=new Map,zr=new Map;function Hr(e,t){try{e.container.addComponent(t)}catch(n){jr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wr(e){const t=e.name;if(zr.has(t))return jr.debug(`There were multiple attempts to register component ${t}.`),!1;zr.set(t,e);for(const t of qr.values())Hr(t,e);return!0}function Kr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Gr=new er("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new lr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const Qr="9.16.0";function Zr(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:Fr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Gr.create("bad-app-name",{appName:String(i)});var o;if(n||(n=null===(o=Wn())||void 0===o?void 0:o.config),!n)throw Gr.create("no-options");const s=qr.get(i);if(s){if(nr(n,s.options)&&nr(r,s.config))return s;throw Gr.create("duplicate-app",{appName:i})}const a=new pr(i);for(const e of zr.values())a.addComponent(e);const c=new Jr(n,r,a);return qr.set(i,c),c}function Xr(e=Fr){const t=qr.get(e);if(!t&&e===Fr)return Zr();if(!t)throw Gr.create("no-app",{appName:e});return t}function Yr(e,t,n){var r;let i=null!==(r=Ur[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void jr.warn(e.join(" "))}Wr(new lr(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const ei="firebase-heartbeat-store";let ti=null;function ni(){return ti||(ti=Rr("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ei)}}).catch((e=>{throw Gr.create("idb-open",{originalErrorMessage:e.message})}))),ti}async function ri(e,t){try{const n=(await ni()).transaction(ei,"readwrite"),r=n.objectStore(ei);return await r.put(t,ii(e)),n.done}catch(e){if(e instanceof Yn)jr.warn(e.message);else{const t=Gr.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});jr.warn(t.message)}}}function ii(e){return`${e.name}!${e.options.appId}`}class oi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ai(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=si();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=si(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ci(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ci(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=qn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function si(){return(new Date).toISOString().substring(0,10)}class ai{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Zn()&&Xn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{return(await ni()).transaction(ei).objectStore(ei).get(ii(e))}catch(e){if(e instanceof Yn)jr.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});jr.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ci(e){return qn(JSON.stringify({version:2,heartbeats:e})).length}var li;li="",Wr(new lr("platform-logger",(e=>new Br(e)),"PRIVATE")),Wr(new lr("heartbeat",(e=>new oi(e)),"PRIVATE")),Yr(Lr,Pr,li),Yr(Lr,Pr,"esm2017"),Yr("fire-js","");function ui(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function di(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Yr("firebase","9.16.0","app");const hi=di,pi=new er("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fi=new yr("@firebase/auth");function mi(e,...t){fi.logLevel<=fr.ERROR&&fi.error(`Auth (${Qr}): ${e}`,...t)}function gi(e,...t){throw bi(e,...t)}function vi(e,...t){return bi(e,...t)}function bi(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return pi.create(e,...t)}function yi(e,t,...n){if(!e)throw bi(t,...n)}function wi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mi(t),new Error(t)}function Ai(e,t){e||wi(t)}const ki=new Map;function $i(e){Ai(e instanceof Function,"Expected a class definition");let t=ki.get(e);return t?(Ai(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ki.set(e,t),t)}function Vi(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xi(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ii(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==xi()&&"https:"!==xi()&&!Qn()&&!("connection"in navigator)||navigator.onLine}class Ci{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ai(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Ii()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ei(e,t){Ai(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Si{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ti={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_i=new Ci(3e4,6e4);function Ri(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Oi(e,t,n,r,i={}){return Di(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=ir(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Si.fetch()(Ni(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Di(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ti),t);try{const t=new Bi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Li(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Li(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Li(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Li(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw function(e,t,n){const r=Object.assign(Object.assign({},hi()),{[t]:n});return new er("auth","Firebase",r).create(t,{appName:e.name})}(e,a,s);gi(e,a)}}catch(t){if(t instanceof Yn)throw t;gi(e,"network-request-failed")}}async function Mi(e,t,n,r,i={}){const o=await Oi(e,t,n,r,i);return"mfaPendingCredential"in o&&gi(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Ni(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Ei(e.config,i):`${e.config.apiScheme}://${i}`}class Bi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(vi(this.auth,"network-request-failed"))),_i.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Li(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vi(e,t,r);return i.customData._tokenResponse=n,i}function Pi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function ji(e){return 1e3*Number(e)}function Fi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return mi("JWT malformed, contained fewer than 3 sections"),null;try{const e=zn(n);return e?JSON.parse(e):(mi("Failed to decode base64 JWT payload"),null)}catch(e){return mi("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function Ui(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Yn&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class qi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class zi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pi(this.lastLoginAt),this.creationTime=Pi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ui(e,async function(e,t){return Oi(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));yi(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=ui(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zi(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}class Wi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yi(e.idToken,"internal-error"),yi(void 0!==e.idToken,"internal-error"),yi(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Fi(e);return yi(t,"internal-error"),yi(void 0!==t.exp,"internal-error"),yi(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return yi(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Di(e,{},(async()=>{const n=ir({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Ni(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Si.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Wi;return n&&(yi("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(yi("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(yi("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wi,this.toJSON())}_performRefresh(){return wi("not implemented")}}function Ki(e,t){yi("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Gi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ui(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ui(this,this.stsTokenManager.getToken(this.auth,e));return yi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=cr(e),r=await n.getIdToken(t),i=Fi(r);yi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Pi(ji(i.auth_time)),issuedAtTime:Pi(ji(i.iat)),expirationTime:Pi(ji(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=cr(e);await Hi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(yi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){yi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Hi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ui(this,async function(e,t){return Oi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:y,isAnonymous:w,providerData:A,stsTokenManager:k}=t;yi(b&&k,e,"internal-error");const $=Wi.fromJSON(this.name,k);yi("string"==typeof b,e,"internal-error"),Ki(u,e.name),Ki(d,e.name),yi("boolean"==typeof y,e,"internal-error"),yi("boolean"==typeof w,e,"internal-error"),Ki(h,e.name),Ki(p,e.name),Ki(f,e.name),Ki(m,e.name),Ki(g,e.name),Ki(v,e.name);const V=new Gi({uid:b,auth:e,email:d,emailVerified:y,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:$,createdAt:g,lastLoginAt:v});return A&&Array.isArray(A)&&(V.providerData=A.map((e=>Object.assign({},e)))),m&&(V._redirectEventId=m),V}static async _fromIdTokenResponse(e,t,n=!1){const r=new Wi;r.updateFromServerResponse(t);const i=new Gi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Hi(i),i}}class Ji{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ji.type="NONE";const Qi=Ji;function Zi(e,t,n){return`firebase:${e}:${t}:${n}`}class Xi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Zi(this.userKey,r.apiKey,i),this.fullPersistenceKey=Zi("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Xi($i(Qi),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||$i(Qi);const o=Zi(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=Gi._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new Xi(i,e,n)):new Xi(i,e,n)}}function Yi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ro(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oo(t))return"Blackberry";if(so(t))return"Webos";if(to(t))return"Safari";if((t.includes("chrome/")||no(t))&&!t.includes("edge/"))return"Chrome";if(io(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function eo(e=Jn()){return/firefox\//i.test(e)}function to(e=Jn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function no(e=Jn()){return/crios\//i.test(e)}function ro(e=Jn()){return/iemobile/i.test(e)}function io(e=Jn()){return/android/i.test(e)}function oo(e=Jn()){return/blackberry/i.test(e)}function so(e=Jn()){return/webos/i.test(e)}function ao(e=Jn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function co(){return function(){const e=Jn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function lo(e=Jn()){return ao(e)||io(e)||so(e)||oo(e)||/windows phone/i.test(e)||ro(e)}function uo(e,t=[]){let n;switch(e){case"Browser":n=Yi(Jn());break;case"Worker":n=`${Yi(Jn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qr}/${r}`}class ho{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class po{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mo(this),this.idTokenSubscription=new mo(this),this.beforeStateQueue=new ho(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$i(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Xi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hi(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?cr(e):null;return t&&yi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&yi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence($i(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new er("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$i(e)||this._popupRedirectResolver;yi(t,this,"argument-error"),this.redirectPersistenceManager=await Xi.create(this,[$i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return yi(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function fo(e){return cr(e)}class mo{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new or(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return yi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function go(e,t,n){const r=fo(e);yi(r._canInitEmulator,r,"emulator-config-failed"),yi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=vo(t),{host:s,port:a}=function(e){const t=vo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:bo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:bo(t)}}}(t),c=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vo(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function bo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class yo{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,t){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function wo(e,t){return Mi(e,"POST","/v1/accounts:signInWithIdp",Ri(e,t))}class Ao extends yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ui(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ao(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return wo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,wo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ir(t)}return e}}class ko{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $o extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vo extends $o{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch(e){return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vo.PROVIDER_ID="facebook.com";class xo extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ao._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return xo.credential(t,n)}catch(e){return null}}}xo.GOOGLE_SIGN_IN_METHOD="google.com",xo.PROVIDER_ID="google.com";class Io extends $o{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch(e){return null}}}Io.GITHUB_SIGN_IN_METHOD="github.com",Io.PROVIDER_ID="github.com";class Co extends $o{constructor(){super("twitter.com")}static credential(e,t){return Ao._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Co.credential(t,n)}catch(e){return null}}}Co.TWITTER_SIGN_IN_METHOD="twitter.com",Co.PROVIDER_ID="twitter.com";class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Gi._fromIdTokenResponse(e,n,r),o=So(n);return new Eo({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=So(n);return new Eo({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function So(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function To(e){var t;const n=fo(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Eo({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await async function(e,t){return Mi(e,"POST","/v1/accounts:signUp",Ri(e,t))}(n,{returnSecureToken:!0}),i=await Eo._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class _o extends Yn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,_o.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new _o(e,t,n,r)}}function Ro(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw _o._fromErrorAndOperation(e,n,t,r);throw n}))}const Oo="__sak";class Do{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oo,"1"),this.storage.removeItem(Oo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Mo extends Do{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Jn();return to(e)||ao(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=lo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);co()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mo.type="LOCAL";const No=Mo;class Bo extends Do{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Bo.type="SESSION";const Lo=Bo;class Po{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Po(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function jo(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Po.receivers=[];class Fo{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=jo("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Uo(){return window}function qo(){return void 0!==Uo().WorkerGlobalScope&&"function"==typeof Uo().importScripts}const zo="firebaseLocalStorageDb",Ho="firebaseLocalStorage",Wo="fbase_key";class Ko{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Go(e,t){return e.transaction([Ho],t?"readwrite":"readonly").objectStore(Ho)}function Jo(){const e=indexedDB.open(zo,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ho,{keyPath:Wo})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ho)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zo);return new Ko(e).toPromise()}(),t(await Jo()))}))}))}async function Qo(e,t,n){const r=Go(e,!0).put({[Wo]:t,value:n});return new Ko(r).toPromise()}function Zo(e,t){const n=Go(e,!0).delete(t);return new Ko(n).toPromise()}class Xo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Jo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Po._getInstance(qo()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Fo(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jo();return await Qo(e,Oo,"1"),await Zo(e,Oo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Qo(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Go(e,!1).get(t),r=await new Ko(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Zo(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Go(e,!1).getAll();return new Ko(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Xo.type="LOCAL";const Yo=Xo;function es(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=vi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}new Ci(3e4,6e4);class ts extends yo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ns(e){return async function(e,t,n=!1){const r="signIn",i=await Ro(e,r,t),o=await Eo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}(e.auth,new ts(e),e.bypassAuthState)}function rs(e){const{auth:t,user:n}=e;return yi(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Ui(e,Ro(r,i,t,e),n);yi(o.idToken,r,"internal-error");const s=Fi(o.idToken);yi(s,r,"internal-error");const{sub:a}=s;return yi(e.uid===a,r,"user-mismatch"),Eo._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&gi(r,"user-mismatch"),e}}(n,new ts(e),e.bypassAuthState)}async function is(e){const{auth:t,user:n}=e;return yi(n,t,"internal-error"),async function(e,t,n=!1){const r=await Ui(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Eo._forOperation(e,"link",r)}(n,new ts(e),e.bypassAuthState)}class os{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ns;case"linkViaPopup":case"linkViaRedirect":return is;case"reauthViaPopup":case"reauthViaRedirect":return rs;default:gi(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ss=new Ci(2e3,1e4);class as extends os{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,as.currentPopupAction&&as.currentPopupAction.cancel(),as.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yi(e,this.auth,"internal-error"),e}async onExecution(){Ai(1===this.filter.length,"Popup operations only handle one event");const e=jo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(vi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,as.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,ss.get())};e()}}as.currentPopupAction=null;const cs="pendingRedirect",ls=new Map;class us extends os{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ls.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return Zi(cs,e.config.apiKey,e.name)}(t),r=function(e){return $i(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ls.set(this.auth._key(),e)}return this.bypassAuthState||ls.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ds(e,t){ls.set(e._key(),t)}async function hs(e,t,n=!1){const r=fo(e),i=function(e,t){return t?$i(t):(yi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new us(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class ps{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ms(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ms(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fs(e))}saveEventToCache(e){this.cachedEventUids.add(fs(e)),this.lastProcessedEventTime=Date.now()}}function fs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ms({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const gs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vs=/^https?/;async function bs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Oi(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(ys(e))return}catch(e){}gi(e,"unauthorized-domain")}function ys(e){const t=Vi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!vs.test(n))return!1;if(gs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ws=new Ci(3e4,6e4);function As(){const e=Uo().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function ks(e){return new Promise(((t,n)=>{var r,i,o;function s(){As(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{As(),n(vi(e,"network-request-failed"))},timeout:ws.get()})}if(null===(i=null===(r=Uo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Uo().gapi)||void 0===o?void 0:o.load)){const t=function(e){return`__${e}${Math.floor(1e6*Math.random())}`}("iframefcb");return Uo()[t]=()=>{gapi.load?s():n(vi(e,"network-request-failed"))},es(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw $s=null,e}))}let $s=null;const Vs=new Ci(5e3,15e3),xs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Is=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cs(e){const t=e.config;yi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ei(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Qr},i=Is.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ir(r).slice(1)}`}async function Es(e){const t=await function(e){return $s=$s||ks(e),$s}(e),n=Uo().gapi;return yi(n,e,"internal-error"),t.open({where:document.body,url:Cs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=vi(e,"network-request-failed"),o=Uo().setTimeout((()=>{r(i)}),Vs.get());function s(){Uo().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Ss={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ts{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function _s(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Ss),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Jn().toLowerCase();n&&(a=no(l)?"_blank":n),eo(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Jn()){var t;return ao(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ts(null);const d=window.open(t||"",a,u);yi(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Ts(d)}const Rs="__/auth/handler",Os="emulator/auth/handler";function Ds(e,t,n,r,i,o){yi(e.config.authDomain,e,"auth-domain-config-required"),yi(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qr,eventId:i};if(t instanceof ko){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof $o){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Rs}`;return Ei(e,Os)}(e)}?${ir(a).slice(1)}`}const Ms="webStorageSupport";const Ns=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lo,this._completeRedirectFn=hs,this._overrideRedirectResult=ds}async _openPopup(e,t,n,r){var i;Ai(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return _s(e,Ds(e,t,n,Vi(),r),jo())}async _openRedirect(e,t,n,r){return await this._originValidation(e),function(e){Uo().location.href=e}(Ds(e,t,n,Vi(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ai(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Es(e),n=new ps(e);return t.register("authEvent",(t=>{yi(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ms,{type:Ms},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Ms];void 0!==i&&t(!!i),gi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lo()||to()||ao()}};var Bs="@firebase/auth",Ls="0.21.1";class Ps{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){yi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const js=Kn("authIdTokenMaxAge")||300;let Fs=null;var Us;Us="Browser",Wr(new lr("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=n.options;return((e,n)=>{yi(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),yi(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:o,clientPlatform:Us,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uo(Us)},s=new po(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($i);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Wr(new lr("auth-internal",(e=>(e=>new Ps(e))(fo(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(Bs,Ls,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Us)),Yr(Bs,Ls,"esm2017");const qs="@firebase/installations",zs="0.6.1",Hs=1e4,Ws=`w:${zs}`,Ks="FIS_v2",Gs=36e5,Js=new er("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qs(e){return e instanceof Yn&&e.code.includes("request-failed")}function Zs({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Xs(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Ys(e,t){const n=(await t.json()).error;return Js.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ea({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function ta(e,{refreshToken:t}){const n=ea(e);return n.append("Authorization",function(e){return`${Ks} ${e}`}(t)),n}async function na(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ra(e){return new Promise((t=>{setTimeout(t,e)}))}const ia=/^[cdef][\w-]{21}$/;function oa(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ia.test(t)?t:""}catch(e){return""}}function sa(e){return`${e.appName}!${e.appId}`}const aa=new Map;function ca(e,t){const n=sa(e);la(n,t),function(e,t){const n=function(){!ua&&"BroadcastChannel"in self&&(ua=new BroadcastChannel("[Firebase] FID Change"),ua.onmessage=e=>{la(e.data.key,e.data.fid)});return ua}();n&&n.postMessage({key:e,fid:t});0===aa.size&&ua&&(ua.close(),ua=null)}(n,t)}function la(e,t){const n=aa.get(e);if(n)for(const e of n)e(t)}let ua=null;const da="firebase-installations-store";let ha=null;function pa(){return ha||(ha=Rr("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(da)}})),ha}async function fa(e,t){const n=sa(e),r=(await pa()).transaction(da,"readwrite"),i=r.objectStore(da),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||ca(e,t.fid),t}async function ma(e){const t=sa(e),n=(await pa()).transaction(da,"readwrite");await n.objectStore(da).delete(t),await n.done}async function ga(e,t){const n=sa(e),r=(await pa()).transaction(da,"readwrite"),i=r.objectStore(da),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||ca(e,s.fid),s}async function va(e){let t;const n=await ga(e.appConfig,(n=>{const r=function(e){const t=e||{fid:oa(),registrationStatus:0};return wa(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Js.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Zs(e),i=ea(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={fid:n,authVersion:Ks,appId:e.appId,sdkVersion:Ws},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await na((()=>fetch(r,a)));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Xs(e.authToken)}}throw await Ys("Create Installation",c)}(e,t);return fa(e.appConfig,n)}catch(n){throw Qs(n)&&409===n.customData.serverCode?await ma(e.appConfig):await fa(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ba(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ba(e){let t=await ya(e.appConfig);for(;1===t.registrationStatus;)await ra(100),t=await ya(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await va(e);return n||t}return t}function ya(e){return ga(e,(e=>{if(!e)throw Js.create("installation-not-found");return wa(e)}))}function wa(e){return 1===(t=e).registrationStatus&&t.registrationTime+Hs<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Aa({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${Zs(e)}/${t}/authTokens:generate`}(e,n),i=ta(e,n),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:Ws,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await na((()=>fetch(r,a)));if(c.ok){return Xs(await c.json())}throw await Ys("Generate Auth Token",c)}async function ka(e,t=!1){let n;const r=await ga(e.appConfig,(r=>{if(!Va(r))throw Js.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Gs}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,t){let n=await $a(e.appConfig);for(;1===n.authToken.requestStatus;)await ra(100),n=await $a(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ka(e,t):r}(e,t),r;{if(!navigator.onLine)throw Js.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Aa(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await fa(e.appConfig,r),n}catch(n){if(!Qs(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await fa(e.appConfig,n)}else await ma(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function $a(e){return ga(e,(e=>{if(!Va(e))throw Js.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Hs<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Va(e){return void 0!==e&&2===e.registrationStatus}async function xa(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await va(e);t&&await t}(n);return(await ka(n,t)).token}function Ia(e){return Js.create("missing-app-config-values",{valueName:e})}const Ca="installations",Ea=e=>{const t=Kr(e.getProvider("app").getImmediate(),Ca).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await va(t);return r?r.catch(console.error):ka(t).catch(console.error),n.fid}(t),getToken:e=>xa(t,e)}};Wr(new lr(Ca,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ia("App Configuration");if(!e.name)throw Ia("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ia(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Kr(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),Wr(new lr("installations-internal",Ea,"PRIVATE")),Yr(qs,zs),Yr(qs,zs,"esm2017");const Sa="analytics",Ta="https://www.googletagmanager.com/gtag/js",_a=new yr("@firebase/analytics");function Ra(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Oa(e,t,n,r){return async function(i,o,s){try{"event"===i?await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Ra(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(e){_a.error(e)}}(e,t,n,o,s):"config"===i?await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await Ra(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(e){_a.error(e)}e("config",i,o)}(e,t,n,r,o,s):"consent"===i?e("consent","update",s):e("set",o)}catch(e){_a.error(e)}}}const Da=new er("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'});const Ma=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Na(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ba(e,t=Ma,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Da.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Da.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Pa;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),La({appId:r,apiKey:i,measurementId:o},s,a,t)}async function La(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Ma){var o;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(Da.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(e){if(a)return _a.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:s,measurementId:a};throw e}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Na(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw Da.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return i.deleteThrottleMetadata(s),t}catch(t){const c=t;if(!function(e){if(!(e instanceof Yn&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c)){if(i.deleteThrottleMetadata(s),a)return _a.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:s,measurementId:a};throw t}const l=503===Number(null===(o=null==c?void 0:c.customData)||void 0===o?void 0:o.httpStatus)?ar(n,i.intervalMillis,30):ar(n,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,u),_a.debug(`Calling attemptFetch again in ${l} millis`),La(e,u,r,i)}}class Pa{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function ja(e,t,n,r,i,o,s){var a;const c=Ba(e);c.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&_a.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>_a.error(e))),t.push(c);const l=async function(){if(!Zn())return _a.warn(Da.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Xn()}catch(e){return _a.warn(Da.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([c,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ta)&&n.src.includes(e))return n;return null})(o)||function(e,t){const n=document.createElement("script");n.src=`${Ta}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),i("js",new Date);const h=null!==(a=null==s?void 0:s.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),u.measurementId}class Fa{constructor(e){this.app=e}_delete(){return delete Ua[this.app.options.appId],Promise.resolve()}}let Ua={},qa=[];const za={};let Ha,Wa,Ka="dataLayer",Ga=!1;function Ja(){const e=[];if(Qn()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Da.create("invalid-analytics-context",{errorInfo:t});_a.warn(n.message)}}function Qa(e,t,n){Ja();const r=e.options.appId;if(!r)throw Da.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Da.create("no-api-key");_a.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ua[r])throw Da.create("already-exists",{id:r});if(!Ga){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ka);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=Oa(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Ua,qa,za,Ka,"gtag");Wa=e,Ha=t,Ga=!0}Ua[r]=ja(e,qa,za,t,Ha,Ka,n);return new Fa(e)}function Za(e,t,n,r){e=cr(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Wa,Ua[e.app.options.appId],t,n,r).catch((e=>_a.error(e)))}const Xa="@firebase/analytics",Ya="0.9.1";Wr(new lr(Sa,((e,{options:t})=>Qa(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),Wr(new lr("analytics-internal",(function(e){try{const t=e.getProvider(Sa).getImmediate();return{logEvent:(e,n,r)=>Za(t,e,n,r)}}catch(e){throw Da.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),Yr(Xa,Ya),Yr(Xa,Ya,"esm2017");const ec=Zr({apiKey:"AIzaSyAAHPLHRq3DlaolD-hcgvd8rcf48Va2ZgE",authDomain:"tykhe-chat.firebaseapp.com",projectId:"tykhe-chat",storageBucket:"tykhe-chat.appspot.com",messagingSenderId:"172724651449",appId:"1:172724651449:web:c6d3e63907264a1c06a268",measurementId:"G-V7YBQKWZSW"});!function(e=Xr()){const t=Kr(e=cr(e),Sa);t.isInitialized()?t.getImmediate():function(e,t={}){const n=Kr(e,Sa);if(n.isInitialized()){const e=n.getImmediate();if(nr(t,n.getOptions()))return e;throw Da.create("already-initialized")}const r=n.initialize({options:t})}(e)}(ec);const tc=function(e=Xr()){const t=Kr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(nr(n.getOptions(),null!=t?t:{}))return e;gi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ns,persistence:[Yo,No,Lo]}),r=Kn("authTokenSyncURL");if(r){const e=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>js)return;const i=null==n?void 0:n.token;Fs!==i&&(Fs=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))})(r);!function(e,t,n){cr(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){cr(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}const i=(o="auth",null===(a=null===(s=Wn())||void 0===s?void 0:s.emulatorHosts)||void 0===a?void 0:a[o]);var o,s,a;return i&&go(n,`http://${i}`),n}(ec);new xo;(new Vo).addScope("user_birthday");const nc=We([]),rc=We([]),ic=We({lastPage:!1,page:1}),oc=We(null),sc=We(""),ac=We(!1),cc=We(!1),lc=He({user:null,isLoggedIn:!1},(e=>tc.onAuthStateChanged((async t=>{e(t?{user:t,isLoggedIn:!0}:{user:null,isLoggedIn:!1})})))),uc=We(""),dc=We(!0);function hc(e){E(e,"svelte-190vjkm",".header.svelte-190vjkm{display:flex;align-items:center;margin-left:16px}.title.svelte-190vjkm{margin-left:16px}.iconButton.svelte-190vjkm{cursor:pointer;background-color:transparent;border-radius:50px;color:white;margin-right:16px;margin-bottom:0;border:0 transparent}.iconButtonLeft.svelte-190vjkm{cursor:pointer;background-color:transparent;border-radius:50px;color:white;margin-bottom:0;border:0 transparent}.headerDiv.svelte-190vjkm{width:100%;height:56px;min-height:56px;display:flex;justify-content:space-between;align-items:center}")}function pc(e){let t,n;return{c(){t=M("img"),l(t.src,n=e[2])||F(t,"src",n),F(t,"alt","Imagem do atendente virtual"),F(t,"height","44px"),F(t,"width","44px"),H(t,"object-fit","cover"),H(t,"border-radius","16px"),H(t,"margin-right","8px")},m(e,n){R(e,t,n)},p(e,r){4&r&&!l(t.src,n=e[2])&&F(t,"src",n)},d(e){e&&O(t)}}}function fc(e){let t,n,r,i,s,a,c,l,u,d,h,p,f,m,g,v,y,w=(""!==e[0]?e[0]:"Fale Conosco")+"",A=""!==e[2]&&pc(e);return d=new Tn({props:{path:e[4]?Pn:jn}}),f=new Tn({props:{path:e[1]?Bn:Ln}}),{c(){t=M("div"),n=M("div"),A&&A.c(),r=L(),i=M("div"),s=B(w),c=L(),l=M("div"),u=M("button"),Le(d.$$.fragment),h=L(),p=M("button"),Le(f.$$.fragment),F(n,"class",a=b(""===e[0]?"title":"header")+" svelte-190vjkm"),F(u,"class","iconButtonLeft svelte-190vjkm"),F(p,"class","iconButton svelte-190vjkm"),H(l,"display","flex"),H(l,"align-items","center"),F(t,"class",m=b([e[3],"headerDiv"].join(" "))+" svelte-190vjkm")},m(o,a){R(o,t,a),C(t,n),A&&A.m(n,null),C(n,r),C(n,i),C(i,s),C(t,c),C(t,l),C(l,u),Pe(d,u,null),C(l,h),C(l,p),Pe(f,p,null),g=!0,v||(y=[j(u,"click",e[9]),j(p,"click",e[10])],v=!0)},p(e,[i]){""!==e[2]?A?A.p(e,i):(A=pc(e),A.c(),A.m(n,r)):A&&(A.d(1),A=null),(!g||1&i)&&w!==(w=(""!==e[0]?e[0]:"Fale Conosco")+"")&&q(s,w),(!g||1&i&&a!==(a=b(""===e[0]?"title":"header")+" svelte-190vjkm"))&&F(n,"class",a);const o={};16&i&&(o.path=e[4]?Pn:jn),d.$set(o);const c={};2&i&&(c.path=e[1]?Bn:Ln),f.$set(c),(!g||8&i&&m!==(m=b([e[3],"headerDiv"].join(" "))+" svelte-190vjkm"))&&F(t,"class",m)},i(e){g||(Se(d.$$.fragment,e),Se(f.$$.fragment,e),g=!0)},o(e){Te(d.$$.fragment,e),Te(f.$$.fragment,e),g=!1},d(e){e&&O(t),A&&A.d(),je(d),je(f),v=!1,o(y)}}}function mc(e,t,n){let r,i,o;h(e,Ke,(e=>n(7,r=e))),h(e,wn,(e=>n(8,i=e))),h(e,dc,(e=>n(4,o=e)));let{title:s}=t,{isOpened:a}=t,{image:c}=t;const l=ae();function u(){l("open",{status:a?"close":"open"})}function d(){dc.update((e=>!e))}let p;return e.$$set=e=>{"title"in e&&n(0,s=e.title),"isOpened"in e&&n(1,a=e.isOpened),"image"in e&&n(2,c=e.image)},e.$$.update=()=>{384&e.$$.dirty&&n(3,p=yn`
    background-color: ${r.palette.primary.dark};
    color: ${r.headerTextColor};
    border-radius: ${i?0:r.shape.borderRadius}
      ${i?0:r.shape.borderRadius} 0 0;
  `)},[s,a,c,p,o,u,d,r,i,()=>d(),()=>u()]}class gc extends qe{constructor(e){super(),Ue(this,e,mc,fc,a,{title:0,isOpened:1,image:2},hc)}}function vc(e){E(e,"svelte-1hwjdnd",".bodyDiv.svelte-1hwjdnd{display:flex;flex-direction:column-reverse;flex-grow:1;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;transition:all 0.5s ease-in-out}.bodyDiv.svelte-1hwjdnd::-webkit-scrollbar{display:none}")}function bc(e){let t,n,r;const i=e[4].default,o=p(i,e,e[3],null);return{c(){t=M("div"),o&&o.c(),F(t,"class",n=b([e[1].bodyDiv,"bodyDiv"].join(" "))+" svelte-1hwjdnd")},m(n,i){R(n,t,i),o&&o.m(t,null),e[5](t),r=!0},p(e,[s]){o&&o.p&&(!r||8&s)&&g(o,i,e,e[3],r?m(i,e[3],s,null):v(e[3]),null),(!r||2&s&&n!==(n=b([e[1].bodyDiv,"bodyDiv"].join(" "))+" svelte-1hwjdnd"))&&F(t,"class",n)},i(e){r||(Se(o,e),r=!0)},o(e){Te(o,e),r=!1},d(n){n&&O(t),o&&o.d(n),e[5](null)}}}function yc(e,t,n){let r;h(e,Ke,(e=>n(2,r=e)));let{$$slots:i={},$$scope:o}=t,{bodyRef:s}=t,a={};return e.$$set=e=>{"bodyRef"in e&&n(0,s=e.bodyRef),"$$scope"in e&&n(3,o=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&n(1,a={bodyDiv:yn`background-color: ${r.palette.background.default};`})},[s,a,r,o,i,function(e){de[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class wc extends qe{constructor(e){super(),Ue(this,e,yc,bc,a,{bodyRef:0},vc)}}function Ac(e){let t,n,r=`${e[1]} `;return{c(){t=M("a"),n=B(r),F(t,"target","_blank"),F(t,"class",e[5]),F(t,"rel","noreferrer"),F(t,"href",e[4])},m(e,r){R(e,t,r),C(t,n)},p(e,i){2&i&&r!==(r=`${e[1]} `)&&q(n,r),16&i&&F(t,"href",e[4])},d(e){e&&O(t)}}}function kc(e){let t,n,r=`${e[1]} `;return{c(){t=M("a"),n=B(r),F(t,"target","_blank"),F(t,"class",e[5]),F(t,"rel","noreferrer"),F(t,"href",e[1])},m(e,r){R(e,t,r),C(t,n)},p(e,i){2&i&&r!==(r=`${e[1]} `)&&q(n,r),2&i&&F(t,"href",e[1])},d(e){e&&O(t)}}}function $c(e){let t;function n(e,t){return e[2]||e[3]?xc:Vc}let r=n(e),i=r(e);return{c(){i.c(),t=P()},m(e,n){i.m(e,n),R(e,t,n)},p(e,o){r===(r=n(e))&&i?i.p(e,o):(i.d(1),i=r(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&O(t)}}}function Vc(e){let t,n=`${e[1]} `;return{c(){t=B(n)},m(e,n){R(e,t,n)},p(e,r){2&r&&n!==(n=`${e[1]} `)&&q(t,n)},d(e){e&&O(t)}}}function xc(e){let t,n,r=`${e[1]} `;return{c(){t=M("span"),n=B(r),F(t,"class",e[6])},m(e,r){R(e,t,r),C(t,n)},p(e,t){2&t&&r!==(r=`${e[1]} `)&&q(n,r)},d(e){e&&O(t)}}}function Ic(t){let n;function r(e,t){return"text"===e[0]?$c:"link"===e[0]?kc:"file"===e[0]?Ac:void 0}let i=r(t),o=i&&i(t);return{c(){o&&o.c(),n=P()},m(e,t){o&&o.m(e,t),R(e,n,t)},p(e,[t]){i===(i=r(e))&&o?o.p(e,t):(o&&o.d(1),o=i&&i(e),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(e){o&&o.d(e),e&&O(n)}}}function Cc(e,t,n){let{type:r}=t,{content:i}=t,{bold:o}=t,{italic:s}=t,{downloadLink:a}=t;const c=yn`text-decoration: underline; overflow-wrap: break-word;`,l=yn`font-weight: ${o?"bold":"unset"};
    font-style: ${s?"italic":"unset"};`;return e.$$set=e=>{"type"in e&&n(0,r=e.type),"content"in e&&n(1,i=e.content),"bold"in e&&n(2,o=e.bold),"italic"in e&&n(3,s=e.italic),"downloadLink"in e&&n(4,a=e.downloadLink)},[r,i,o,s,a,c,l]}class Ec extends qe{constructor(e){super(),Ue(this,e,Cc,Ic,a,{type:0,content:1,bold:2,italic:3,downloadLink:4})}}function Sc(e){const t={mp4:"video/mp4",ogv:"video/ogg",webm:"video/webm"},n=(e.match(/\.([^.]*?)(?=\?|#|$)/)||[])[1];if(n in t)return t[n]}async function Tc(e){return new Promise(((t,n)=>{if(e){const n=new Image;n.addEventListener("load",(()=>{t(n)}),{once:!0}),n.addEventListener("error",(()=>{t()}),{once:!0}),n.src=e}else t()}))}function _c(e){E(e,"svelte-fde6bj",".poster.svelte-fde6bj{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}")}function Rc(t){let n,r;return{c(){n=M("img"),l(n.src,r=t[0])||F(n,"src",r),F(n,"class","poster svelte-fde6bj"),F(n,"alt","poster"),F(n,"onerror","this.style.display='none'")},m(e,t){R(e,n,t)},p(e,[t]){1&t&&!l(n.src,r=e[0])&&F(n,"src",r)},i:e,o:e,d(e){e&&O(n)}}}function Oc(e,t,n){let{src:r}=t;return e.$$set=e=>{"src"in e&&n(0,r=e.src)},[r]}class Dc extends qe{constructor(e){super(),Ue(this,e,Oc,Rc,a,{src:0},_c)}}function Mc(e){E(e,"svelte-h6eqmh",".overlay.svelte-h6eqmh{z-index:2147483647;position:absolute;width:100%;height:100%;top:0;left:0}")}function Nc(e){let t,n;const r=e[1].default,i=p(r,e,e[0],null);return{c(){t=M("div"),i&&i.c(),F(t,"class","overlay svelte-h6eqmh")},m(e,r){R(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&g(i,r,e,e[0],n?m(r,e[0],t,null):v(e[0]),null)},i(e){n||(Se(i,e),n=!0)},o(e){Te(i,e),n=!1},d(e){e&&O(t),i&&i.d(e)}}}function Bc(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}class Lc extends qe{constructor(e){super(),Ue(this,e,Bc,Nc,a,{},Mc)}}function Pc(e){E(e,"svelte-1na3hbp",".play-pause-icon.svelte-1na3hbp{position:absolute}")}function jc(t){let n,r,i,o,s,a,c,l,u;return{c(){n=M("div"),r=N("svg"),i=N("path"),a=N("path"),F(i,"visibility",o=t[2]?"hidden":"visible"),F(i,"d","M40 29v42M60 29v42"),F(i,"stroke",s=t[3].iconColor),F(i,"stroke-width","5"),F(a,"visibility",c=t[2]?"visible":"hidden"),F(a,"d","M40 29v42l26-21-26-21z"),F(a,"fill",l=t[1]?t[3].iconColor:"none"),F(a,"stroke",u=t[3].iconColor),F(a,"stroke-width","5"),F(r,"viewBox","0 0 100 100"),F(r,"width","100%"),F(r,"stroke-linecap","round"),F(r,"stroke-linejoin","round"),F(n,"class","play-pause-icon svelte-1na3hbp"),H(n,"width",t[0])},m(e,t){R(e,n,t),C(n,r),C(r,i),C(r,a)},p(e,[t]){4&t&&o!==(o=e[2]?"hidden":"visible")&&F(i,"visibility",o),8&t&&s!==(s=e[3].iconColor)&&F(i,"stroke",s),4&t&&c!==(c=e[2]?"visible":"hidden")&&F(a,"visibility",c),10&t&&l!==(l=e[1]?e[3].iconColor:"none")&&F(a,"fill",l),8&t&&u!==(u=e[3].iconColor)&&F(a,"stroke",u),1&t&&H(n,"width",e[0])},i:e,o:e,d(e){e&&O(n)}}}function Fc(e,t,n){let r,{size:i="100%"}=t,{filled:o=!1}=t,{paused:s}=t;const a=ce("config");return h(e,a,(e=>n(3,r=e))),e.$$set=e=>{"size"in e&&n(0,i=e.size),"filled"in e&&n(1,o=e.filled),"paused"in e&&n(2,s=e.paused)},[i,o,s,r,a]}class Uc extends qe{constructor(e){super(),Ue(this,e,Fc,jc,a,{size:0,filled:1,paused:2},Pc)}}function qc(e){E(e,"svelte-1yuiuyr",".player-icon.svelte-1yuiuyr{box-sizing:border-box;position:relative;width:100%;height:100%;border-style:none;border-radius:9999px;border-width:2px}")}function zc(e){let t,n,r,i;return n=new Uc({props:{paused:!0}}),{c(){t=M("div"),Le(n.$$.fragment),F(t,"class","player-icon svelte-1yuiuyr"),H(t,"background-color",e[1].color),H(t,"border-color",e[1].focusColor)},m(e,r){R(e,t,r),Pe(n,t,null),i=!0},p(e,n){(!i||2&n)&&H(t,"background-color",e[1].color),(!i||2&n)&&H(t,"border-color",e[1].focusColor)},i(e){i||(Se(n.$$.fragment,e),ge((()=>{r||(r=De(t,Mn,{duration:500},!0)),r.run(1)})),i=!0)},o(e){Te(n.$$.fragment,e),r||(r=De(t,Mn,{duration:500},!1)),r.run(0),i=!1},d(e){e&&O(t),je(n),e&&r&&r.end()}}}function Hc(e){let t,n,r=!e[0]&&zc(e);return{c(){r&&r.c(),t=P()},m(e,i){r&&r.m(e,i),R(e,t,i),n=!0},p(e,[n]){e[0]?r&&(Ce(),Te(r,1,1,(()=>{r=null})),Ee()):r?(r.p(e,n),1&n&&Se(r,1)):(r=zc(e),r.c(),Se(r,1),r.m(t.parentNode,t))},i(e){n||(Se(r),n=!0)},o(e){Te(r),n=!1},d(e){r&&r.d(e),e&&O(t)}}}function Wc(e,t,n){let r,{hidden:i}=t;const o=ce("config");return h(e,o,(e=>n(1,r=e))),e.$$set=e=>{"hidden"in e&&n(0,i=e.hidden)},[i,r,o]}class Kc extends qe{constructor(e){super(),Ue(this,e,Wc,Hc,a,{hidden:0},qc)}}function Gc(e){E(e,"svelte-1q5dh4a",".spinner.svelte-1q5dh4a{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%)}.circle.svelte-1q5dh4a{box-sizing:border-box;position:absolute;height:100%;width:100%;border-width:2px;border-style:solid;border-radius:50%}.bg.svelte-1q5dh4a{opacity:0.25}.rotating.svelte-1q5dh4a{animation:1s linear 0s infinite normal none running svelte-1q5dh4a-rotate}@keyframes svelte-1q5dh4a-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}")}function Jc(e){let t,n,r,i,o,s,a;return{c(){t=M("div"),n=M("div"),r=L(),i=M("div"),F(n,"class","circle bg svelte-1q5dh4a"),H(n,"border-color",e[1]),F(i,"class","circle rotating svelte-1q5dh4a"),H(i,"border-color",e[1]+" "+e[1]+" transparent transparent"),F(t,"class","spinner svelte-1q5dh4a"),H(t,"width",e[0]),H(t,"height",e[0])},m(e,o){R(e,t,o),C(t,n),C(t,r),C(t,i),a=!0},p(e,r){(!a||2&r)&&H(n,"border-color",e[1]),(!a||2&r)&&H(i,"border-color",e[1]+" "+e[1]+" transparent transparent"),(!a||1&r)&&H(t,"width",e[0]),(!a||1&r)&&H(t,"height",e[0])},i(e){a||(ge((()=>{s&&s.end(1),o=Re(t,Mn,{delay:500,duration:500}),o.start()})),a=!0)},o(e){o&&o.invalidate(),s=Oe(t,Mn,{duration:100}),a=!1},d(e){e&&O(t),e&&s&&s.end()}}}function Qc(e){let t,n,r=!e[2]&&Jc(e);return{c(){r&&r.c(),t=P()},m(e,i){r&&r.m(e,i),R(e,t,i),n=!0},p(e,[n]){e[2]?r&&(Ce(),Te(r,1,1,(()=>{r=null})),Ee()):r?(r.p(e,n),4&n&&Se(r,1)):(r=Jc(e),r.c(),Se(r,1),r.m(t.parentNode,t))},i(e){n||(Se(r),n=!0)},o(e){Te(r),n=!1},d(e){r&&r.d(e),e&&O(t)}}}function Zc(e,t,n){let{size:r="60px"}=t,{color:i="#FFF"}=t,{hidden:o=!1}=t;return e.$$set=e=>{"size"in e&&n(0,r=e.size),"color"in e&&n(1,i=e.color),"hidden"in e&&n(2,o=e.hidden)},[r,i,o]}class Xc extends qe{constructor(e){super(),Ue(this,e,Zc,Qc,a,{size:0,color:1,hidden:2},Gc)}}function Yc(e){E(e,"svelte-1s6qb6f",".center-icons.svelte-1s6qb6f{position:absolute;width:100%;height:100%;left:50%;top:50%;transform:translate(-50%, -50%)}")}function el(e){let t,n,r,i,o,s;return n=new Kc({props:{hidden:!e[2]}}),i=new Xc({props:{hidden:!e[1],color:e[0]?e[4].color:e[4].iconColor,size:e[3]+10+"px"}}),{c(){t=M("div"),Le(n.$$.fragment),r=L(),Le(i.$$.fragment),F(t,"class","center-icons svelte-1s6qb6f"),H(t,"width",e[4].centerIconSize),H(t,"height",e[4].centerIconSize),ge((()=>e[6].call(t)))},m(a,c){R(a,t,c),Pe(n,t,null),C(t,r),Pe(i,t,null),o=G(t,e[6].bind(t)),s=!0},p(e,[r]){const o={};4&r&&(o.hidden=!e[2]),n.$set(o);const a={};2&r&&(a.hidden=!e[1]),17&r&&(a.color=e[0]?e[4].color:e[4].iconColor),8&r&&(a.size=e[3]+10+"px"),i.$set(a),(!s||16&r)&&H(t,"width",e[4].centerIconSize),(!s||16&r)&&H(t,"height",e[4].centerIconSize)},i(e){s||(Se(n.$$.fragment,e),Se(i.$$.fragment,e),s=!0)},o(e){Te(n.$$.fragment,e),Te(i.$$.fragment,e),s=!1},d(e){e&&O(t),je(n),je(i),o()}}}function tl(e,t,n){let r,i,{isBuffering:o}=t,{isSpinnerVisible:s}=t,{isIconVisible:a}=t;const c=ce("config");return h(e,c,(e=>n(4,r=e))),e.$$set=e=>{"isBuffering"in e&&n(0,o=e.isBuffering),"isSpinnerVisible"in e&&n(1,s=e.isSpinnerVisible),"isIconVisible"in e&&n(2,a=e.isIconVisible)},[o,s,a,i,r,c,function(){i=this.offsetWidth,n(3,i)}]}class nl extends qe{constructor(e){super(),Ue(this,e,tl,el,a,{isBuffering:0,isSpinnerVisible:1,isIconVisible:2},Yc)}}function rl(e){E(e,"svelte-do64tg",".controls.svelte-do64tg{position:relative;box-sizing:border-box;min-height:40px;max-height:150px;top:100%;transform:translateY(-100%);padding:10px;display:flex;gap:6px;visibility:visible;transition:transform 0.5s ease, visibility 0.5s linear}.hidden.svelte-do64tg{visibility:hidden;transform:translateY(100%)}")}function il(e){let t,n,r,i;const s=e[9].default,a=p(s,e,e[8],null);return{c(){t=M("div"),a&&a.c(),F(t,"class","controls svelte-do64tg"),H(t,"height",e[2].controlsHeight),H(t,"background","linear-gradient(rgba(0,0,0,0), rgba(0,0,0,.2) 80%)"),J(t,"hidden",e[0])},m(o,s){R(o,t,s),a&&a.m(t,null),n=!0,r||(i=[j(window,"pointermove",e[10]),j(window,"keydown",e[11]),j(t,"pointerover",e[4]),j(t,"pointerout",e[5]),j(t,"transitionend",e[6])],r=!0)},p(e,[r]){a&&a.p&&(!n||256&r)&&g(a,s,e,e[8],n?m(s,e[8],r,null):v(e[8]),null),(!n||4&r)&&H(t,"height",e[2].controlsHeight),(!n||1&r)&&J(t,"hidden",e[0])},i(e){n||(Se(a,e),n=!0)},o(e){Te(a,e),n=!1},d(e){e&&O(t),a&&a.d(e),r=!1,o(i)}}}function ol(e,t,n){let r,{$$slots:i={},$$scope:o}=t,{hidden:s}=t,{isPointerOver:a}=t;const c=ce("config");let l,u;h(e,c,(e=>n(2,r=e)));return e.$$set=e=>{"hidden"in e&&n(0,s=e.hidden),"isPointerOver"in e&&n(7,a=e.isPointerOver),"$$scope"in e&&n(8,o=e.$$scope)},[s,u,r,c,function(e){n(7,a=!0)},function(e){n(7,a=!1)},function(e){"visibility"==e.propertyName&&(!s&&u?l.focus({preventScroll:!0}):l=document.activeElement)},a,o,i,()=>n(1,u=!1),e=>n(1,u="Tab"===e.code)]}class sl extends qe{constructor(e){super(),Ue(this,e,ol,il,a,{hidden:0,isPointerOver:7},rl)}}function al(e,t,n){var r=!1,i=!1;return function(){i=n&&!r;var o=this,s=arguments;if(r||(r=!0,setTimeout((function(){if(r=!1,!n)return e.apply(o,s)}),t)),i)return i=!1,e.apply(this,arguments)}}function cl(e){E(e,"svelte-1539bnd",".bar.svelte-1539bnd{position:absolute;top:0;width:100%;height:100%;transform-origin:0 0;border-style:solid;border-width:1px}")}function ll(t){let n;return{c(){n=M("div"),F(n,"class","bar svelte-1539bnd"),H(n,"background-color",t[0]),H(n,"border-color",t[0]),H(n,"opacity",t[1]),H(n,"transform","scaleX("+t[2]+")")},m(e,t){R(e,n,t)},p(e,[t]){1&t&&H(n,"background-color",e[0]),1&t&&H(n,"border-color",e[0]),2&t&&H(n,"opacity",e[1]),4&t&&H(n,"transform","scaleX("+e[2]+")")},i:e,o:e,d(e){e&&O(n)}}}function ul(e,t,n){let{color:r="white"}=t,{opacity:i=1}=t,{value:o=0}=t;return e.$$set=e=>{"color"in e&&n(0,r=e.color),"opacity"in e&&n(1,i=e.opacity),"value"in e&&n(2,o=e.value)},[r,i,o]}class dl extends qe{constructor(e){super(),Ue(this,e,ul,ll,a,{color:0,opacity:1,value:2},cl)}}function hl(e){E(e,"svelte-mhutnt",".chunk-bar.svelte-mhutnt{position:absolute;width:100%;height:100%}.chunk.svelte-mhutnt{position:absolute;width:100%;height:100%;transform-origin:0 0}")}function pl(e,t,n){const r=e.slice();return r[3]=t[n],r}function fl(e){let t;return{c(){t=M("div"),F(t,"class","chunk svelte-mhutnt"),H(t,"background-color",e[0]),H(t,"opacity",e[1]),H(t,"transform","translateX("+100*e[3].start+"%) scaleX("+(e[3].end-e[3].start)+")")},m(e,n){R(e,t,n)},p(e,n){1&n&&H(t,"background-color",e[0]),2&n&&H(t,"opacity",e[1]),4&n&&H(t,"transform","translateX("+100*e[3].start+"%) scaleX("+(e[3].end-e[3].start)+")")},d(e){e&&O(t)}}}function ml(t){let n,r=t[2],i=[];for(let e=0;e<r.length;e+=1)i[e]=fl(pl(t,r,e));return{c(){n=M("div");for(let e=0;e<i.length;e+=1)i[e].c();F(n,"class","chunk-bar svelte-mhutnt")},m(e,t){R(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(7&t){let o;for(r=e[2],o=0;o<r.length;o+=1){const s=pl(e,r,o);i[o]?i[o].p(s,t):(i[o]=fl(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){e&&O(n),D(i,e)}}}function gl(e,t,n){let{color:r="white"}=t,{opacity:i=1}=t,{ranges:o=[]}=t;return e.$$set=e=>{"color"in e&&n(0,r=e.color),"opacity"in e&&n(1,i=e.opacity),"ranges"in e&&n(2,o=e.ranges)},[r,i,o]}class vl extends qe{constructor(e){super(),Ue(this,e,gl,ml,a,{color:0,opacity:1,ranges:2},hl)}}function bl(e){E(e,"svelte-kj06qu",".thumb-wrapper.svelte-kj06qu{position:absolute;width:100%;height:100%;top:0;pointer-events:none}.thumb.svelte-kj06qu{position:relative;border-style:none;border-radius:50%;border-width:2px;top:50%;transform:translate(-50%, -50%)}.active.svelte-kj06qu{border-style:solid}")}function yl(t){let n,r;return{c(){n=M("div"),r=M("div"),F(r,"class","thumb svelte-kj06qu"),H(r,"width",t[2].thumbSize),H(r,"height",t[2].thumbSize),H(r,"background-color",t[2].color),H(r,"border-color",t[2].color),J(r,"active",t[0]),F(n,"class","thumb-wrapper svelte-kj06qu"),H(n,"transform","translateX("+t[1]+"%)")},m(e,t){R(e,n,t),C(n,r)},p(e,[t]){4&t&&H(r,"width",e[2].thumbSize),4&t&&H(r,"height",e[2].thumbSize),4&t&&H(r,"background-color",e[2].color),4&t&&H(r,"border-color",e[2].color),1&t&&J(r,"active",e[0]),2&t&&H(n,"transform","translateX("+e[1]+"%)")},i:e,o:e,d(e){e&&O(n)}}}function wl(e,t,n){let r,i,{positionValue:o=0}=t,{active:s=!1}=t;const a=ce("config");return h(e,a,(e=>n(2,i=e))),e.$$set=e=>{"positionValue"in e&&n(4,o=e.positionValue),"active"in e&&n(0,s=e.active)},e.$$.update=()=>{16&e.$$.dirty&&n(1,r=100*o)},[s,r,i,a,o]}class Al extends qe{constructor(e){super(),Ue(this,e,wl,yl,a,{positionValue:4,active:0},bl)}}function kl(e){E(e,"svelte-wdgqi3",".playbar.svelte-wdgqi3.svelte-wdgqi3{position:relative;min-width:50px;height:100%;flex-grow:4;cursor:pointer;outline:none;touch-action:none}.playbar.svelte-wdgqi3:focus .bars.svelte-wdgqi3{outline-style:dotted}.bars.svelte-wdgqi3.svelte-wdgqi3{position:relative;width:100%;top:50%;transform:translateY(-50%);border-radius:9999px;overflow:hidden;outline-offset:3px;outline-width:2px;outline-style:none}.chunkbars.svelte-wdgqi3.svelte-wdgqi3{position:absolute;width:100%;height:30%}")}function $l(e){let t,n,r,i,o;return n=new vl({props:{color:e[1].bufferedColor,opacity:1,ranges:e[4]}}),i=new vl({props:{color:e[1].color,opacity:1,ranges:e[5]}}),{c(){t=M("div"),Le(n.$$.fragment),r=L(),Le(i.$$.fragment),F(t,"class","chunkbars svelte-wdgqi3")},m(e,s){R(e,t,s),Pe(n,t,null),C(t,r),Pe(i,t,null),o=!0},p(e,t){const r={};2&t&&(r.color=e[1].bufferedColor),16&t&&(r.ranges=e[4]),n.$set(r);const o={};2&t&&(o.color=e[1].color),32&t&&(o.ranges=e[5]),i.$set(o)},i(e){o||(Se(n.$$.fragment,e),Se(i.$$.fragment,e),o=!0)},o(e){Te(n.$$.fragment,e),Te(i.$$.fragment,e),o=!1},d(e){e&&O(t),je(n),je(i)}}}function Vl(e){let t,n,r,i,s,a,c,l,u,d,h;r=new dl({props:{color:e[1].barsBgColor,opacity:1,value:1}}),s=new dl({props:{color:e[1].color,value:e[6]}});let p=e[1].chunkBars&&$l(e);return l=new Al({props:{positionValue:e[6],active:e[3]}}),{c(){t=M("div"),n=M("div"),Le(r.$$.fragment),i=L(),Le(s.$$.fragment),a=L(),p&&p.c(),c=L(),Le(l.$$.fragment),F(n,"class","bars svelte-wdgqi3"),H(n,"height",e[1].trackHeight),H(n,"outline-color",e[1].focusColor),F(t,"class","playbar svelte-wdgqi3"),F(t,"tabindex","0"),H(t,"margin","0 "+e[0])},m(o,f){R(o,t,f),C(t,n),Pe(r,n,null),C(n,i),Pe(s,n,null),C(n,a),p&&p.m(n,null),C(t,c),Pe(l,t,null),e[18](t),u=!0,d||(h=[j(window,"pointermove",e[9]),j(window,"pointerup",e[10]),j(t,"pointerdown",e[8])],d=!0)},p(e,[i]){const o={};2&i&&(o.color=e[1].barsBgColor),r.$set(o);const a={};2&i&&(a.color=e[1].color),64&i&&(a.value=e[6]),s.$set(a),e[1].chunkBars?p?(p.p(e,i),2&i&&Se(p,1)):(p=$l(e),p.c(),Se(p,1),p.m(n,null)):p&&(Ce(),Te(p,1,1,(()=>{p=null})),Ee()),(!u||2&i)&&H(n,"height",e[1].trackHeight),(!u||2&i)&&H(n,"outline-color",e[1].focusColor);const c={};64&i&&(c.positionValue=e[6]),8&i&&(c.active=e[3]),l.$set(c),(!u||1&i)&&H(t,"margin","0 "+e[0])},i(e){u||(Se(r.$$.fragment,e),Se(s.$$.fragment,e),Se(p),Se(l.$$.fragment,e),u=!0)},o(e){Te(r.$$.fragment,e),Te(s.$$.fragment,e),Te(p),Te(l.$$.fragment,e),u=!1},d(n){n&&O(t),je(r),je(s),p&&p.d(),je(l),e[18](null),d=!1,o(h)}}}function xl(e,t,n){let r,{isBottomControlsVisible:i}=t,{marginX:o="10px"}=t,{currentTime:s=0}=t,{duration:a=0}=t,{buffered:c=[]}=t,{played:l=[]}=t,{paused:u}=t,{isScrubbing:d}=t;const p=ae(),f=ce("config");let m,g,v,b,y,w,A;h(e,f,(e=>n(1,r=e)));const k=al((e=>{n(6,A=e/a)}),250,!0),$=al((e=>{n(4,y=c.map((e=>({start:e.start/a,end:e.end/a})))),n(5,w=l.map((e=>({start:e.start/a,end:e.end/a}))))}),250,!0);function V(e){const t=Math.min(Math.max(e-v.x,0),v.width)/v.width;n(11,s=a*t)}return e.$$set=e=>{"isBottomControlsVisible"in e&&n(14,i=e.isBottomControlsVisible),"marginX"in e&&n(0,o=e.marginX),"currentTime"in e&&n(11,s=e.currentTime),"duration"in e&&n(15,a=e.duration),"buffered"in e&&n(16,c=e.buffered),"played"in e&&n(17,l=e.played),"paused"in e&&n(13,u=e.paused),"isScrubbing"in e&&n(12,d=e.isScrubbing)},e.$$.update=()=>{18434&e.$$.dirty&&i&&r.chunkBars&&$(s),22528&e.$$.dirty&&i&&(d?n(6,A=s/a):k(s))},[o,r,m,g,y,w,A,f,function(e){e.preventDefault(),n(3,g=!0),b=u,n(13,u=!0),v=m.getBoundingClientRect(),V(e.clientX)},function(e){g&&(n(12,d=!0),V(e.clientX))},function(e){g&&(n(13,u=b),n(3,g=!1),n(12,d=!1),p("pointerup"))},s,d,u,i,a,c,l,function(e){de[e?"unshift":"push"]((()=>{m=e,n(2,m)}))}]}class Il extends qe{constructor(e){super(),Ue(this,e,xl,Vl,a,{isBottomControlsVisible:14,marginX:0,currentTime:11,duration:15,buffered:16,played:17,paused:13,isScrubbing:12},kl)}}function Cl(e){E(e,"svelte-ievgfv",".button.svelte-ievgfv{box-sizing:border-box;position:relative;height:100%;border-style:none;border-radius:10px;border-width:2px;outline:none;cursor:pointer}@media(hover: hover) and (pointer: fine){.button.svelte-ievgfv:focus{border-style:solid}}")}function El(e){let t,n,r,i,s;const a=e[7].default,c=p(a,e,e[6],null);return{c(){t=M("div"),c&&c.c(),F(t,"class","button svelte-ievgfv"),H(t,"width",e[1]+"px"),H(t,"min-width",e[1]+"px"),H(t,"background-color",e[2].color),H(t,"border-color",e[2].focusColor),H(t,"border-radius",e[0]?"9999px":"10px"),F(t,"tabindex","0"),ge((()=>e[8].call(t)))},m(o,a){R(o,t,a),c&&c.m(t,null),n=G(t,e[8].bind(t)),r=!0,i||(s=[j(t,"pointerdown",Sl),j(t,"pointerup",e[4]),j(t,"keydown",e[5])],i=!0)},p(e,[n]){c&&c.p&&(!r||64&n)&&g(c,a,e,e[6],r?m(a,e[6],n,null):v(e[6]),null),(!r||2&n)&&H(t,"width",e[1]+"px"),(!r||2&n)&&H(t,"min-width",e[1]+"px"),(!r||4&n)&&H(t,"background-color",e[2].color),(!r||4&n)&&H(t,"border-color",e[2].focusColor),(!r||1&n)&&H(t,"border-radius",e[0]?"9999px":"10px")},i(e){r||(Se(c,e),r=!0)},o(e){Te(c,e),r=!1},d(e){e&&O(t),c&&c.d(e),n(),i=!1,o(s)}}}function Sl(e){e.preventDefault()}function Tl(e,t,n){let r,{$$slots:i={},$$scope:o}=t,{round:s=!1}=t;const a=ae(),c=ce("config");let l;return h(e,c,(e=>n(2,r=e))),e.$$set=e=>{"round"in e&&n(0,s=e.round),"$$scope"in e&&n(6,o=e.$$scope)},[s,l,r,c,function(e){a("pointerup")},function(e){switch(e.code){case"Enter":case"NumpadEnter":case"Space":e.preventDefault(),e.stopPropagation(),a("pointerup")}},o,i,function(){l=this.offsetHeight,n(1,l)}]}class _l extends qe{constructor(e){super(),Ue(this,e,Tl,El,a,{round:0},Cl)}}function Rl(e){let t,n;return t=new Uc({props:{paused:e[0]}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.paused=e[0]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Ol(e){let t,n;return t=new _l({props:{$$slots:{default:[Rl]},$$scope:{ctx:e}}}),t.$on("pointerup",e[1]),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Dl(e,t,n){let{paused:r}=t;return e.$$set=e=>{"paused"in e&&n(0,r=e.paused)},[r,function(t){le.call(this,e,t)}]}class Ml extends qe{constructor(e){super(),Ue(this,e,Dl,Ol,a,{paused:0})}}function Nl(e){E(e,"svelte-rnfp7y",".volume-icon.svelte-rnfp7y{position:absolute}")}function Bl(t){let n,r,i,o,s,a,c,l,u,d,h,p,f,m;return{c(){n=M("div"),r=N("svg"),i=N("g"),o=N("path"),a=N("g"),c=N("path"),l=N("path"),d=N("g"),h=N("path"),p=N("path"),F(o,"fill",s=t[1]?t[3].iconColor:"none"),F(o,"d","M33.913 38.955l14.58-11.046v44.918l-14.58-11.045H22.154V38.955h11.759z"),F(c,"d","M68.27 31.776c10.039 10.058 10.039 26.39 0 36.448"),F(l,"d","M61.062 38.986c6.067 6.079 6.067 15.949 0 22.028"),F(a,"visibility",u=t[2]?"hidden":"visible"),F(h,"d","M59.644 41.173l17.621 17.658"),F(p,"d","M77.265 41.173L59.644 58.831"),F(d,"visibility",f=t[2]?"visible":"hidden"),F(i,"fill","none"),F(i,"stroke",m=t[3].iconColor),F(i,"stroke-width","5"),F(r,"viewBox","0 0 100 100"),F(r,"stroke-linecap","round"),F(r,"stroke-linejoin","round"),F(n,"class","volume-icon svelte-rnfp7y"),H(n,"width",t[0])},m(e,t){R(e,n,t),C(n,r),C(r,i),C(i,o),C(i,a),C(a,c),C(a,l),C(i,d),C(d,h),C(d,p)},p(e,[t]){10&t&&s!==(s=e[1]?e[3].iconColor:"none")&&F(o,"fill",s),4&t&&u!==(u=e[2]?"hidden":"visible")&&F(a,"visibility",u),4&t&&f!==(f=e[2]?"visible":"hidden")&&F(d,"visibility",f),8&t&&m!==(m=e[3].iconColor)&&F(i,"stroke",m),1&t&&H(n,"width",e[0])},i:e,o:e,d(e){e&&O(n)}}}function Ll(e,t,n){let r,{size:i="100%"}=t,{filled:o=!0}=t,{muted:s}=t;const a=ce("config");return h(e,a,(e=>n(3,r=e))),e.$$set=e=>{"size"in e&&n(0,i=e.size),"filled"in e&&n(1,o=e.filled),"muted"in e&&n(2,s=e.muted)},[i,o,s,r,a]}class Pl extends qe{constructor(e){super(),Ue(this,e,Ll,Bl,a,{size:0,filled:1,muted:2},Nl)}}function jl(e){let t,n;return t=new Pl({props:{muted:e[0]}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.muted=e[0]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Fl(e){let t,n;return t=new _l({props:{$$slots:{default:[jl]},$$scope:{ctx:e}}}),t.$on("pointerup",e[1]),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Ul(e,t,n){let{muted:r}=t;return e.$$set=e=>{"muted"in e&&n(0,r=e.muted)},[r,function(t){le.call(this,e,t)}]}class ql extends qe{constructor(e){super(),Ue(this,e,Ul,Fl,a,{muted:0})}}function zl(e){E(e,"svelte-1qqqte2",".slider.svelte-1qqqte2.svelte-1qqqte2{position:relative;flex-grow:1;min-width:25px;height:100%;outline:none}.slider.svelte-1qqqte2:focus .bars.svelte-1qqqte2{outline-style:dotted}.bars.svelte-1qqqte2.svelte-1qqqte2{position:relative;width:100%;top:50%;transform:translateY(-50%);outline-offset:3px;outline-width:2px;outline-style:none;border-radius:9999px;overflow:hidden}")}function Hl(e){let t,n,r,i,s,a,c,l,u,d;return r=new dl({props:{color:e[5].barsBgColor,opacity:1,value:1}}),s=new dl({props:{color:e[5].color,opacity:1,value:e[0]}}),c=new Al({props:{positionValue:e[0],active:e[4]}}),{c(){t=M("div"),n=M("div"),Le(r.$$.fragment),i=L(),Le(s.$$.fragment),a=L(),Le(c.$$.fragment),F(n,"class","bars svelte-1qqqte2"),H(n,"height",e[5].trackHeight),H(n,"outline-color",e[5].focusColor),F(t,"class","slider svelte-1qqqte2"),H(t,"max-width",e[1]),H(t,"margin","0 "+e[2]),F(t,"tabindex","0")},m(o,h){R(o,t,h),C(t,n),Pe(r,n,null),C(n,i),Pe(s,n,null),C(t,a),Pe(c,t,null),e[11](t),l=!0,u||(d=[j(window,"pointermove",e[8]),j(window,"pointerup",e[9]),j(t,"pointerdown",e[7]),j(t,"keydown",e[10])],u=!0)},p(e,[i]){const o={};32&i&&(o.color=e[5].barsBgColor),r.$set(o);const a={};32&i&&(a.color=e[5].color),1&i&&(a.value=e[0]),s.$set(a),(!l||32&i)&&H(n,"height",e[5].trackHeight),(!l||32&i)&&H(n,"outline-color",e[5].focusColor);const u={};1&i&&(u.positionValue=e[0]),16&i&&(u.active=e[4]),c.$set(u),(!l||2&i)&&H(t,"max-width",e[1]),(!l||4&i)&&H(t,"margin","0 "+e[2])},i(e){l||(Se(r.$$.fragment,e),Se(s.$$.fragment,e),Se(c.$$.fragment,e),l=!0)},o(e){Te(r.$$.fragment,e),Te(s.$$.fragment,e),Te(c.$$.fragment,e),l=!1},d(n){n&&O(t),je(r),je(s),je(c),e[11](null),u=!1,o(d)}}}function Wl(e,t,n){let r,i,o,s,{width:a="150px"}=t,{marginX:c="10px"}=t,{value:l=.5}=t;const u=ce("config");function d(e,t){e.preventDefault(),e.stopPropagation(),n(0,l=Math.min(Math.max(l+t,0),1))}function p(e){n(0,l=Math.min(Math.max(e-s.x,0),s.width)/s.width)}return h(e,u,(e=>n(5,r=e))),e.$$set=e=>{"width"in e&&n(1,a=e.width),"marginX"in e&&n(2,c=e.marginX),"value"in e&&n(0,l=e.value)},[l,a,c,i,o,r,u,function(e){e.preventDefault(),n(4,o=!0),s=i.getBoundingClientRect(),p(e.clientX)},function(e){o&&p(e.clientX)},function(e){o&&n(4,o=!1)},function(e){switch(e.code){case"ArrowLeft":case"ArrowDown":d(e,-.1);break;case"ArrowRight":case"ArrowUp":d(e,.1)}},function(e){de[e?"unshift":"push"]((()=>{i=e,n(3,i)}))}]}class Kl extends qe{constructor(e){super(),Ue(this,e,Wl,Hl,a,{width:1,marginX:2,value:0},zl)}}function Gl(e){let t,n,r;function i(t){e[2](t)}let o={width:e[1]};return void 0!==e[0]&&(o.value=e[0]),t=new Kl({props:o}),de.push((()=>Be(t,"value",i))),{c(){Le(t.$$.fragment)},m(e,n){Pe(t,e,n),r=!0},p(e,[r]){const i={};2&r&&(i.width=e[1]),!n&&1&r&&(n=!0,i.value=e[0],ve((()=>n=!1))),t.$set(i)},i(e){r||(Se(t.$$.fragment,e),r=!0)},o(e){Te(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Jl(e,t,n){let{width:r="100px"}=t,{volume:i=1}=t;return e.$$set=e=>{"width"in e&&n(1,r=e.width),"volume"in e&&n(0,i=e.volume)},[i,r,function(e){i=e,n(0,i)}]}class Ql extends qe{constructor(e){super(),Ue(this,e,Jl,Gl,a,{width:1,volume:0})}}function Zl(e){E(e,"svelte-15g0vgp",".fullscreen-icon.svelte-15g0vgp{position:absolute}")}function Xl(t){let n,r,i,o,s,a,c,l,u,d,h,p,f,m,g,v;return{c(){n=M("div"),r=N("svg"),i=N("g"),o=N("g"),s=N("path"),a=N("path"),c=N("path"),l=N("path"),d=N("g"),h=N("path"),p=N("path"),f=N("path"),m=N("path"),F(s,"d","M71 60.5V71H60"),F(a,"d","M40 71H29V60.5"),F(c,"d","M29 40.5V29h11"),F(l,"d","M60 29h11v11.5"),F(o,"visibility",u=t[1]?"hidden":"visible"),F(h,"d","M60 71V60.5h11"),F(p,"d","M29 60.5h11V71"),F(f,"d","M40 29v11.5H29"),F(m,"d","M71 40.5H60V29"),F(d,"visibility",g=t[1]?"visible":"hidden"),F(i,"fill","none"),F(i,"stroke",v=t[2].iconColor),F(i,"stroke-width","5"),F(r,"viewBox","0 0 100 100"),F(r,"stroke-linecap","round"),F(r,"stroke-linejoin","round"),F(n,"class","fullscreen-icon svelte-15g0vgp"),H(n,"width",t[0])},m(e,t){R(e,n,t),C(n,r),C(r,i),C(i,o),C(o,s),C(o,a),C(o,c),C(o,l),C(i,d),C(d,h),C(d,p),C(d,f),C(d,m)},p(e,[t]){2&t&&u!==(u=e[1]?"hidden":"visible")&&F(o,"visibility",u),2&t&&g!==(g=e[1]?"visible":"hidden")&&F(d,"visibility",g),4&t&&v!==(v=e[2].iconColor)&&F(i,"stroke",v),1&t&&H(n,"width",e[0])},i:e,o:e,d(e){e&&O(n)}}}function Yl(e,t,n){let r,{size:i="100%"}=t,{isFullscreen:o}=t;const s=ce("config");return h(e,s,(e=>n(2,r=e))),e.$$set=e=>{"size"in e&&n(0,i=e.size),"isFullscreen"in e&&n(1,o=e.isFullscreen)},[i,o,r,s]}class eu extends qe{constructor(e){super(),Ue(this,e,Yl,Xl,a,{size:0,isFullscreen:1},Zl)}}function tu(e){let t,n;return t=new eu({props:{isFullscreen:e[0]}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.isFullscreen=e[0]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function nu(e){let t,n;return t=new _l({props:{$$slots:{default:[tu]},$$scope:{ctx:e}}}),t.$on("pointerup",e[1]),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function ru(e,t,n){let{isFullscreen:r}=t;return e.$$set=e=>{"isFullscreen"in e&&n(0,r=e.isFullscreen)},[r,function(t){le.call(this,e,t)}]}class iu extends qe{constructor(e){super(),Ue(this,e,ru,nu,a,{isFullscreen:0})}}var ou,su={exports:{}};function au(e,t,n){let{element:r}=t,{isFullscreen:i}=t,{isFullscreenEnabled:o}=t;function s(e){r==e.target&&n(0,i=su.exports.isFullscreen)}return o=su.exports.isEnabled,o&&su.exports.on("change",s),se((()=>{su.exports.off("change",s)})),e.$$set=e=>{"element"in e&&n(2,r=e.element),"isFullscreen"in e&&n(0,i=e.isFullscreen),"isFullscreenEnabled"in e&&n(1,o=e.isFullscreenEnabled)},e.$$.update=()=>{7&e.$$.dirty&&o&&(i?su.exports.request(r):su.exports.exit())},[i,o,r]}ou=su,function(){var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},t=ou.exports,n=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((t=n[r])&&t[1]in e){for(r=0;r<t.length;r++)o[n[0][r]]=t[r];return o}return!1}(),r={change:n.fullscreenchange,error:n.fullscreenerror},i={request(t,r){return new Promise(function(i,o){var s=function(){this.off("change",s),i()}.bind(this);this.on("change",s);var a=(t=t||e.documentElement)[n.requestFullscreen](r);a instanceof Promise&&a.then(s).catch(o)}.bind(this))},exit(){return new Promise(function(t,r){if(this.isFullscreen){var i=function(){this.off("change",i),t()}.bind(this);this.on("change",i);var o=e[n.exitFullscreen]();o instanceof Promise&&o.then(i).catch(r)}else t()}.bind(this))},toggle(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange(e){this.on("change",e)},onerror(e){this.on("error",e)},on(t,n){var i=r[t];i&&e.addEventListener(i,n,!1)},off(t,n){var i=r[t];i&&e.removeEventListener(i,n,!1)},raw:n};n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),t?ou.exports=i:window.screenfull=i):t?ou.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}();class cu extends qe{constructor(e){super(),Ue(this,e,au,null,a,{element:2,isFullscreen:0,isFullscreenEnabled:1})}}function lu(e,t,n){var r;return function(){if(!t)return e.apply(this,arguments);var i=this,o=arguments,s=n&&!r;return clearTimeout(r),r=setTimeout((function(){if(r=null,!s)return e.apply(i,o)}),t),s?e.apply(this,arguments):void 0}}function uu(t){let n,r;return{c:e,m(e,i){n||(r=[j(window,"pointermove",t[0]),j(window,"keydown",t[0])],n=!0)},p:e,i:e,o:e,d(e){n=!1,o(r)}}}function du(e,t,n){let r,{isIdle:i=!1}=t;const o=lu((()=>{clearTimeout(r),r=setTimeout((()=>{n(1,i=!0)}),2e3)}),250,!0);return se((()=>{clearTimeout(r)})),e.$$set=e=>{"isIdle"in e&&n(1,i=e.isIdle)},[function(e){n(1,i=!1),o()},i]}class hu extends qe{constructor(e){super(),Ue(this,e,du,uu,a,{isIdle:1})}}function pu(t){let n,r;return{c:e,m(e,i){n||(r=j(window,"scroll",t[0]),n=!0)},p:e,i:e,o:e,d(e){n=!1,r()}}}function fu(e,t,n){let r,{isScrolling:i=!1}=t;const o=lu((()=>{clearTimeout(r),r=setTimeout((()=>{n(1,i=!1)}),100)}),100,!0);return se((()=>{clearTimeout(r)})),e.$$set=e=>{"isScrolling"in e&&n(1,i=e.isScrolling)},[function(e){n(1,i=!0),o()},i]}class mu extends qe{constructor(e){super(),Ue(this,e,fu,pu,a,{isScrolling:1})}}function gu(e){E(e,"svelte-1a30cmt",".time.svelte-1a30cmt{position:relative;height:100%;text-align:center;display:flex;flex-direction:column;justify-content:center;margin-right:6px}.text.svelte-1a30cmt{position:relative;font-family:'Lucida Sans Typewriter', 'Lucida Console', monaco, 'Bitstream Vera Sans Mono', monospace;font-size:1rem;line-height:1rem;color:white}")}function vu(t){let n,r,i;return{c(){n=M("div"),r=M("div"),i=B(t[0]),F(r,"class","text svelte-1a30cmt"),F(n,"class","time svelte-1a30cmt")},m(e,t){R(e,n,t),C(n,r),C(r,i)},p(e,[t]){1&t&&q(i,e[0])},i:e,o:e,d(e){e&&O(n)}}}function bu(e,t,n){let r,{duration:i}=t,{currentTime:o}=t,s=0;const a=al((()=>{n(0,s=c(o,r))}),250,!0),c=(e=0,t=!1)=>{let n=new Date(1e3*e).toISOString().substr(11,8);return t?n:n.substring(3)};return e.$$set=e=>{"duration"in e&&n(1,i=e.duration),"currentTime"in e&&n(2,o=e.currentTime)},e.$$.update=()=>{2&e.$$.dirty&&(r=i>=3600),4&e.$$.dirty&&o&&a()},[s,i,o]}class yu extends qe{constructor(e){super(),Ue(this,e,bu,vu,a,{duration:1,currentTime:2},gu)}}function wu(e){E(e,"svelte-1ai3mbf","video::-webkit-media-controls{display:none !important}.aspect.svelte-1ai3mbf.svelte-1ai3mbf{position:relative;width:100%;height:0;padding-top:100%;overflow:hidden;border-radius:8px;-webkit-mask-image:-webkit-radial-gradient(white, black);mask-image:-webkit-radial-gradient(white, black)}.aspect.svelte-1ai3mbf>.svelte-1ai3mbf:first-child{position:absolute;top:0;right:0;bottom:0;left:0;outline:none}video.svelte-1ai3mbf.svelte-1ai3mbf{position:relative;width:100%;height:100%}")}function Au(e,t,n){const r=e.slice();return r[84]=t[n].src,r[85]=t[n].type,r}function ku(t){let n,r,i=t[88]+"";return{c(){n=M("p"),r=B(i),H(n,"color","red"),F(n,"class","svelte-1ai3mbf")},m(e,t){R(e,n,t),C(n,r)},p(e,t){4&t[0]&&i!==(i=e[88]+"")&&q(r,i)},i:e,o:e,d(e){e&&O(n)}}}function $u(e){let t,n,r,i,s,a,c,l,u,d,h,p,f=!1,m=!0,g=e[31],v=[];for(let t=0;t<g.length;t+=1)v[t]=Vu(Au(e,g,t));function b(){cancelAnimationFrame(s),n.paused||(s=$(b),f=!0),e[61].call(n)}let y=e[2]&&e[30]&&xu(e);return l=new Lc({props:{$$slots:{default:[Su]},$$scope:{ctx:e}}}),{c(){t=M("div"),n=M("video"),r=M("track");for(let e=0;e<v.length;e+=1)v[e].c();var o,s;i=M("p"),i.textContent="Sorry, your browser doesn't support HTML5 videos.",a=L(),y&&y.c(),c=L(),Le(l.$$.fragment),F(r,"kind","captions"),F(n,"width",e[0]),F(n,"height",e[1]),F(n,"preload","none"),F(n,"class","svelte-1ai3mbf"),void 0!==e[9]&&void 0!==e[21]&&void 0!==e[11]||ge(b),void 0===e[19]&&ge((()=>e[62].call(n))),void 0===e[20]&&ge((()=>e[63].call(n))),void 0===e[20]&&ge((()=>e[64].call(n))),void 0===e[10]&&ge((()=>e[65].call(n))),void 0===e[11]&&ge((()=>e[66].call(n))),F(t,"id","video-player-"+(o=46656*Math.random()|0,s=46656*Math.random()|0,(o=("000"+o.toString(36)).slice(-3))+("000"+s.toString(36)).slice(-3))),F(t,"tabindex",u=e[14]?"0":"-1"),F(t,"class","svelte-1ai3mbf")},m(o,s){R(o,t,s),C(t,n),C(n,r);for(let e=0;e<v.length;e+=1)v[e].m(n,null);C(n,i),e[60](n),isNaN(e[13])||(n.volume=e[13]),C(t,a),y&&y.m(t,null),C(t,c),Pe(l,t,null),e[74](t),d=!0,h||(p=[j(n,"timeupdate",b),j(n,"durationchange",e[62]),j(n,"progress",e[63]),j(n,"loadedmetadata",e[64]),j(n,"seeking",e[65]),j(n,"seeked",e[65]),j(n,"ended",e[66]),j(n,"play",e[67]),j(n,"pause",e[67]),j(n,"volumechange",e[68]),j(n,"loadeddata",e[33],{once:!0}),j(n,"play",Ou),j(n,"playing",e[34]),j(n,"waiting",e[35]),j(t,"pointerover",e[36]),j(t,"pointerout",e[37]),j(t,"pointerup",e[38])],h=!0)},p(e,r){if(1&r[1]){let t;for(g=e[31],t=0;t<g.length;t+=1){const o=Au(e,g,t);v[t]?v[t].p(o,r):(v[t]=Vu(o),v[t].c(),v[t].m(n,i))}for(;t<v.length;t+=1)v[t].d(1);v.length=g.length}(!d||1&r[0])&&F(n,"width",e[0]),(!d||2&r[0])&&F(n,"height",e[1]),!f&&512&r[0]&&!isNaN(e[9])&&(n.currentTime=e[9]),f=!1,4096&r[0]&&m!==(m=e[12])&&n[m?"pause":"play"](),8192&r[0]&&!isNaN(e[13])&&(n.volume=e[13]),e[2]&&e[30]?y?(y.p(e,r),1073741828&r[0]&&Se(y,1)):(y=xu(e),y.c(),Se(y,1),y.m(t,c)):y&&(Ce(),Te(y,1,1,(()=>{y=null})),Ee());const o={};1039839872&r[0]|134217728&r[2]&&(o.$$scope={dirty:r,ctx:e}),l.$set(o),(!d||16384&r[0]&&u!==(u=e[14]?"0":"-1"))&&F(t,"tabindex",u)},i(e){d||(Se(y),Se(l.$$.fragment,e),d=!0)},o(e){Te(y),Te(l.$$.fragment,e),d=!1},d(n){n&&O(t),D(v,n),e[60](null),y&&y.d(),je(l),e[74](null),h=!1,o(p)}}}function Vu(e){let t,n,r;return{c(){t=M("source"),l(t.src,n=e[84])||F(t,"src",n),F(t,"type",r=e[85])},m(e,n){R(e,t,n)},p(e,i){1&i[1]&&!l(t.src,n=e[84])&&F(t,"src",n),1&i[1]&&r!==(r=e[85])&&F(t,"type",r)},d(e){e&&O(t)}}}function xu(e){let t,n;return t=new Dc({props:{src:e[2]}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.src=e[2]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Iu(e){let t,n;return t=new yu({props:{duration:e[19],currentTime:e[9]}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};524288&n[0]&&(r.duration=e[19]),512&n[0]&&(r.currentTime=e[9]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Cu(e){let t,n;return t=new iu({props:{isFullscreen:e[24]}}),t.$on("pointerup",e[41]),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};16777216&n[0]&&(r.isFullscreen=e[24]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Eu(e){let t,n,r,i,o,s,a,c,l,u,d,h,p,f,m;function g(t){e[69](t)}function v(t){e[70](t)}function b(t){e[71](t)}t=new Ml({props:{paused:e[12]}}),t.$on("pointerup",e[43]);let y={duration:e[19],buffered:e[20],played:e[21],isBottomControlsVisible:e[27]};void 0!==e[9]&&(y.currentTime=e[9]),void 0!==e[12]&&(y.paused=e[12]),void 0!==e[17]&&(y.isScrubbing=e[17]),r=new Il({props:y}),de.push((()=>Be(r,"currentTime",g))),de.push((()=>Be(r,"paused",v))),de.push((()=>Be(r,"isScrubbing",b))),r.$on("pointerup",e[42]);let w=e[7]&&Iu(e);function A(t){e[72](t)}l=new ql({props:{muted:e[26]}}),l.$on("pointerup",e[44]);let k={};void 0!==e[13]&&(k.volume=e[13]),d=new Ql({props:k}),de.push((()=>Be(d,"volume",A)));let $=e[23]&&Cu(e);return{c(){Le(t.$$.fragment),n=L(),Le(r.$$.fragment),a=L(),w&&w.c(),c=L(),Le(l.$$.fragment),u=L(),Le(d.$$.fragment),p=L(),$&&$.c(),f=P()},m(e,i){Pe(t,e,i),R(e,n,i),Pe(r,e,i),R(e,a,i),w&&w.m(e,i),R(e,c,i),Pe(l,e,i),R(e,u,i),Pe(d,e,i),R(e,p,i),$&&$.m(e,i),R(e,f,i),m=!0},p(e,n){const a={};4096&n[0]&&(a.paused=e[12]),t.$set(a);const u={};524288&n[0]&&(u.duration=e[19]),1048576&n[0]&&(u.buffered=e[20]),2097152&n[0]&&(u.played=e[21]),134217728&n[0]&&(u.isBottomControlsVisible=e[27]),!i&&512&n[0]&&(i=!0,u.currentTime=e[9],ve((()=>i=!1))),!o&&4096&n[0]&&(o=!0,u.paused=e[12],ve((()=>o=!1))),!s&&131072&n[0]&&(s=!0,u.isScrubbing=e[17],ve((()=>s=!1))),r.$set(u),e[7]?w?(w.p(e,n),128&n[0]&&Se(w,1)):(w=Iu(e),w.c(),Se(w,1),w.m(c.parentNode,c)):w&&(Ce(),Te(w,1,1,(()=>{w=null})),Ee());const p={};67108864&n[0]&&(p.muted=e[26]),l.$set(p);const m={};!h&&8192&n[0]&&(h=!0,m.volume=e[13],ve((()=>h=!1))),d.$set(m),e[23]?$?($.p(e,n),8388608&n[0]&&Se($,1)):($=Cu(e),$.c(),Se($,1),$.m(f.parentNode,f)):$&&(Ce(),Te($,1,1,(()=>{$=null})),Ee())},i(e){m||(Se(t.$$.fragment,e),Se(r.$$.fragment,e),Se(w),Se(l.$$.fragment,e),Se(d.$$.fragment,e),Se($),m=!0)},o(e){Te(t.$$.fragment,e),Te(r.$$.fragment,e),Te(w),Te(l.$$.fragment,e),Te(d.$$.fragment,e),Te($),m=!1},d(e){je(t,e),e&&O(n),je(r,e),e&&O(a),w&&w.d(e),e&&O(c),je(l,e),e&&O(u),je(d,e),e&&O(p),$&&$.d(e),e&&O(f)}}}function Su(e){let t,n,r,i,o;function s(t){e[73](t)}let a={hidden:!e[27],$$slots:{default:[Eu]},$$scope:{ctx:e}};return void 0!==e[22]&&(a.isPointerOver=e[22]),t=new sl({props:a}),de.push((()=>Be(t,"isPointerOver",s))),i=new nl({props:{isIconVisible:e[28],isSpinnerVisible:e[29],isBuffering:e[15]}}),i.$on("togglePause",e[45]),{c(){Le(t.$$.fragment),r=L(),Le(i.$$.fragment)},m(e,n){Pe(t,e,n),R(e,r,n),Pe(i,e,n),o=!0},p(e,r){const o={};134217728&r[0]&&(o.hidden=!e[27]),230306432&r[0]|134217728&r[2]&&(o.$$scope={dirty:r,ctx:e}),!n&&4194304&r[0]&&(n=!0,o.isPointerOver=e[22],ve((()=>n=!1))),t.$set(o);const s={};268435456&r[0]&&(s.isIconVisible=e[28]),536870912&r[0]&&(s.isSpinnerVisible=e[29]),32768&r[0]&&(s.isBuffering=e[15]),i.$set(s)},i(e){o||(Se(t.$$.fragment,e),Se(i.$$.fragment,e),o=!0)},o(e){Te(t.$$.fragment,e),Te(i.$$.fragment,e),o=!1},d(e){je(t,e),e&&O(r),je(i,e)}}}function Tu(e){let t,n,r;return n=new Xc({props:{color:e[4],size:"60px"}}),{c(){t=M("div"),Le(n.$$.fragment),F(t,"class","svelte-1ai3mbf")},m(e,i){R(e,t,i),Pe(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.color=e[4]),n.$set(r)},i(e){r||(Se(n.$$.fragment,e),r=!0)},o(e){Te(n.$$.fragment,e),r=!1},d(e){e&&O(t),je(n)}}}function _u(e){let t,n,r,i,s,a,c,l,u,d,h,p,f,m,g,v={ctx:e,current:null,token:null,hasCatch:!0,pending:Tu,then:$u,catch:ku,error:88,blocks:[,,,]};function b(t){e[75](t)}Me(n=Tc(e[2]),v);let y={};function w(t){e[76](t)}void 0!==e[16]&&(y.isIdle=e[16]),i=new hu({props:y}),de.push((()=>Be(i,"isIdle",b)));let A={};function k(t){e[77](t)}function $(t){e[78](t)}void 0!==e[25]&&(A.isScrolling=e[25]),c=new mu({props:A}),de.push((()=>Be(c,"isScrolling",w)));let V={element:e[18]};return void 0!==e[23]&&(V.isFullscreenEnabled=e[23]),void 0!==e[24]&&(V.isFullscreen=e[24]),d=new cu({props:V}),de.push((()=>Be(d,"isFullscreenEnabled",k))),de.push((()=>Be(d,"isFullscreen",$))),{c(){t=M("div"),v.block.c(),r=L(),Le(i.$$.fragment),a=L(),Le(c.$$.fragment),u=L(),Le(d.$$.fragment),F(t,"class","aspect svelte-1ai3mbf"),H(t,"padding-top",100*e[6]+"%"),H(t,"background-color",e[3]),H(t,"border-radius",e[5])},m(n,o){R(n,t,o),v.block.m(t,v.anchor=null),v.mount=()=>t,v.anchor=r,C(t,r),Pe(i,t,null),C(t,a),Pe(c,t,null),C(t,u),Pe(d,t,null),f=!0,m||(g=[j(window,"keydown",e[39]),j(window,"keyup",e[40])],m=!0)},p(r,o){e=r,v.ctx=e,4&o[0]&&n!==(n=Tc(e[2]))&&Me(n,v)||function(e,t,n){const r=t.slice(),{resolved:i}=e;e.current===e.then&&(r[e.value]=i),e.current===e.catch&&(r[e.error]=i),e.block.p(r,n)}(v,e,o);const a={};!s&&65536&o[0]&&(s=!0,a.isIdle=e[16],ve((()=>s=!1))),i.$set(a);const u={};!l&&33554432&o[0]&&(l=!0,u.isScrolling=e[25],ve((()=>l=!1))),c.$set(u);const m={};262144&o[0]&&(m.element=e[18]),!h&&8388608&o[0]&&(h=!0,m.isFullscreenEnabled=e[23],ve((()=>h=!1))),!p&&16777216&o[0]&&(p=!0,m.isFullscreen=e[24],ve((()=>p=!1))),d.$set(m),(!f||64&o[0])&&H(t,"padding-top",100*e[6]+"%"),(!f||8&o[0])&&H(t,"background-color",e[3]),(!f||32&o[0])&&H(t,"border-radius",e[5])},i(e){f||(Se(v.block),Se(i.$$.fragment,e),Se(c.$$.fragment,e),Se(d.$$.fragment,e),f=!0)},o(e){for(let e=0;e<3;e+=1){Te(v.blocks[e])}Te(i.$$.fragment,e),Te(c.$$.fragment,e),Te(d.$$.fragment,e),f=!1},d(e){e&&O(t),v.block.d(),v.token=null,v=null,je(i),je(c),je(d),m=!1,o(g)}}}let Ru;function Ou(e){Ru&&Ru!==e.target&&Ru.pause(),Ru=e.target}function Du(e,t,n){let r,i,o,s,a,c,l,u,{width:d}=t,{height:p}=t,{poster:f}=t,{source:m}=t,{controlsHeight:g}=t,{trackHeight:v}=t,{thumbSize:b}=t,{centerIconSize:w}=t,{playerBgColor:A}=t,{color:k}=t,{focusColor:$}=t,{barsBgColor:V}=t,{iconColor:x}=t,{bufferedColor:I}=t,{chunkBars:C}=t,{borderRadius:E}=t,{loop:S}=t,{skipSeconds:T}=t,{aspectRatio:_}=t,{controlsOnPause:R}=t,{timeDisplay:O}=t;const D=We({});var M,N;let B,L;h(e,D,(e=>n(82,u=e))),M="config",N=D,ie().$$.context.set(M,N);let P,j,F,q=0,z=[],H=[],W=!0,K=1,G=1,J=!1,Q=!1,Z=!1,X=!1,Y=!1,ee=!1,te=!1,ne=!1,re=!1,oe=!1;function se(e){const t=L.currentTime,r=L.duration;n(8,L.currentTime=e?t>i?t-i:0:t+i<r?t+i:r-.2,L)}return e.$$set=e=>{"width"in e&&n(0,d=e.width),"height"in e&&n(1,p=e.height),"poster"in e&&n(2,f=e.poster),"source"in e&&n(46,m=e.source),"controlsHeight"in e&&n(47,g=e.controlsHeight),"trackHeight"in e&&n(48,v=e.trackHeight),"thumbSize"in e&&n(49,b=e.thumbSize),"centerIconSize"in e&&n(50,w=e.centerIconSize),"playerBgColor"in e&&n(3,A=e.playerBgColor),"color"in e&&n(51,k=e.color),"focusColor"in e&&n(52,$=e.focusColor),"barsBgColor"in e&&n(53,V=e.barsBgColor),"iconColor"in e&&n(4,x=e.iconColor),"bufferedColor"in e&&n(54,I=e.bufferedColor),"chunkBars"in e&&n(55,C=e.chunkBars),"borderRadius"in e&&n(5,E=e.borderRadius),"loop"in e&&n(56,S=e.loop),"skipSeconds"in e&&n(57,T=e.skipSeconds),"aspectRatio"in e&&n(6,_=e.aspectRatio),"controlsOnPause"in e&&n(58,R=e.controlsOnPause),"timeDisplay"in e&&n(7,O=e.timeDisplay)},e.$$.update=()=>{32768&e.$$.dirty[1]&&n(31,r=function(e){let t;if(e)if(e instanceof Array)t=e.map((e=>{const t=Sc(e);return void 0===t?{src:e}:{src:e,type:t}})).filter((e=>e));else{const n=Sc(e);t=void 0===n?[{src:e}]:[{src:e,type:n}]}else t=[];return t}(m)),67108864&e.$$.dirty[1]&&(i=parseFloat(T)),65536&e.$$.dirty[1]&&y(D,u.controlsHeight=g,u),262144&e.$$.dirty[1]&&y(D,u.thumbSize=b,u),131072&e.$$.dirty[1]&&y(D,u.trackHeight=v,u),524288&e.$$.dirty[1]&&y(D,u.centerIconSize=w,u),1048576&e.$$.dirty[1]&&y(D,u.color=k,u),8&e.$$.dirty[0]&&y(D,u.playerBgColor=A,u),2097152&e.$$.dirty[1]&&y(D,u.focusColor=$,u),4194304&e.$$.dirty[1]&&y(D,u.barsBgColor=V,u),16&e.$$.dirty[0]&&y(D,u.iconColor=x,u),8388608&e.$$.dirty[1]&&y(D,u.bufferedColor=I,u),16777216&e.$$.dirty[1]&&y(D,u.chunkBars=C,u),33554432&e.$$.dirty[1]&&y(D,u.loop=S,u),32&e.$$.dirty[0]&&y(D,u.borderRadius=E,u),134217728&e.$$.dirty[1]&&y(D,u.controlsOnPause=R,u),128&e.$$.dirty[0]&&y(D,u.timeDisplay=O,u),8192&e.$$.dirty[0]&&n(26,o=0==K),2304&e.$$.dirty[0]|33554432&e.$$.dirty[1]&&F&&(n(9,q=0),S&&L.play()),20992&e.$$.dirty[0]&&n(30,s=!J||W&&0==q),86016&e.$$.dirty[0]|402653184&e.$$.dirty[1]&&n(27,a=J&&(W&&R||Q&&!te)),33792&e.$$.dirty[0]&&n(29,c=j||X),151552&e.$$.dirty[0]&&n(28,l=!J||W&&!re)},[d,p,f,A,x,E,_,O,L,q,j,F,W,K,J,X,te,re,B,P,z,H,Z,Y,ee,ne,o,a,l,c,s,r,D,function(e){n(14,J=!0)},function(e){n(15,X=!1)},function(e){n(15,X=!0)},function(e){n(59,Q=!0)},function(e){n(59,Q=!1)},function(e){Z||ne||n(12,W=!W)},function(e){if(Ru===L){switch(e.code){case"Tab":if(oe)break;a||(e.stopPropagation(),e.preventDefault(),n(27,a=!0));break;case"Space":if(oe)break;e.preventDefault(),Ru.paused?Ru.play():Ru.pause();break;case"ArrowLeft":e.preventDefault(),se(!0);break;case"ArrowRight":e.preventDefault(),se()}oe=!0}},function(e){Ru===L&&(oe=!1)},function(e){n(24,ee=!ee)},function(e){L!=L&&n(12,W=!1)},function(e){n(12,W=!W)},function(e){o?(n(13,K=G),G=1):(G=K,n(13,K=0))},function(){n(12,W=!W)},m,g,v,b,w,k,$,V,I,C,S,T,R,Q,function(e){de[e?"unshift":"push"]((()=>{L=e,n(8,L)}))},function(){q=this.currentTime,H=U(this.played),F=this.ended,n(9,q),n(11,F),n(56,S),n(8,L),n(21,H),n(11,F)},function(){P=this.duration,n(19,P)},function(){z=U(this.buffered),n(20,z)},function(){z=U(this.buffered),n(20,z)},function(){j=this.seeking,n(10,j)},function(){F=this.ended,n(11,F)},function(){W=this.paused,n(12,W)},function(){K=this.volume,n(13,K)},function(e){q=e,n(9,q),n(11,F),n(56,S),n(8,L)},function(e){W=e,n(12,W)},function(e){re=e,n(17,re)},function(e){K=e,n(13,K)},function(e){Z=e,n(22,Z)},function(e){de[e?"unshift":"push"]((()=>{B=e,n(18,B)}))},function(e){te=e,n(16,te)},function(e){ne=e,n(25,ne)},function(e){Y=e,n(23,Y)},function(e){ee=e,n(24,ee)}]}class Mu extends qe{constructor(e){super(),Ue(this,e,Du,_u,a,{width:0,height:1,poster:2,source:46,controlsHeight:47,trackHeight:48,thumbSize:49,centerIconSize:50,playerBgColor:3,color:51,focusColor:52,barsBgColor:53,iconColor:4,bufferedColor:54,chunkBars:55,borderRadius:5,loop:56,skipSeconds:57,aspectRatio:6,controlsOnPause:58,timeDisplay:7},wu,[-1,-1,-1])}}function Nu(e){E(e,"svelte-1sqfmr5",".aspect.svelte-1sqfmr5{position:relative;width:100%;height:0;padding-top:100%;overflow:hidden;border-radius:8px;-webkit-mask-image:-webkit-radial-gradient(white, black);mask-image:-webkit-radial-gradient(white, black)}")}function Bu(t){let n;return{c(){n=M("div"),F(n,"class","aspect svelte-1sqfmr5"),H(n,"padding-top",100*t[2]+"%"),H(n,"background-color",t[0]),H(n,"border-radius",t[1])},m(e,t){R(e,n,t)},p(e,[t]){4&t&&H(n,"padding-top",100*e[2]+"%"),1&t&&H(n,"background-color",e[0]),2&t&&H(n,"border-radius",e[1])},i:e,o:e,d(e){e&&O(n)}}}function Lu(e,t,n){let{playerBgColor:r}=t,{borderRadius:i}=t,{aspectRatio:o}=t;return e.$$set=e=>{"playerBgColor"in e&&n(0,r=e.playerBgColor),"borderRadius"in e&&n(1,i=e.borderRadius),"aspectRatio"in e&&n(2,o=e.aspectRatio)},[r,i,o]}class Pu extends qe{constructor(e){super(),Ue(this,e,Lu,Bu,a,{playerBgColor:0,borderRadius:1,aspectRatio:2},Nu)}}function ju(e){let t,n;return t=new Pu({props:{playerBgColor:e[8],borderRadius:e[15],aspectRatio:e[20]}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.playerBgColor=e[8]),32768&n&&(r.borderRadius=e[15]),1048576&n&&(r.aspectRatio=e[20]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Fu(e){let t,n;return t=new Mu({props:{width:e[0],height:e[1],poster:e[2],source:e[3],controlsHeight:e[4],trackHeight:e[5],thumbSize:e[6],centerIconSize:e[7],playerBgColor:e[8],color:e[9],focusColor:e[10],barsBgColor:e[11],iconColor:e[12],bufferedColor:e[13],chunkBars:e[14],borderRadius:e[15],loop:e[16],skipSeconds:e[17],aspectRatio:e[20],controlsOnPause:e[18],timeDisplay:e[19]}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.width=e[0]),2&n&&(r.height=e[1]),4&n&&(r.poster=e[2]),8&n&&(r.source=e[3]),16&n&&(r.controlsHeight=e[4]),32&n&&(r.trackHeight=e[5]),64&n&&(r.thumbSize=e[6]),128&n&&(r.centerIconSize=e[7]),256&n&&(r.playerBgColor=e[8]),512&n&&(r.color=e[9]),1024&n&&(r.focusColor=e[10]),2048&n&&(r.barsBgColor=e[11]),4096&n&&(r.iconColor=e[12]),8192&n&&(r.bufferedColor=e[13]),16384&n&&(r.chunkBars=e[14]),32768&n&&(r.borderRadius=e[15]),65536&n&&(r.loop=e[16]),131072&n&&(r.skipSeconds=e[17]),1048576&n&&(r.aspectRatio=e[20]),262144&n&&(r.controlsOnPause=e[18]),524288&n&&(r.timeDisplay=e[19]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Uu(e){let t,n,r,i;const o=[Fu,ju],s=[];return t=function(e,t){return e[21]?0:1}(e),n=s[t]=o[t](e),{c(){n.c(),r=P()},m(e,n){s[t].m(e,n),R(e,r,n),i=!0},p(e,[t]){n.p(e,t)},i(e){i||(Se(n),i=!0)},o(e){Te(n),i=!1},d(e){s[t].d(e),e&&O(r)}}}function qu(e,t,n){let r,i,o,s="undefined"!=typeof window,{width:a=1920}=t,{height:c=1080}=t,{poster:l=""}=t,{source:u=""}=t,{controlsHeight:d="55px"}=t,{trackHeight:h="6px"}=t,{thumbSize:p="15px"}=t,{centerIconSize:f="60px"}=t,{playerBgColor:m="black"}=t,{color:g="#FF3E00"}=t,{focusColor:v="white"}=t,{barsBgColor:b="white"}=t,{iconColor:y="white"}=t,{bufferedColor:w="#FF9600"}=t,{chunkBars:A=!1}=t,{borderRadius:k="8px"}=t,{loop:$=!1}=t,{skipSeconds:V=5}=t,{controlsOnPause:x=!0}=t,{timeDisplay:I=!1}=t;return e.$$set=e=>{"width"in e&&n(0,a=e.width),"height"in e&&n(1,c=e.height),"poster"in e&&n(2,l=e.poster),"source"in e&&n(3,u=e.source),"controlsHeight"in e&&n(4,d=e.controlsHeight),"trackHeight"in e&&n(5,h=e.trackHeight),"thumbSize"in e&&n(6,p=e.thumbSize),"centerIconSize"in e&&n(7,f=e.centerIconSize),"playerBgColor"in e&&n(8,m=e.playerBgColor),"color"in e&&n(9,g=e.color),"focusColor"in e&&n(10,v=e.focusColor),"barsBgColor"in e&&n(11,b=e.barsBgColor),"iconColor"in e&&n(12,y=e.iconColor),"bufferedColor"in e&&n(13,w=e.bufferedColor),"chunkBars"in e&&n(14,A=e.chunkBars),"borderRadius"in e&&n(15,k=e.borderRadius),"loop"in e&&n(16,$=e.loop),"skipSeconds"in e&&n(17,V=e.skipSeconds),"controlsOnPause"in e&&n(18,x=e.controlsOnPause),"timeDisplay"in e&&n(19,I=e.timeDisplay)},e.$$.update=()=>{1&e.$$.dirty&&n(22,r=parseInt(a)),2&e.$$.dirty&&n(23,i=parseInt(c)),12582912&e.$$.dirty&&n(20,o=i/r)},[a,c,l,u,d,h,p,f,m,g,v,b,y,w,A,k,$,V,x,I,o,s,r,i]}class zu extends qe{constructor(e){super(),Ue(this,e,qu,Uu,a,{width:0,height:1,poster:2,source:3,controlsHeight:4,trackHeight:5,thumbSize:6,centerIconSize:7,playerBgColor:8,color:9,focusColor:10,barsBgColor:11,iconColor:12,bufferedColor:13,chunkBars:14,borderRadius:15,loop:16,skipSeconds:17,controlsOnPause:18,timeDisplay:19})}}const Hu=(e,t)=>{if(e){const n=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/;let r=!1,i=!1,o=!1;const s=e.split(/(https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*))/).map((e=>/(https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*))/.test(e)?e:e.split(/(\*|_|~)(.*?)(\*|_|~)/))).flat().reduce(((e,t)=>"*"===t?(r=!r,e):"_"===t?(i=!i,e):"~"===t?(o=!o,e):(e.push({type:"text",content:t,bold:r,italic:i,underline:o}),e)),[]),a=[];return s.forEach((e=>{const r=e.content.split(/(\n| )+/).filter((e=>" "!==e)).map(((r,i)=>n.test(r)?Object.assign(Object.assign({},e),{type:"link",content:r}):r.includes("$file")?{type:"file",content:void 0!==t?t:"$file"}:Object.assign(Object.assign({},e),{content:r})));a.push(...r)})),a}return[]};function Wu(e){const t=t=>{!e||e.contains(t.target)||t.defaultPrevented||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function Ku(e){E(e,"svelte-1ftzncb",'.modal.svelte-1ftzncb{display:none;justify-content:center;align-items:center;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.4)}.modal-content.svelte-1ftzncb{background-color:#fefefe;padding:16px 16px 8px 16px;border:1px solid #888;max-width:600px;width:75%}.btn.svelte-1ftzncb{position:relative;display:inline-block;box-sizing:border-box;border:none;border-radius:4px;padding:0 8px;min-width:64px;height:36px;vertical-align:middle;text-align:center;text-overflow:ellipsis;text-transform:uppercase;color:#0f2b42;background-color:transparent;font-size:14px;font-weight:500;line-height:36px;overflow:hidden;outline:none;cursor:pointer}.btn.svelte-1ftzncb::-moz-focus-inner{border:none}.btn.svelte-1ftzncb::before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;background-color:currentColor;opacity:0;transition:opacity 0.2s}.btn.svelte-1ftzncb::after{content:"";position:absolute;left:50%;top:50%;border-radius:50%;padding:50%;width:32px;height:32px;background-color:currentColor;opacity:0;transform:translate(-50%, -50%) scale(1) ;transition:opacity 1s, transform 0.5s}.btn.svelte-1ftzncb:hover::before{opacity:0.04}.btn.svelte-1ftzncb:focus::before{opacity:0.12}.btn.svelte-1ftzncb:hover:focus::before{opacity:0.16}.btn.svelte-1ftzncb:active::after{opacity:0.16;transform:translate(-50%, -50%) scale(0);transition:transform 0s}')}function Gu(e){let t,n,r,i,s,a,c,l,u,d;const h=e[5].default,f=p(h,e,e[4],null);return{c(){t=M("div"),f&&f.c(),n=L(),r=M("div"),i=M("div"),s=L(),a=M("button"),a.innerHTML="<span>FECHAR</span>",H(i,"flex-grow","1"),F(a,"class","btn svelte-1ftzncb"),H(r,"display","flex"),H(r,"width","100%"),F(t,"class","modal-content svelte-1ftzncb")},m(o,h){R(o,t,h),f&&f.m(t,null),C(t,n),C(t,r),C(r,i),C(r,s),C(r,a),l=!0,u||(d=[j(a,"click",e[6]),w(c=Wu.call(null,t)),j(t,"click_outside",e[7])],u=!0)},p(e,t){f&&f.p&&(!l||16&t)&&g(f,h,e,e[4],l?m(h,e[4],t,null):v(e[4]),null)},i(e){l||(Se(f,e),l=!0)},o(e){Te(f,e),l=!1},d(e){e&&O(t),f&&f.d(e),u=!1,o(d)}}}function Ju(e){let t,n,r=e[2]&&Gu(e);return{c(){t=M("div"),r&&r.c(),F(t,"class","modal svelte-1ftzncb")},m(i,o){R(i,t,o),r&&r.m(t,null),e[8](t),n=!0},p(e,[n]){e[2]?r?(r.p(e,n),4&n&&Se(r,1)):(r=Gu(e),r.c(),Se(r,1),r.m(t,null)):r&&(Ce(),Te(r,1,1,(()=>{r=null})),Ee())},i(e){n||(Se(r),n=!0)},o(e){Te(r),n=!1},d(n){n&&O(t),r&&r.d(),e[8](null)}}}function Qu(e,t,n){let r,{$$slots:i={},$$scope:o}=t,s=!1;function a(){n(1,r.style.display="none",r),n(2,s=!1)}return e.$$set=e=>{"$$scope"in e&&n(4,o=e.$$scope)},[a,r,s,function(){n(1,r.style.display="flex",r),n(2,s=!0)},o,i,()=>a(),()=>{a()},function(e){de[e?"unshift":"push"]((()=>{r=e,n(1,r)}))}]}class Zu extends qe{constructor(e){super(),Ue(this,e,Qu,Ju,a,{openModal:3,closeModal:0},Ku)}get openModal(){return this.$$.ctx[3]}get closeModal(){return this.$$.ctx[0]}}function Xu(e){E(e,"svelte-e8w6ax",".spinner.svelte-e8w6ax{animation:svelte-e8w6ax-rotator 1.4s linear infinite;height:40px;width:40px}@keyframes svelte-e8w6ax-rotator{0%{transform:rotate(0deg)}100%{transform:rotate(270deg)}}.path.svelte-e8w6ax{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:svelte-e8w6ax-dash 1.4s ease-in-out infinite,\n        svelte-e8w6ax-colors 5.6s ease-in-out infinite}@keyframes svelte-e8w6ax-colors{0%{stroke:#1b4d75}50%{stroke:#0f2b42}100%{stroke:#1b4d75}}@keyframes svelte-e8w6ax-dash{0%{stroke-dashoffset:187\n        }50%{stroke-dashoffset:46.75;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}")}function Yu(t){let n,r;return{c(){n=N("svg"),r=N("circle"),F(r,"class","path svelte-e8w6ax"),F(r,"fill","none"),F(r,"stroke-width","6"),F(r,"stroke-linecap","round"),F(r,"cx","33"),F(r,"cy","33"),F(r,"r","30"),F(n,"class","spinner svelte-e8w6ax"),F(n,"width","65px"),F(n,"height","65px"),F(n,"viewBox","0 0 66 66"),F(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){R(e,n,t),C(n,r)},p:e,i:e,o:e,d(e){e&&O(n)}}}class ed extends qe{constructor(e){super(),Ue(this,e,null,Yu,a,{},Xu)}}function td(e){E(e,"svelte-yhnnif",".waitDiv.svelte-yhnnif{height:56px;display:flex;align-items:center;justify-content:center}.botDiv.svelte-yhnnif{font-size:12px;position:absolute;bottom:4px;right:16px}.image.svelte-yhnnif{cursor:pointer;height:100%;width:100%;object-fit:cover}.imageModal.svelte-yhnnif{max-width:600px;height:100%;width:100%;object-fit:cover}.audioDiv.svelte-yhnnif{margin:0;width:268px !important;margin-top:4px !important}.file.svelte-yhnnif{margin:0 8px;text-overflow:ellipsis;overflow:hidden;width:188px}")}function nd(e,t,n){const r=e.slice();return r[11]=t[n],r}function rd(e,t,n){const r=e.slice();return r[11]=t[n],r}function id(t){let n,r,i;return r=new ed({}),{c(){n=M("div"),Le(r.$$.fragment),F(n,"class","waitDiv svelte-yhnnif")},m(e,t){R(e,n,t),Pe(r,n,null),i=!0},p:e,i(e){i||(Se(r.$$.fragment,e),i=!0)},o(e){Te(r.$$.fragment,e),i=!1},d(e){e&&O(n),je(r)}}}function od(e){let t,n;return t=new zu({props:{source:e[1],controlsHeight:"24px",color:e[6].palette.primary.main}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.source=e[1]),64&n&&(r.color=e[6].palette.primary.main),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function sd(e){let t,n,r,i,o,s,a,c;return o=new Zu({props:{$$slots:{default:[dd]},$$scope:{ctx:e}}}),e[10](o),{c(){t=M("img"),i=L(),Le(o.$$.fragment),l(t.src,n=e[1])||F(t,"src",n),F(t,"alt",r="Imagem "+(e[4]?"enviada":"recebida")),F(t,"class","image svelte-yhnnif")},m(n,r){R(n,t,r),R(n,i,r),Pe(o,n,r),s=!0,a||(c=j(t,"click",e[9]),a=!0)},p(e,i){(!s||2&i&&!l(t.src,n=e[1]))&&F(t,"src",n),(!s||16&i&&r!==(r="Imagem "+(e[4]?"enviada":"recebida")))&&F(t,"alt",r);const a={};65554&i&&(a.$$scope={dirty:i,ctx:e}),o.$set(a)},i(e){s||(Se(o.$$.fragment,e),s=!0)},o(e){Te(o.$$.fragment,e),s=!1},d(n){n&&O(t),n&&O(i),e[10](null),je(o,n),a=!1,c()}}}function ad(t){let n,r,i,o;return{c(){n=M("audio"),r=M("source"),l(r.src,i=t[1])||F(r,"src",i),F(r,"type",o=t[2]?.includes(".webm")?"audio/webm":t[2]?.includes(".mp3")?"audio/mpeg":"audio/ogg"),n.controls=!0,F(n,"class","audioDiv svelte-yhnnif")},m(e,t){R(e,n,t),C(n,r)},p(e,t){2&t&&!l(r.src,i=e[1])&&F(r,"src",i),4&t&&o!==(o=e[2]?.includes(".webm")?"audio/webm":e[2]?.includes(".mp3")?"audio/mpeg":"audio/ogg")&&F(r,"type",o)},i:e,o:e,d(e){e&&O(n)}}}function cd(e){let t,n,r,i,o,s,a,c,l,u;return n=new Tn({props:{path:"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"}}),c=new Tn({props:{path:"M8 17V15H16V17H8M16 10L12 14L8 10H10.5V6H13.5V10H16M12 2C17.5 2 22 6.5 22 12C22 17.5 17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4Z",style:`color: ${e[4]?e[6].palette.bubbleText.sent:e[6].palette.bubbleText.received}`}}),{c(){t=M("div"),Le(n.$$.fragment),r=L(),i=M("p"),o=B(e[2]),s=L(),a=M("a"),Le(c.$$.fragment),F(i,"class","file svelte-yhnnif"),F(a,"href",e[1]),F(a,"download",e[2]),F(a,"target","_blank"),F(a,"rel","noreferrer"),F(a,"style",l=`color: ${e[6].palette.bubbleText.sent}`),F(t,"class",b(yn`
          display: flex;
        `)+" svelte-yhnnif")},m(e,l){R(e,t,l),Pe(n,t,null),C(t,r),C(t,i),C(i,o),C(t,s),C(t,a),Pe(c,a,null),u=!0},p(e,t){(!u||4&t)&&q(o,e[2]);const n={};80&t&&(n.style=`color: ${e[4]?e[6].palette.bubbleText.sent:e[6].palette.bubbleText.received}`),c.$set(n),(!u||2&t)&&F(a,"href",e[1]),(!u||4&t)&&F(a,"download",e[2]),(!u||64&t&&l!==(l=`color: ${e[6].palette.bubbleText.sent}`))&&F(a,"style",l)},i(e){u||(Se(n.$$.fragment,e),Se(c.$$.fragment,e),u=!0)},o(e){Te(n.$$.fragment,e),Te(c.$$.fragment,e),u=!1},d(e){e&&O(t),je(n),je(c)}}}function ld(e){let t,n,r=Hu(e[1],e[2]),i=[];for(let t=0;t<r.length;t+=1)i[t]=fd(nd(e,r,t));const o=e=>Te(i[e],1,1,(()=>{i[e]=null}));return{c(){t=M("div");for(let e=0;e<i.length;e+=1)i[e].c();F(t,"class",b(yn`
          white-space: pre-line;
        `)+" svelte-yhnnif")},m(e,r){R(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(14&n){let s;for(r=Hu(e[1],e[2]),s=0;s<r.length;s+=1){const o=nd(e,r,s);i[s]?(i[s].p(o,n),Se(i[s],1)):(i[s]=fd(o),i[s].c(),Se(i[s],1),i[s].m(t,null))}for(Ce(),s=r.length;s<i.length;s+=1)o(s);Ee()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Se(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Te(i[e]);n=!1},d(e){e&&O(t),D(i,e)}}}function ud(e){let t,n,r=Hu(e[1]),i=[];for(let t=0;t<r.length;t+=1)i[t]=md(rd(e,r,t));const o=e=>Te(i[e],1,1,(()=>{i[e]=null}));return{c(){t=M("div");for(let e=0;e<i.length;e+=1)i[e].c();F(t,"class",b(yn`
          white-space: pre-line;
        `)+" svelte-yhnnif")},m(e,r){R(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(2&n){let s;for(r=Hu(e[1]),s=0;s<r.length;s+=1){const o=rd(e,r,s);i[s]?(i[s].p(o,n),Se(i[s],1)):(i[s]=md(o),i[s].c(),Se(i[s],1),i[s].m(t,null))}for(Ce(),s=r.length;s<i.length;s+=1)o(s);Ee()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Se(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Te(i[e]);n=!1},d(e){e&&O(t),D(i,e)}}}function dd(e){let t,n,r;return{c(){t=M("img"),l(t.src,n=e[1])||F(t,"src",n),F(t,"alt",r="Imagem "+(e[4]?"enviada":"recebida")),F(t,"class","imageModal svelte-yhnnif")},m(e,n){R(e,t,n)},p(e,i){2&i&&!l(t.src,n=e[1])&&F(t,"src",n),16&i&&r!==(r="Imagem "+(e[4]?"enviada":"recebida"))&&F(t,"alt",r)},d(e){e&&O(t)}}}function hd(e){let t,n;return t=new Ec({props:{content:e[11].content,type:e[11].type,downloadLink:e[3]}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};6&n&&(r.content=e[11].content),6&n&&(r.type=e[11].type),8&n&&(r.downloadLink=e[3]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function pd(e){let t,n;return t=new Ec({props:{content:e[11].content,type:e[11].type}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};6&n&&(r.content=e[11].content),6&n&&(r.type=e[11].type),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function fd(e){let t,n,r,i;const o=[pd,hd],s=[];function a(e,t){return"file"!==e[11].type?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=P()},m(e,n){s[t].m(e,n),R(e,r,n),i=!0},p(e,i){let c=t;t=a(e),t===c?s[t].p(e,i):(Ce(),Te(s[c],1,1,(()=>{s[c]=null})),Ee(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),Se(n,1),n.m(r.parentNode,r))},i(e){i||(Se(n),i=!0)},o(e){Te(n),i=!1},d(e){s[t].d(e),e&&O(r)}}}function md(e){let t,n;return t=new Ec({props:{content:e[11].content,type:e[11].type,bold:e[11].bold,italic:e[11].italic}}),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.content=e[11].content),2&n&&(r.type=e[11].type),2&n&&(r.bold=e[11].bold),2&n&&(r.italic=e[11].italic),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function gd(e){let t,n,r,i=`${e[5].getHours().toString().padStart(2,"0")}:${e[5].getMinutes().toString().padStart(2,"0")}`;return{c(){t=M("span"),n=B(i),F(t,"class",r=b(e[8].createdDateText)+" svelte-yhnnif")},m(e,r){R(e,t,r),C(t,n)},p(e,o){32&o&&i!==(i=`${e[5].getHours().toString().padStart(2,"0")}:${e[5].getMinutes().toString().padStart(2,"0")}`)&&q(n,i),256&o&&r!==(r=b(e[8].createdDateText)+" svelte-yhnnif")&&F(t,"class",r)},d(e){e&&O(t)}}}function vd(e){let t,n,r,i,o,s,a,c;const l=[ud,ld,cd,ad,sd,od,id],u=[];function d(e,t){return"text"===e[0]?0:"fileText"===e[0]?1:"file"===e[0]||"document"===e[0]?2:"audio"===e[0]?3:"image"===e[0]?4:"video"===e[0]?5:"wait"===e[0]?6:-1}~(r=d(e))&&(i=u[r]=l[r](e));let h=e[5]&&gd(e);return{c(){t=M("div"),n=M("div"),i&&i.c(),o=L(),h&&h.c(),F(n,"class",s=b(e[8].bubblePaper)+" svelte-yhnnif"),F(t,"class",a=b(e[8].bubbleDiv)+" svelte-yhnnif")},m(e,i){R(e,t,i),C(t,n),~r&&u[r].m(n,null),C(n,o),h&&h.m(n,null),c=!0},p(e,[p]){let f=r;r=d(e),r===f?~r&&u[r].p(e,p):(i&&(Ce(),Te(u[f],1,1,(()=>{u[f]=null})),Ee()),~r?(i=u[r],i?i.p(e,p):(i=u[r]=l[r](e),i.c()),Se(i,1),i.m(n,o)):i=null),e[5]?h?h.p(e,p):(h=gd(e),h.c(),h.m(n,null)):h&&(h.d(1),h=null),(!c||256&p&&s!==(s=b(e[8].bubblePaper)+" svelte-yhnnif"))&&F(n,"class",s),(!c||256&p&&a!==(a=b(e[8].bubbleDiv)+" svelte-yhnnif"))&&F(t,"class",a)},i(e){c||(Se(i),c=!0)},o(e){Te(i),c=!1},d(e){e&&O(t),~r&&u[r].d(),h&&h.d()}}}function bd(e,t,n){let r;h(e,Ke,(e=>n(6,r=e)));let i,{type:o}=t,{content:s}=t,{fileName:a}=t,{fileId:c}=t,{sender:l}=t,{createdDate:u}=t,d={};return e.$$set=e=>{"type"in e&&n(0,o=e.type),"content"in e&&n(1,s=e.content),"fileName"in e&&n(2,a=e.fileName),"fileId"in e&&n(3,c=e.fileId),"sender"in e&&n(4,l=e.sender),"createdDate"in e&&n(5,u=e.createdDate)},e.$$.update=()=>{81&e.$$.dirty&&n(8,d={bubbleDiv:yn`
      display: flex;
      width: 100%;
      justify-content: ${l?"flex-end":"unset"};
    `,bubblePaper:yn`
      border-radius: ${r.shape.bubbleBorderRadius} !important;
      max-width: ${"text"===o?"80%":"image"===o||"video"===o?"250px":"audio"===o?"268px":"fit-content"};
      width: ${"text"===o?"fit-content":"image"===o||"video"===o?"250px":"audio"===o?"268px":"fit-content"};
      min-width: ${"image"===o||"video"===o?"250px":"audio"===o?"268px":"unset"};
      padding: ${"audio"===o?"8px":"16px"};
      background-color: ${l?r.palette.bubble.sent:r.palette.bubble.received};
      color: ${l?r.palette.bubbleText.sent:r.palette.bubbleText.received};
      position: relative;
      margin: 1px 16px 7px 16px;
    `,createdDateText:yn`
      display: block;
      font-size: 0.75rem;
      line-height: 1.66;
      text-align: right;
    `})},[o,s,a,c,l,u,r,i,d,()=>{i.openModal()},function(e){de[e?"unshift":"push"]((()=>{i=e,n(7,i)}))}]}class yd extends qe{constructor(e){super(),Ue(this,e,bd,vd,a,{type:0,content:1,fileName:2,fileId:3,sender:4,createdDate:5},td)}}const wd=Object.create(null);wd.open="0",wd.close="1",wd.ping="2",wd.pong="3",wd.message="4",wd.upgrade="5",wd.noop="6";const Ad=Object.create(null);Object.keys(wd).forEach((e=>{Ad[wd[e]]=e}));const kd={type:"error",data:"parser error"},$d="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Vd="function"==typeof ArrayBuffer,xd=({type:e,data:t},n,r)=>{return $d&&t instanceof Blob?n?r(t):Id(t,r):Vd&&(t instanceof ArrayBuffer||(i=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?n?r(t):Id(new Blob([t]),r):r(wd[e]+(t||""));var i},Id=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)},Cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ed="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<Cd.length;e++)Ed[Cd.charCodeAt(e)]=e;const Sd="function"==typeof ArrayBuffer,Td=(e,t)=>{if("string"!=typeof e)return{type:"message",data:Rd(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:_d(e.substring(1),t)};return Ad[n]?e.length>1?{type:Ad[n],data:e.substring(1)}:{type:Ad[n]}:kd},_d=(e,t)=>{if(Sd){const n=(e=>{let t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const l=new ArrayBuffer(s),u=new Uint8Array(l);for(t=0;t<a;t+=4)n=Ed[e.charCodeAt(t)],r=Ed[e.charCodeAt(t+1)],i=Ed[e.charCodeAt(t+2)],o=Ed[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|i>>2,u[c++]=(3&i)<<6|63&o;return l})(e);return Rd(n,t)}return{base64:!0,data:e}},Rd=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,Od=String.fromCharCode(30);function Dd(e){if(e)return function(e){for(var t in Dd.prototype)e[t]=Dd.prototype[t];return e}(e)}Dd.prototype.on=Dd.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Dd.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Dd.prototype.off=Dd.prototype.removeListener=Dd.prototype.removeAllListeners=Dd.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Dd.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Dd.prototype.emitReserved=Dd.prototype.emit,Dd.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Dd.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Md="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Nd(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Bd=setTimeout,Ld=clearTimeout;function Pd(e,t){t.useNativeTimers?(e.setTimeoutFn=Bd.bind(Md),e.clearTimeoutFn=Ld.bind(Md)):(e.setTimeoutFn=setTimeout.bind(Md),e.clearTimeoutFn=clearTimeout.bind(Md))}class jd extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Fd extends Dd{constructor(e){super(),this.writable=!1,Pd(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new jd(e,t,n)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Td(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const Ud="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),qd={};let zd,Hd=0,Wd=0;function Kd(e){let t="";do{t=Ud[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Gd(){const e=Kd(+new Date);return e!==zd?(Hd=0,zd=e):e+"."+Kd(Hd++)}for(;Wd<64;Wd++)qd[Ud[Wd]]=Wd;function Jd(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}let Qd=!1;try{Qd="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const Zd=Qd;function Xd(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Zd))return new XMLHttpRequest}catch(e){}if(!t)try{return new(Md[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function Yd(){}const eh=null!=new Xd({xdomain:!1}).responseType;class th extends Dd{constructor(e,t){super(),Pd(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=Nd(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Xd(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=th.requestsCount++,th.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Yd,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete th.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(th.requestsCount=0,th.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",nh);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Md?"pagehide":"unload",nh,!1)}function nh(){for(let e in th.requests)th.requests.hasOwnProperty(e)&&th.requests[e].abort()}const rh="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ih=Md.WebSocket||Md.MozWebSocket,oh="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const sh={websocket:class extends Fd{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=oh?{}:Nd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=oh?new ih(e,t,n):t?new ih(e,t):new ih(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;xd(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}r&&rh((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Gd()),this.supportsBinary||(e.b64=1);const r=Jd(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!!ih}},polling:class extends Fd{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=eh&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Od),r=[];for(let e=0;e<n.length;e++){const i=Td(n[e],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,o)=>{xd(e,!1,(e=>{r[o]=e,++i===n&&t(r.join(Od))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Gd()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=Jd(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new th(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},ah=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ch=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lh(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=ah.exec(e||""),o={},s=14;for(;s--;)o[ch[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,o.query),o}class uh extends Dd{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=lh(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=lh(t.host).host),Pd(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new sh[e](n)}open(){let e;if(this.opts.rememberUpgrade&&uh.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;uh.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;uh.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,l(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function s(){o("transport closed")}function a(){o("socket closed")}function c(e){t&&e.name!==t.name&&i()}const l=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",s),this.once("close",a),this.once("upgrading",c),t.open()}onOpen(){if(this.readyState="open",uh.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){uh.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}uh.protocol=4;const dh="function"==typeof ArrayBuffer,hh=Object.prototype.toString,ph="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===hh.call(Blob),fh="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===hh.call(File);function mh(e){return dh&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||ph&&e instanceof Blob||fh&&e instanceof File}function gh(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(gh(e[t]))return!0;return!1}if(mh(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return gh(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&gh(e[t]))return!0;return!1}function vh(e){const t=[],n=e.data,r=e;return r.data=bh(n,t),r.attachments=t.length,{packet:r,buffers:t}}function bh(e,t){if(!e)return e;if(mh(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=bh(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=bh(e[r],t));return n}return e}function yh(e,t){return e.data=wh(e.data,t),delete e.attachments,e}function wh(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=wh(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=wh(e[n],t));return e}var Ah;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Ah||(Ah={}));class kh extends Dd{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Ah.BINARY_EVENT;n||t.type===Ah.BINARY_ACK?(t.type=n?Ah.EVENT:Ah.ACK,this.reconstructor=new $h(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!mh(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Ah[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Ah.BINARY_EVENT||n.type===Ah.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!kh.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case Ah.CONNECT:return"object"==typeof t;case Ah.DISCONNECT:return void 0===t;case Ah.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Ah.EVENT:case Ah.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Ah.ACK:case Ah.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class $h{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=yh(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Vh=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Ah},Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==Ah.EVENT&&e.type!==Ah.ACK||!gh(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ah.EVENT?Ah.BINARY_EVENT:Ah.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Ah.BINARY_EVENT&&e.type!==Ah.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=vh(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}},Decoder:kh});function xh(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Ih=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ch extends Dd{constructor(e,t,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[xh(e,"open",this.onopen.bind(this)),xh(e,"packet",this.onpacket.bind(this)),xh(e,"error",this.onerror.bind(this)),xh(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Ih.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const n={type:Ah.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const r=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:Ah.CONNECT,data:e})})):this.packet({type:Ah.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ah.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ah.EVENT:case Ah.BINARY_EVENT:this.onevent(e);break;case Ah.ACK:case Ah.BINARY_ACK:this.onack(e);break;case Ah.DISCONNECT:this.ondisconnect();break;case Ah.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:Ah.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ah.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Eh(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Eh.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Eh.prototype.reset=function(){this.attempts=0},Eh.prototype.setMin=function(e){this.ms=e},Eh.prototype.setMax=function(e){this.max=e},Eh.prototype.setJitter=function(e){this.jitter=e};class Sh extends Dd{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Pd(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Eh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Vh;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new uh(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=xh(t,"open",(function(){n.onopen(),e&&e()})),i=xh(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&r();const n=this.setTimeoutFn((()=>{r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(xh(e,"ping",this.onping.bind(this)),xh(e,"data",this.ondata.bind(this)),xh(e,"error",this.onerror.bind(this)),xh(e,"close",this.onclose.bind(this)),xh(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){rh((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new Ch(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Th={};function _h(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=lh(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=Th[i]&&o in Th[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new Sh(r,t):(Th[i]||(Th[i]=new Sh(r,t)),a=Th[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(_h,{Manager:Sh,Socket:Ch,io:_h,connect:_h});var Rh={exports:{}},Oh=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Dh=Oh,Mh=Object.prototype.toString;function Nh(e){return"[object Array]"===Mh.call(e)}function Bh(e){return void 0===e}function Lh(e){return null!==e&&"object"==typeof e}function Ph(e){if("[object Object]"!==Mh.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function jh(e){return"[object Function]"===Mh.call(e)}function Fh(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Nh(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var Uh={isArray:Nh,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Mh.call(e)},isBuffer:function(e){return null!==e&&!Bh(e)&&null!==e.constructor&&!Bh(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Lh,isPlainObject:Ph,isUndefined:Bh,isDate:function(e){return"[object Date]"===Mh.call(e)},isFile:function(e){return"[object File]"===Mh.call(e)},isBlob:function(e){return"[object Blob]"===Mh.call(e)},isFunction:jh,isStream:function(e){return Lh(e)&&jh(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Fh,merge:function e(){var t={};function n(n,r){Ph(t[r])&&Ph(n)?t[r]=e(t[r],n):Ph(n)?t[r]=e({},n):Nh(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)Fh(arguments[r],n);return t},extend:function(e,t,n){return Fh(t,(function(t,r){e[r]=n&&"function"==typeof t?Dh(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},qh=Uh;function zh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Hh=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(qh.isURLSearchParams(t))r=t.toString();else{var i=[];qh.forEach(t,(function(e,t){null!=e&&(qh.isArray(e)?t+="[]":e=[e],qh.forEach(e,(function(e){qh.isDate(e)?e=e.toISOString():qh.isObject(e)&&(e=JSON.stringify(e)),i.push(zh(t)+"="+zh(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},Wh=Uh;function Kh(){this.handlers=[]}Kh.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},Kh.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Kh.prototype.forEach=function(e){Wh.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Gh=Kh,Jh=Uh,Qh=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Zh=Qh,Xh=function(e,t,n,r,i){var o=new Error(e);return Zh(o,t,n,r,i)},Yh=Xh,ep=Uh,tp=ep.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),ep.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ep.isString(r)&&s.push("path="+r),ep.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},np=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},rp=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},ip=Uh,op=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],sp=Uh,ap=sp.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=sp.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function cp(e){this.message=e}cp.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},cp.prototype.__CANCEL__=!0;var lp=cp,up=Uh,dp=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(Yh("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},hp=tp,pp=Hh,fp=function(e,t){return e&&!np(t)?rp(e,t):t},mp=function(e){var t,n,r,i={};return e?(ip.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=ip.trim(e.substr(0,r)).toLowerCase(),n=ip.trim(e.substr(r+1)),t){if(i[t]&&op.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i},gp=ap,vp=Xh,bp=Ep,yp=lp,wp=function(e){return new Promise((function(t,n){var r,i=e.data,o=e.headers,s=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}up.isFormData(i)&&delete o["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(l+":"+u)}var d=fp(e.baseURL,e.url);function h(){if(c){var r="getAllResponseHeaders"in c?mp(c.getAllResponseHeaders()):null,i={data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c};dp((function(e){t(e),a()}),(function(e){n(e),a()}),i),c=null}}if(c.open(e.method.toUpperCase(),pp(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n(vp("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){n(vp("Network Error",e,null,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||bp.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(vp(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},up.isStandardBrowserEnv()){var p=(e.withCredentials||gp(d))&&e.xsrfCookieName?hp.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}"setRequestHeader"in c&&up.forEach(o,(function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete o[t]:c.setRequestHeader(t,e)})),up.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){c&&(n(!e||e&&e.type?new yp("canceled"):e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),i||(i=null),c.send(i)}))},Ap=Uh,kp=function(e,t){Jh.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},$p=Qh,Vp={"Content-Type":"application/x-www-form-urlencoded"};function xp(e,t){!Ap.isUndefined(e)&&Ap.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Ip,Cp={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Ip=wp),Ip),transformRequest:[function(e,t){return kp(t,"Accept"),kp(t,"Content-Type"),Ap.isFormData(e)||Ap.isArrayBuffer(e)||Ap.isBuffer(e)||Ap.isStream(e)||Ap.isFile(e)||Ap.isBlob(e)?e:Ap.isArrayBufferView(e)?e.buffer:Ap.isURLSearchParams(e)?(xp(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Ap.isObject(e)||t&&"application/json"===t["Content-Type"]?(xp(t,"application/json"),function(e,t,n){if(Ap.isString(e))try{return(t||JSON.parse)(e),Ap.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Cp.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&Ap.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw $p(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ap.forEach(["delete","get","head"],(function(e){Cp.headers[e]={}})),Ap.forEach(["post","put","patch"],(function(e){Cp.headers[e]=Ap.merge(Vp)}));var Ep=Cp,Sp=Uh,Tp=Ep,_p=function(e){return!(!e||!e.__CANCEL__)},Rp=Uh,Op=function(e,t,n){var r=this||Tp;return Sp.forEach(n,(function(n){e=n.call(r,e,t)})),e},Dp=_p,Mp=Ep,Np=lp;function Bp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Np("canceled")}var Lp=Uh,Pp=function(e,t){t=t||{};var n={};function r(e,t){return Lp.isPlainObject(e)&&Lp.isPlainObject(t)?Lp.merge(e,t):Lp.isPlainObject(t)?Lp.merge({},t):Lp.isArray(t)?t.slice():t}function i(n){return Lp.isUndefined(t[n])?Lp.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function o(e){if(!Lp.isUndefined(t[e]))return r(void 0,t[e])}function s(n){return Lp.isUndefined(t[n])?Lp.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function a(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return Lp.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,r=t(e);Lp.isUndefined(r)&&t!==a||(n[e]=r)})),n},jp="0.24.0",Fp=jp,Up={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Up[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var qp={};Up.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Fp+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new Error(r(i," has been removed"+(t?" in "+t:"")));return t&&!qp[i]&&(qp[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var zp={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:Up},Hp=Uh,Wp=Hh,Kp=Gh,Gp=function(e){return Bp(e),e.headers=e.headers||{},e.data=Op.call(e,e.data,e.headers,e.transformRequest),e.headers=Rp.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Rp.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Mp.adapter)(e).then((function(t){return Bp(e),t.data=Op.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Dp(t)||(Bp(e),t&&t.response&&(t.response.data=Op.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Jp=Pp,Qp=zp,Zp=Qp.validators;function Xp(e){this.defaults=e,this.interceptors={request:new Kp,response:new Kp}}Xp.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Jp(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&Qp.assertOptions(t,{silentJSONParsing:Zp.transitional(Zp.boolean),forcedJSONParsing:Zp.transitional(Zp.boolean),clarifyTimeoutError:Zp.transitional(Zp.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var s=[Gp,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),i=Promise.resolve(e);s.length;)i=i.then(s.shift(),s.shift());return i}for(var a=e;n.length;){var c=n.shift(),l=n.shift();try{a=c(a)}catch(e){l(e);break}}try{i=Gp(a)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},Xp.prototype.getUri=function(e){return e=Jp(this.defaults,e),Wp(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Hp.forEach(["delete","get","head","options"],(function(e){Xp.prototype[e]=function(t,n){return this.request(Jp(n||{},{method:e,url:t,data:(n||{}).data}))}})),Hp.forEach(["post","put","patch"],(function(e){Xp.prototype[e]=function(t,n,r){return this.request(Jp(r||{},{method:e,url:t,data:n}))}}));var Yp=Xp,ef=lp;function tf(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new ef(e),t(n.reason))}))}tf.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},tf.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},tf.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},tf.source=function(){var e;return{token:new tf((function(t){e=t})),cancel:e}};var nf=tf,rf=Uh,of=Oh,sf=Yp,af=Pp;var cf=function e(t){var n=new sf(t),r=of(sf.prototype.request,n);return rf.extend(r,sf.prototype,n),rf.extend(r,n),r.create=function(n){return e(af(t,n))},r}(Ep);cf.Axios=sf,cf.Cancel=lp,cf.CancelToken=nf,cf.isCancel=_p,cf.VERSION=jp,cf.all=function(e){return Promise.all(e)},cf.spread=function(e){return function(t){return e.apply(null,t)}},cf.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},Rh.exports=cf,Rh.exports.default=cf;var lf=Rh.exports;const uf=async({newSocket:e,userAuth:t})=>{e.on("connect",(async()=>{cc.set(!0)})),e.on("disconnect",(async()=>{cc.set(!1)})),(null==t?void 0:t.isLoggedIn)&&e.on("joined_room",(async e=>{var n,r;let i="";if(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.isAnonymous){sc.set(e.chat._id);try{i=await t.user.getIdToken();const n=await lf.get(`https://chat-server.tykhe.dev/chats/${e.chat._id}/mensagens`,{headers:{Authorization:`Bearer ${i}`}});if(n.data.success&&(null===(r=n.data.messages)||void 0===r?void 0:r.length)>0){const e=n.data.messages.flatMap((e=>{var t,n,r,o;const s=new Date;return"text"===e.messageType?{type:"text",sender:"customer"===e.whoSent,message:{content:e.text},bot:"bot"===e.whoSent,manager:"manager"===e.whoSent,createdAt:e.createdAt?new Date(e.createdAt):void 0,addedTime:s}:"fileText"===e.messageType?{type:"fileText",sender:"customer"===e.whoSent,message:{content:e.text,filename:0!==e.files.length?null!==(n=null===(t=e.files[0])||void 0===t?void 0:t.originalName)&&void 0!==n?n:null===(r=e.files[0])||void 0===r?void 0:r.name:void 0,fileId:0!==e.files.length?null===(o=e.files[0])||void 0===o?void 0:o.url:void 0},bot:"bot"===e.whoSent,manager:"manager"===e.whoSent,createdAt:e.createdAt?new Date(e.createdAt):void 0,addedTime:s}:e.files.map((t=>{var n,r;let o=null===(n=t.fileType)||void 0===n?void 0:n.split("/")[0];"application"===o&&(o="file");let a=t.url;return["appwrite","menuOptionAppwrite"].includes(t.fileLocation)&&(a=`https://chat-server.tykhe.dev/mensagens/download/${e._id}?authToken=${i}`),{type:o,sender:"customer"===e.whoSent,message:{content:a,filename:null!==(r=t.originalName)&&void 0!==r?r:t.name},bot:"bot"===e.whoSent,manager:"manager"===e.whoSent,createdAt:e.createdAt?new Date(e.createdAt):void 0,addedTime:s}}))}));nc.set(e),n.data.lastPage&&ic.set({page:1,lastPage:n.data.lastPage})}}catch(e){console.log(e)}}})),e.on("connect_to_new_chat",(e=>{sc.set(e.chatId)})),e.on("error_join_room",(e=>{})),e.on("new_message",(e=>{"customer"!==e.whoSent&&rc.update((t=>{var n,r,i;return[...t,{type:e.messageType,message:{content:e.text,filename:"fileText"===e.messageType&&(null===(n=e.files)||void 0===n?void 0:n.length)>0?null!==(r=e.files[0].originalName)&&void 0!==r?r:e.files[0].name:void 0,fileId:(null===(i=e.files)||void 0===i?void 0:i.length)>0?e.files[0].url:void 0},sender:"customer"===e.whoSent,bot:"bot"===e.whoSent,manager:"manager"===e.whoSent,createdAt:e.createdAt?new Date(e.createdAt):void 0}]}))})),e.on("new_file",(async e=>{var n;if("customer"!==e.whoSent){let r="";if(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.isAnonymous){sc.set(e.chat._id);try{r=await t.user.getIdToken()}catch(e){}}const i=e.files.map((t=>{var n,i;let o=null===(n=t.fileType)||void 0===n?void 0:n.split("/")[0];"application"===o&&(o="file");let s=t.url;return["appwrite","menuOptionAppwrite"].includes(t.fileLocation)&&(s=`https://chat-server.tykhe.dev/mensagens/download/${e._id}?authToken=${r}`),{type:o,message:{content:s,filename:null!==(i=t.originalName)&&void 0!==i?i:t.name},sender:"customer"===e.whoSent,bot:"bot"===e.whoSent,manager:"manager"===e.whoSent,createdAt:e.createdAt?new Date(e.createdAt):void 0}}));rc.update((e=>[...e,...i]))}})),e.on("confirm_message",(e=>{"customer"===e.whoSent&&nc.update((t=>{let n=[...t];const r=n.findIndex((t=>t.message.content===e.originalText));return e.newText?n[r]=Object.assign(Object.assign({},n[r]),{message:Object.assign(Object.assign({},n[r].message),{content:e.newText})}):n.splice(r,1),n}))})),e.on("typing",(e=>{e.agent&&console.log("Agente digitando")})),e.on("stop typing",(e=>{e.agent&&console.log("Agente parou de digitar")})),null==e||e.on("transfer_category",(async n=>{var r;const i=await(null===(r=null==t?void 0:t.user)||void 0===r?void 0:r.getIdToken());e.emit("transfer_category",{firebaseToken:i,chatId:n.chatId});let o=d(sc);e.emit("leave_room",{chatId:o})}))};var df,hf=new Uint8Array(16);function pf(){if(!df&&!(df="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return df(hf)}var ff=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mf(e){return"string"==typeof e&&ff.test(e)}for(var gf=[],vf=0;vf<256;++vf)gf.push((vf+256).toString(16).substr(1));function bf(e,t,n){var r=(e=e||{}).random||(e.rng||pf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(gf[e[t+0]]+gf[e[t+1]]+gf[e[t+2]]+gf[e[t+3]]+"-"+gf[e[t+4]]+gf[e[t+5]]+"-"+gf[e[t+6]]+gf[e[t+7]]+"-"+gf[e[t+8]]+gf[e[t+9]]+"-"+gf[e[t+10]]+gf[e[t+11]]+gf[e[t+12]]+gf[e[t+13]]+gf[e[t+14]]+gf[e[t+15]]).toLowerCase();if(!mf(n))throw TypeError("Stringified UUID is invalid");return n}(r)}const yf=async e=>{let t=d(oc),n=d(lc),r=null==n?void 0:n.user;r?Af({message:e,socket:t,user:r}):(nc.set([e]),({newSocket:t,newUser:r}=await(async()=>{var e;ac.set(!0);const t=null===(e=await To(tc))||void 0===e?void 0:e.user,n=_h("https://chat-socket.tykhe.dev",{auth:{token:d(uc)},withCredentials:!0});if(t){const e={user:t,isLoggedIn:!0};await uf({newSocket:n,userAuth:e})}return{newSocket:n,newUser:t}})()),oc.set(t))},wf=async(e,t)=>{let n=d(lc),r=d(oc),i=d(sc);if((null==e?void 0:e.length)>0){const o=[],s=[];for(let t=0;t<e.length;t++){const n=bf();o.push({type:"wait",message:{content:URL.createObjectURL(e[t]),filename:e[t].name,fileId:n},sender:!0,bot:!1,createdAt:new Date}),s.push(n)}nc.update((e=>[...o,...e])),await kf({files:e,filesIds:s,fileType:t,user:null==n?void 0:n.user,chatId:i,socket:r})}},Af=async({message:e,user:t,socket:n,store:r=!0})=>{try{const i=await t.getIdToken();null==n||n.emit("send_message",{message:{messageType:e.type,text:e.message.content,whoSent:"customer"},firebaseToken:i}),r&&nc.update((t=>[e,...t]))}catch(e){const t={type:"text",sender:!1,message:{content:"Não foi possível enviar a mensagem 😢"},bot:!0,createdAt:new Date};nc.update((e=>[t,...e]))}},kf=async({files:e,filesIds:t,fileType:n,user:r,socket:i,chatId:o})=>{try{let s=r;s||(s=(await To(tc)).user);const a=await s.getIdToken();let c=new FormData;c.append("chatId",o),c.append("whoSent","customer"),c.append("msgFilesType",n);for(let n=0;n<e.length;n++)c.append("msgFiles",e[n]),c.append("msgFilesIds",t[n]);const l=await lf.post("https://chat-server.tykhe.dev/mensagens/arquivo",c,{headers:{Authorization:`Bearer ${a}`}});nc.update((e=>{var t,n;let r=e;if((null===(t=l.data.filesWithError)||void 0===t?void 0:t.length)>0){let t=l.data.filesWithError;r=e.filter((e=>-1===t.findIndex((t=>t.id===e.message.fileId))));r=[{type:"text",sender:!1,message:{content:`Não foi possível enviar ${1===t.length?"o arquivo":"alguns arquivos"} 😢`},bot:!0,createdAt:new Date},...r]}let i=null===(n=l.data.message)||void 0===n?void 0:n.files;return i&&(r=r.map((e=>{var t,n;if("wait"===e.type){const r=i.findIndex((t=>t.fileId===e.message.fileId));if(r>=0){let o=null===(t=i[r].fileType)||void 0===t?void 0:t.split("/")[0];"application"===o&&(o="file");let s=i[r].url;["appwrite","menuOptionAppwrite"].includes(i[r].fileLocation)&&(s=`https://chat-server.tykhe.dev/mensagens/download/${l.data.message._id}?authToken=${a}`),e.type=o,e.message.content=s,e.message.filename=null!==(n=i[r].originalName)&&void 0!==n?n:i[r].name}}return e}))),r})),null==i||i.emit("sendMessage",{message:l.data.message,firebaseToken:a})}catch(e){const t={type:"text",sender:!1,message:{content:"Não foi possível enviar o arquivo 😢"},bot:!0,createdAt:new Date};nc.update((e=>[t,...e]))}};function $f(e){E(e,"svelte-1qt3n88",".tooltip.svelte-1qt3n88.svelte-1qt3n88{position:relative;display:inline-block}.tooltip.svelte-1qt3n88 .tooltip_container.svelte-1qt3n88{visibility:hidden;opacity:0;width:250px;position:absolute;z-index:99999;bottom:calc(100% + 12px);left:50%;margin-left:-125px;background-color:transparent;display:flex;justify-content:center;transition:visibility 0.3s linear,opacity 0.3s linear}.tooltip.svelte-1qt3n88 .tooltip_text.svelte-1qt3n88{background-color:#333333;color:white;text-align:center;padding:8px 16px;border-radius:24px}.tooltip.svelte-1qt3n88:hover .tooltip_container.svelte-1qt3n88{visibility:visible;opacity:1}")}function Vf(e){let t,n,r;return{c(){t=M("div"),n=M("span"),r=B(e[0]),F(n,"class","tooltip_text svelte-1qt3n88"),F(t,"class","tooltip_container svelte-1qt3n88")},m(e,i){R(e,t,i),C(t,n),C(n,r)},p(e,t){1&t&&q(r,e[0])},d(e){e&&O(t)}}}function xf(e){let t,n,r;const i=e[3].default,o=p(i,e,e[2],null);let s=!e[1]&&Vf(e);return{c(){t=M("div"),o&&o.c(),n=L(),s&&s.c(),F(t,"class","tooltip svelte-1qt3n88")},m(e,i){R(e,t,i),o&&o.m(t,null),C(t,n),s&&s.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||4&n)&&g(o,i,e,e[2],r?m(i,e[2],n,null):v(e[2]),null),e[1]?s&&(s.d(1),s=null):s?s.p(e,n):(s=Vf(e),s.c(),s.m(t,null))},i(e){r||(Se(o,e),r=!0)},o(e){Te(o,e),r=!1},d(e){e&&O(t),o&&o.d(e),s&&s.d()}}}function If(e,t,n){let{$$slots:r={},$$scope:i}=t,{tooltipText:o=""}=t,{forceClose:s=!1}=t;return e.$$set=e=>{"tooltipText"in e&&n(0,o=e.tooltipText),"forceClose"in e&&n(1,s=e.forceClose),"$$scope"in e&&n(2,i=e.$$scope)},[o,s,i,r]}class Cf extends qe{constructor(e){super(),Ue(this,e,If,xf,a,{tooltipText:0,forceClose:1},$f)}}function Ef(e){E(e,"svelte-y4bpvn","button.svelte-y4bpvn{border:none}.attachButton.svelte-y4bpvn{cursor:pointer;width:48px;height:48px;box-shadow:1px 2px 5px grey;color:white;margin:0 4px}.audioButton.svelte-y4bpvn{background-color:#2e7d32}.audioButton.svelte-y4bpvn:hover{transition:0.5s all ease;background-color:#1b5e20}")}function Sf(e){let t,n,r,i,o,s;return n=new Tn({props:{path:"M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"}}),{c(){t=M("button"),Le(n.$$.fragment),F(t,"class",r=b(["attachButton audioButton",e[0]].join(" "))+" svelte-y4bpvn")},m(r,a){R(r,t,a),Pe(n,t,null),i=!0,o||(s=j(t,"click",e[6]),o=!0)},p(e,n){(!i||1&n&&r!==(r=b(["attachButton audioButton",e[0]].join(" "))+" svelte-y4bpvn"))&&F(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Te(n.$$.fragment,e),i=!1},d(e){e&&O(t),je(n),o=!1,s()}}}function Tf(e){let t,n,r;return n=new Cf({props:{tooltipText:"Áudio",$$slots:{default:[Sf]},$$scope:{ctx:e}}}),{c(){t=M("div"),Le(n.$$.fragment)},m(e,i){R(e,t,i),Pe(n,t,null),r=!0},p(e,[t]){const r={};1025&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(Se(n.$$.fragment,e),r=!0)},o(e){Te(n.$$.fragment,e),r=!1},d(e){e&&O(t),je(n)}}}function _f(e,t,n){let r;h(e,Ke,(e=>n(5,r=e)));let i=null,o=!1;const s=ae();oe((()=>{navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){n(3,i=new MediaRecorder(e));let t=[];n(3,i.ondataavailable=e=>{t.push(e.data)},i),n(3,i.onstop=e=>{const n=new Blob(t,{type:"audio/ogg; codecs=opus"});t=[],(e=>{let t=new File([e],"recording.ogg",{type:e.type,lastModified:Date.now()});wf([t],"audio")})(n)},i)})).catch((function(e){c()})):console.log("getUserMedia not supported on your browser!")}));const a=()=>{n(4,o=!0)};const c=()=>{const e={type:"text",sender:!1,message:{content:"Parece que seu microfone está bloqueado 😢, confira no seu navegador se você deu permissão e atualize a página."},bot:!1};nc.update((t=>[e,...t])),s("permissionDenied",{status:"denied"})};let l;return e.$$.update=()=>{24&e.$$.dirty&&null!==i&&(o?(i.start(),s("isPlaying",{status:"on"})):"recording"===i.state&&i.stop()),32&e.$$.dirty&&n(0,l=yn`
    border-radius: ${r.shape.textAreaBorderRadius};
  `)},[l,a,function(){n(4,o=!1)},i,o,r,()=>{a()}]}class Rf extends qe{constructor(e){super(),Ue(this,e,_f,Tf,a,{stopRecording:2},Ef)}get stopRecording(){return this.$$.ctx[2]}}function Of(e){E(e,"svelte-mrden0","textarea.svelte-mrden0{position:absolute;width:100%;height:100%;top:0;right:0;resize:none}button.svelte-mrden0{border:none;margin:0;cursor:pointer}.iconButton.svelte-mrden0{border-radius:50%;background-color:transparent}.input-container.svelte-mrden0{position:relative;margin:0 16px 4px 16px}.buttonDiv.svelte-mrden0{padding:0;background-color:transparent !important;top:0;right:0;z-index:999;position:absolute;height:100%;display:flex;align-content:center;justify-content:center;flex-direction:column}pre.svelte-mrden0,textarea.svelte-mrden0{padding:16px 64px 16px 24px !important;box-sizing:border-box;outline:1px solid #6e777e;border:0;line-height:1.4;overflow:hidden;margin:0 0 0 0;font-size:16px}.attachButton.svelte-mrden0{width:48px;height:48px;box-shadow:1px 2px 5px grey;color:white;margin:0 4px}.imageButton.svelte-mrden0{background-color:#6a1b9a}.imageButton.svelte-mrden0:hover{transition:0.5s all ease;background-color:#4a148c}.fileButton.svelte-mrden0{background-color:#00695c}.fileButton.svelte-mrden0:hover{transition:0.5s all ease;background-color:#004d40}@keyframes svelte-mrden0-beat{from,20%,53%,80%,to{transform:scale(1)}40%,43%{transform:scale(1.5)}70%{transform:scale(1.2)}90%{transform:scale(1.1)}}.animatedDisk.svelte-mrden0{border-radius:50px;background-color:white;height:20px;width:20px;animation:svelte-mrden0-beat 1s ease infinite}.mediaMenuDiv.svelte-mrden0{box-shadow:0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);position:absolute;height:56px;top:-60px;right:24px;display:flex;align-items:center;justify-content:center;background-color:white !important}.classesIconButton.svelte-mrden0{width:56px;height:56px;border-radius:inherit;box-shadow:1px 2px 5px grey;color:white;display:flex;justify-content:center;align-items:center;margin:0;transition:0.2s all ease;outline-offset:0}.classesIconButton.svelte-mrden0:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.4) 0 0)}.classesIconButton.svelte-mrden0:disabled{background-color:grey;color:lightgray}")}function Df(e){let t,n,r,i,s,a,c,l,u,d,h,p,f,m;r=new Cf({props:{tooltipText:"Anexo",forceClose:e[5],$$slots:{default:[Mf]},$$scope:{ctx:e}}});let g=!(e[0].image&&e[0].video)&&Nf(e),v=!e[0].audio&&Lf(e),y=!e[0].file&&Pf(e);return{c(){t=M("div"),n=M("div"),Le(r.$$.fragment),s=L(),a=M("div"),g&&g.c(),c=L(),v&&v.c(),l=L(),y&&y.c(),F(n,"class",i=b(e[7].themeColor)+" svelte-mrden0"),H(n,"position","absolute"),H(n,"right","60px"),H(n,"top","0"),H(n,"height","100%"),H(n,"display","flex"),H(n,"align-items","center"),F(a,"style",u="visibility: "+(e[5]?"visible":"hidden")),F(a,"class",d=b(["mediaMenuDiv",e[7].mediaMenuDiv].join(" "))+" svelte-mrden0")},m(i,o){R(i,t,o),C(t,n),Pe(r,n,null),C(t,s),C(t,a),g&&g.m(a,null),C(a,c),v&&v.m(a,null),C(a,l),y&&y.m(a,null),p=!0,f||(m=[w(h=Wu.call(null,t)),j(t,"click_outside",e[30])],f=!0)},p(e,t){const o={};32&t[0]&&(o.forceClose=e[5]),160&t[0]|16&t[1]&&(o.$$scope={dirty:t,ctx:e}),r.$set(o),(!p||128&t[0]&&i!==(i=b(e[7].themeColor)+" svelte-mrden0"))&&F(n,"class",i),e[0].image&&e[0].video?g&&(Ce(),Te(g,1,1,(()=>{g=null})),Ee()):g?(g.p(e,t),1&t[0]&&Se(g,1)):(g=Nf(e),g.c(),Se(g,1),g.m(a,c)),e[0].audio?v&&(Ce(),Te(v,1,1,(()=>{v=null})),Ee()):v?(v.p(e,t),1&t[0]&&Se(v,1)):(v=Lf(e),v.c(),Se(v,1),v.m(a,l)),e[0].file?y&&(Ce(),Te(y,1,1,(()=>{y=null})),Ee()):y?(y.p(e,t),1&t[0]&&Se(y,1)):(y=Pf(e),y.c(),Se(y,1),y.m(a,null)),(!p||32&t[0]&&u!==(u="visibility: "+(e[5]?"visible":"hidden")))&&F(a,"style",u),(!p||128&t[0]&&d!==(d=b(["mediaMenuDiv",e[7].mediaMenuDiv].join(" "))+" svelte-mrden0"))&&F(a,"class",d)},i(e){p||(Se(r.$$.fragment,e),Se(g),Se(v),Se(y),p=!0)},o(e){Te(r.$$.fragment,e),Te(g),Te(v),Te(y),p=!1},d(e){e&&O(t),je(r),g&&g.d(),v&&v.d(),y&&y.d(),f=!1,o(m)}}}function Mf(e){let t,n,r,i,o,s;return n=new Tn({props:{path:"M7.5,18A5.5,5.5 0 0,1 2,12.5A5.5,5.5 0 0,1 7.5,7H18A4,4 0 0,1 22,11A4,4 0 0,1 18,15H9.5A2.5,2.5 0 0,1 7,12.5A2.5,2.5 0 0,1 9.5,10H17V11.5H9.5A1,1 0 0,0 8.5,12.5A1,1 0 0,0 9.5,13.5H18A2.5,2.5 0 0,0 20.5,11A2.5,2.5 0 0,0 18,8.5H7.5A4,4 0 0,0 3.5,12.5A4,4 0 0,0 7.5,16.5H17V18H7.5Z",style:""}}),{c(){t=M("button"),Le(n.$$.fragment),F(t,"class",r=b(["iconButton",e[7].themeColor].join(" "))+" svelte-mrden0"),H(t,"transform","rotate(270deg)")},m(r,a){R(r,t,a),Pe(n,t,null),i=!0,o||(s=j(t,"click",e[22]),o=!0)},p(e,n){(!i||128&n[0]&&r!==(r=b(["iconButton",e[7].themeColor].join(" "))+" svelte-mrden0"))&&F(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Te(n.$$.fragment,e),i=!1},d(e){e&&O(t),je(n),o=!1,s()}}}function Nf(e){let t,n,r,i,o,s,a;return t=new Cf({props:{tooltipText:e[0].image?"Vídeos":e[0].video?"Fotos":"Fotos e Vídeos",$$slots:{default:[Bf]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment),n=L(),r=M("input"),F(r,"type","file"),F(r,"accept",i=[...e[0].image?[]:["image/*"],...e[0].video?[]:["video/*"]].join(",")),F(r,"id","input-image-video"),H(r,"display","none")},m(i,c){Pe(t,i,c),R(i,n,c),R(i,r,c),e[24](r),o=!0,s||(a=j(r,"change",e[25]),s=!0)},p(e,n){const s={};1&n[0]&&(s.tooltipText=e[0].image?"Vídeos":e[0].video?"Fotos":"Fotos e Vídeos"),164&n[0]|16&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),(!o||1&n[0]&&i!==(i=[...e[0].image?[]:["image/*"],...e[0].video?[]:["video/*"]].join(",")))&&F(r,"accept",i)},i(e){o||(Se(t.$$.fragment,e),o=!0)},o(e){Te(t.$$.fragment,e),o=!1},d(i){je(t,i),i&&O(n),i&&O(r),e[24](null),s=!1,a()}}}function Bf(e){let t,n,r,i,o,s;return n=new Tn({props:{path:"M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z"}}),{c(){t=M("button"),Le(n.$$.fragment),F(t,"class",r=b(["attachButton imageButton",e[7].attachButton].join(" "))+" svelte-mrden0")},m(r,a){R(r,t,a),Pe(n,t,null),i=!0,o||(s=j(t,"click",e[23]),o=!0)},p(e,n){(!i||128&n[0]&&r!==(r=b(["attachButton imageButton",e[7].attachButton].join(" "))+" svelte-mrden0"))&&F(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Te(n.$$.fragment,e),i=!1},d(e){e&&O(t),je(n),o=!1,s()}}}function Lf(e){let t,n;return t=new Rf({props:{}}),e[26](t),t.$on("isPlaying",e[9]),t.$on("permissionDenied",e[10]),{c(){Le(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){t.$set({})},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Te(t.$$.fragment,e),n=!1},d(n){e[26](null),je(t,n)}}}function Pf(e){let t,n,r,i,o,s;return t=new Cf({props:{tooltipText:"Documentos",$$slots:{default:[jf]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment),n=L(),r=M("input"),F(r,"type","file"),F(r,"id","input-file"),H(r,"display","none")},m(a,c){Pe(t,a,c),R(a,n,c),R(a,r,c),e[28](r),i=!0,o||(s=j(r,"change",e[29]),o=!0)},p(e,n){const r={};162&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){i||(Se(t.$$.fragment,e),i=!0)},o(e){Te(t.$$.fragment,e),i=!1},d(i){je(t,i),i&&O(n),i&&O(r),e[28](null),o=!1,s()}}}function jf(e){let t,n,r,i,o,s;return n=new Tn({props:{path:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z"}}),{c(){t=M("button"),Le(n.$$.fragment),F(t,"class",r=b(["attachButton fileButton",e[7].attachButton].join(" "))+" svelte-mrden0")},m(r,a){R(r,t,a),Pe(n,t,null),i=!0,o||(s=j(t,"click",e[27]),o=!0)},p(e,n){(!i||128&n[0]&&r!==(r=b(["attachButton fileButton",e[7].attachButton].join(" "))+" svelte-mrden0"))&&F(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Te(n.$$.fragment,e),i=!1},d(e){e&&O(t),je(n),o=!1,s()}}}function Ff(t){let n,r,i,o,s,a;return{c(){n=M("button"),r=M("div"),F(r,"class",i=b(["animatedDisk",t[7].sendIcon].join(" "))+" svelte-mrden0"),F(n,"class",o=b([t[7].iconButton,"classesIconButton"].join(" "))+" svelte-mrden0")},m(e,i){R(e,n,i),C(n,r),s||(a=j(n,"click",t[32]),s=!0)},p(e,t){128&t[0]&&i!==(i=b(["animatedDisk",e[7].sendIcon].join(" "))+" svelte-mrden0")&&F(r,"class",i),128&t[0]&&o!==(o=b([e[7].iconButton,"classesIconButton"].join(" "))+" svelte-mrden0")&&F(n,"class",o)},i:e,o:e,d(e){e&&O(n),s=!1,a()}}}function Uf(e){let t,n,r,i,o,s;return n=new Tn({props:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z",style:"color: white",class:e[7].sendIcon}}),{c(){t=M("button"),Le(n.$$.fragment),F(t,"class",r=b([e[7].iconButton,"classesIconButton"].join(" "))+" svelte-mrden0")},m(r,a){R(r,t,a),Pe(n,t,null),i=!0,o||(s=j(t,"click",e[31]),o=!0)},p(e,o){const s={};128&o[0]&&(s.class=e[7].sendIcon),n.$set(s),(!i||128&o[0]&&r!==(r=b([e[7].iconButton,"classesIconButton"].join(" "))+" svelte-mrden0"))&&F(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Te(n.$$.fragment,e),i=!1},d(e){e&&O(t),je(n),o=!1,s()}}}function qf(e){let t,n,r,i,s,a,c,l,u,d,h,p,f,m,g,v,y=e[4]+"\n",w=0===e[4].length&&!(e[0].image&&e[0].video&&e[0].audio&&e[0].file)&&Df(e);const A=[Uf,Ff],k=[];function $(e,t){return e[6]?1:0}return h=$(e),p=k[h]=A[h](e),{c(){t=M("div"),n=M("pre"),r=B(y),s=L(),a=M("textarea"),l=L(),w&&w.c(),u=L(),d=M("div"),p.c(),F(n,"aria-hidden","true"),F(n,"class",i=b(e[7].pre)+" svelte-mrden0"),F(a,"placeholder","Digite uma mensagem"),F(a,"class",c=b(e[7].textarea)+" svelte-mrden0"),F(d,"class",f=b(["buttonDiv",e[7].sendButton].join(" "))+" svelte-mrden0"),F(t,"class","input-container svelte-mrden0")},m(i,o){R(i,t,o),C(t,n),C(n,r),C(t,s),C(t,a),z(a,e[4]),C(t,l),w&&w.m(t,null),C(t,u),C(t,d),k[h].m(d,null),m=!0,g||(v=[j(window,"keydown",e[13]),j(a,"input",e[20]),j(a,"input",e[21])],g=!0)},p(e,o){(!m||16&o[0])&&y!==(y=e[4]+"\n")&&q(r,y),(!m||128&o[0]&&i!==(i=b(e[7].pre)+" svelte-mrden0"))&&F(n,"class",i),(!m||128&o[0]&&c!==(c=b(e[7].textarea)+" svelte-mrden0"))&&F(a,"class",c),16&o[0]&&z(a,e[4]),0!==e[4].length||e[0].image&&e[0].video&&e[0].audio&&e[0].file?w&&(Ce(),Te(w,1,1,(()=>{w=null})),Ee()):w?(w.p(e,o),17&o[0]&&Se(w,1)):(w=Df(e),w.c(),Se(w,1),w.m(t,u));let s=h;h=$(e),h===s?k[h].p(e,o):(Ce(),Te(k[s],1,1,(()=>{k[s]=null})),Ee(),p=k[h],p?p.p(e,o):(p=k[h]=A[h](e),p.c()),Se(p,1),p.m(d,null)),(!m||128&o[0]&&f!==(f=b(["buttonDiv",e[7].sendButton].join(" "))+" svelte-mrden0"))&&F(d,"class",f)},i(e){m||(Se(w),Se(p),m=!0)},o(e){Te(w),Te(p),m=!1},d(e){e&&O(t),w&&w.d(),k[h].d(),g=!1,o(v)}}}function zf(e,t,n){let r;h(e,Ke,(e=>n(19,r=e)));let i,o,{blockedMedias:s={image:!1,video:!0,file:!0,audio:!0}}=t,a={},{minRows:c=1}=t,{maxRows:l}=t,u={value:""},p={value:""},f="",m=!1,g=!1;const v=()=>{""!==f&&(yf({type:"text",message:{content:f},sender:!0,bot:!1,createdAt:new Date}),n(4,f=""))};let b,y,w,A=!1;const k=()=>{if(!m){m=!0;let e=d(oc);null==e||e.emit("typing",{agent:!1})}o=(new Date).getTime(),setTimeout((function(){if((new Date).getTime()-o>=380&&m){let e=d(oc);null==e||e.emit("stop typing",{agent:!1}),m=!1}}),380)},$=async(e,t)=>{var r;(null===(r=e.currentTarget.files)||void 0===r?void 0:r.length)>0&&await wf(e.currentTarget.files,t),n(2,p.value="",p),n(1,u.value="",u)};return e.$$set=e=>{"blockedMedias"in e&&n(0,s=e.blockedMedias),"minRows"in e&&n(14,c=e.minRows),"maxRows"in e&&n(15,l=e.maxRows)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(16,a={image:s.image&&s.video,file:s.file,audio:s.audio}),16384&e.$$.dirty[0]&&n(17,b=2.1+1.4*c+"em"),32768&e.$$.dirty[0]&&n(18,y=l?1+1.5*l+"em":"auto"),983040&e.$$.dirty[0]&&n(7,w={iconButton:yn`
      background-color: ${r.palette.primary.main};
      outline: ${r.outline?`1px solid ${r.palette.primary.main}`:"unset"};
      &:hover {
        outline-offset: ${r.outline?"3px":"0"};
      }
    `,textarea:yn`
      color: ${r.textAreaTextColor};
      font-family: ${r.fontFamily};
      border-radius: ${r.shape.textAreaBorderRadius};
      background-color: ${r.palette.background.textarea} !important;
      &:focus-visible {
        outline: 1px solid ${r.palette.primary.main};
      }
    `,pre:yn`
      color: ${r.textAreaTextColor};
      font-family: ${r.fontFamily};
      border-radius: ${r.shape.textAreaBorderRadius};
      min-height: ${b};
      max-height: ${y};
      &:focus-visible {
        outline: 1px solid ${r.palette.primary.main};
      }
    `,themeColor:yn`
      background-color: ${r.palette.background.textarea} !important;
    `,sendButton:yn`
      border-radius: ${r.shape.textAreaBorderRadius};
    `,sendIcon:yn`
      color: ${r.buttonIconColor} !important;
    `,mediaMenuDiv:yn`
      border-radius: ${r.shape.textAreaBorderRadius};
      width: ${60*Object.values(a).filter((e=>!1===e)).length};
    `,attachButton:yn`
      border-radius: ${r.shape.textAreaBorderRadius};
    `})},[s,u,p,i,f,g,A,w,v,e=>{"on"===e.detail.status&&(n(6,A=!0),n(5,g=!1))},e=>{"denied"===e.detail.status&&(n(0,s=Object.assign(Object.assign({},s),{audio:!0})),n(5,g=!1))},k,$,function(e){13!=e.keyCode||e.shiftKey||(e.preventDefault(),v())},c,l,a,b,y,r,function(){f=this.value,n(4,f)},()=>{k()},()=>{n(5,g=!g)},()=>{p.click(),n(5,g=!1)},function(e){de[e?"unshift":"push"]((()=>{p=e,n(2,p)}))},e=>$(e,"image/video"),function(e){de[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},()=>{u.click(),n(5,g=!1)},function(e){de[e?"unshift":"push"]((()=>{u=e,n(1,u)}))},e=>$(e,"file"),()=>{n(5,g=!1)},()=>v(),()=>{i.stopRecording(),n(6,A=!1)}]}class Hf extends qe{constructor(e){super(),Ue(this,e,zf,qf,a,{blockedMedias:0,minRows:14,maxRows:15},Of,[-1,-1])}}function Wf(e,{from:t,to:n},r={}){const i=getComputedStyle(e),o="none"===i.transform?"":i.transform,[a,c]=i.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*a/n.width-(n.left+a),u=t.top+t.height*c/n.height-(n.top+c),{delay:d=0,duration:h=(e=>120*Math.sqrt(e)),easing:p=On}=r;return{delay:d,duration:s(h)?h(Math.sqrt(l*l+u*u)):h,easing:p,css:(e,r)=>{const i=r*l,s=r*u,a=e+r*t.width/n.width,c=e+r*t.height/n.height;return`transform: ${o} translate(${i}px, ${s}px) scale(${a}, ${c});`}}}function Kf(t){let n;return{c(){n=M("div"),H(n,"width","0px")},m(e,r){R(e,n,r),t[9](n)},p:e,i:e,o:e,d(e){e&&O(n),t[9](null)}}}function Gf(e,t,n){let{threshold:r=0}=t,{horizontal:i=!1}=t,{elementScroll:o=null}=t,{hasMore:s=!0}=t,{reverse:a=!1}=t;const c=ae();let l,u,d,h=!1;const p=e=>{if(!s)return;let t=0;t=a?i?e.target.scrollLeft:e.target.scrollTop:i?e.target.scrollWidth-e.target.clientWidth-e.target.scrollLeft:e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop,t<=r?(!h&&s&&(c("loadMore"),n(7,u=e.target.scrollHeight),n(8,d=e.target.scrollTop)),n(6,h=!0)):n(6,h=!1)};return se((()=>{if(l||o){const e=o||l.parentNode;e.removeEventListener("scroll",null),e.removeEventListener("resize",null)}})),e.$$set=e=>{"threshold"in e&&n(1,r=e.threshold),"horizontal"in e&&n(2,i=e.horizontal),"elementScroll"in e&&n(3,o=e.elementScroll),"hasMore"in e&&n(4,s=e.hasMore),"reverse"in e&&n(5,a=e.reverse)},e.$$.update=()=>{if(41&e.$$.dirty&&(l||o)){const e=o||l.parentNode;a&&(e.scrollTop=e.scrollHeight),e.addEventListener("scroll",p),e.addEventListener("resize",p)}if(489&e.$$.dirty&&h&&a){const e=o||l.parentNode;e.scrollTop=e.scrollHeight-u+d}},[l,r,i,o,s,a,h,u,d,function(e){de[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class Jf extends qe{constructor(e){super(),Ue(this,e,Gf,Kf,a,{threshold:1,horizontal:2,elementScroll:3,hasMore:4,reverse:5})}}function Qf(e){E(e,"svelte-6r73h3",".fabDiv.svelte-6r73h3{position:fixed;bottom:24px;z-index:9996}.fab.svelte-6r73h3{cursor:pointer;color:white;border:0;border-radius:50%;height:56px;width:56px;display:flex;justify-content:center;align-items:center;box-shadow:0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);transition:all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)}.fab.svelte-6r73h3:hover{box-shadow:0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22)}.chatDiv.svelte-6r73h3{position:fixed;margin:0 auto;box-shadow:1px 1px 20px rgba(0, 0, 0, 0.3);z-index:9998;flex-direction:column;transition:all 0.5s ease-in-out}")}function Zf(e,t,n){const r=e.slice();return r[27]=t[n],r}function Xf(n,r){let i,o,a,c,l,u,d,h,p,f,m=e;return a=new yd({props:{type:r[27].type,content:r[27].message.content,fileName:r[27].message.filename,fileId:r[27].message.fileId,sender:r[27].sender,createdDate:r[27].createdAt}}),{key:n,first:null,c(){i=M("div"),o=M("div"),Le(a.$$.fragment),this.first=i},m(e,t){R(e,i,t),C(i,o),Pe(a,o,null),h=!0,p||(f=w(c=r[12].call(null,o,r[27])),p=!0)},p(e,t){r=e;const n={};128&t&&(n.type=r[27].type),128&t&&(n.content=r[27].message.content),128&t&&(n.fileName=r[27].message.filename),128&t&&(n.fileId=r[27].message.fileId),128&t&&(n.sender=r[27].sender),128&t&&(n.createdDate=r[27].createdAt),a.$set(n),c&&s(c.update)&&128&t&&c.update.call(null,r[27])},r(){d=i.getBoundingClientRect()},f(){!function(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,ne(e,i)}}(i),m(),ne(i,d)},a(){m(),m=function(n,r,i,o){if(!r)return e;const s=n.getBoundingClientRect();if(r.left===s.left&&r.right===s.right&&r.top===s.top&&r.bottom===s.bottom)return e;const{delay:a=0,duration:c=300,easing:l=t,start:u=k()+a,end:d=u+c,tick:h=e,css:p}=i(n,{from:r,to:s},o);let f,m=!0,g=!1;function v(){p&&te(n,f),m=!1}return I((e=>{if(!g&&e>=u&&(g=!0),g&&e>=d&&(h(1,0),v()),!m)return!1;if(g){const t=0+1*l((e-u)/c);h(t,1-t)}return!0})),p&&(f=ee(n,0,1,c,a,l,p)),a||(g=!0),h(0,1),v}(i,d,Wf,{})},i(e){h||(Se(a.$$.fragment,e),ge((()=>{u&&u.end(1),l=Re(i,r[10],{key:r[27]}),l.start()})),h=!0)},o(e){Te(a.$$.fragment,e),l&&l.invalidate(),u=Oe(i,r[9],{key:r[27]}),h=!1},d(e){e&&O(i),je(a),e&&u&&u.end(),p=!1,f()}}}function Yf(t){let n,r,i;return r=new yd({props:{type:"text",content:"Envie uma mensagem para iniciar o chat",sender:!1,fileName:void 0,fileId:void 0,createdDate:void 0}}),{c(){n=M("div"),Le(r.$$.fragment)},m(e,t){R(e,n,t),Pe(r,n,null),i=!0},p:e,i(e){i||(Se(r.$$.fragment,e),i=!0)},o(e){Te(r.$$.fragment,e),i=!1},d(e){e&&O(n),je(r)}}}function em(e){let t,n,r,i,o,s=[],a=new Map,c=0===e[7].length||e[7][0].message.content.includes("Parece que seu microfone");t=new Jf({props:{reverse:!0,hasMore:!e[6].lastPage,threshold:100}}),t.$on("loadMore",e[13]);let l=e[7];const u=e=>e[27];for(let t=0;t<l.length;t+=1){let n=Zf(e,l,t),r=u(n);a.set(r,s[t]=Xf(r,n))}let d=c&&Yf();return{c(){Le(t.$$.fragment),n=L();for(let e=0;e<s.length;e+=1)s[e].c();r=L(),d&&d.c(),i=P()},m(e,a){Pe(t,e,a),R(e,n,a);for(let t=0;t<s.length;t+=1)s[t].m(e,a);R(e,r,a),d&&d.m(e,a),R(e,i,a),o=!0},p(e,n){const o={};if(64&n&&(o.hasMore=!e[6].lastPage),t.$set(o),128&n){l=e[7],Ce();for(let e=0;e<s.length;e+=1)s[e].r();s=function(e,t,n,r,i,o,s,a,c,l,u,d){let h=e.length,p=o.length,f=h;const m={};for(;f--;)m[e[f].key]=f;const g=[],v=new Map,b=new Map;for(f=p;f--;){const e=d(i,o,f),a=n(e);let c=s.get(a);c?r&&c.p(e,t):(c=l(a,e),c.c()),v.set(a,g[f]=c),a in m&&b.set(a,Math.abs(f-m[a]))}const y=new Set,w=new Set;function A(e){Se(e,1),e.m(a,u),s.set(e.key,e),u=e.first,p--}for(;h&&p;){const t=g[p-1],n=e[h-1],r=t.key,i=n.key;t===n?(u=t.first,h--,p--):v.has(i)?!s.has(r)||y.has(r)?A(t):w.has(i)?h--:b.get(r)>b.get(i)?(w.add(r),A(t)):(y.add(i),h--):(c(n,s),h--)}for(;h--;){const t=e[h];v.has(t.key)||c(t,s)}for(;p;)A(g[p-1]);return g}(s,n,u,1,e,l,a,r.parentNode,Ne,Xf,r,Zf);for(let e=0;e<s.length;e+=1)s[e].a();Ee()}128&n&&(c=0===e[7].length||e[7][0].message.content.includes("Parece que seu microfone")),c?d?(d.p(e,n),128&n&&Se(d,1)):(d=Yf(),d.c(),Se(d,1),d.m(i.parentNode,i)):d&&(Ce(),Te(d,1,1,(()=>{d=null})),Ee())},i(e){if(!o){Se(t.$$.fragment,e);for(let e=0;e<l.length;e+=1)Se(s[e]);Se(d),o=!0}},o(e){Te(t.$$.fragment,e);for(let e=0;e<s.length;e+=1)Te(s[e]);Te(d),o=!1},d(e){je(t,e),e&&O(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&O(r),d&&d.d(e),e&&O(i)}}}function tm(e){let t,n,r,i,o,s,a,c;return r=new Tn({props:{path:"M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3Z"}}),{c(){t=M("div"),n=M("button"),Le(r.$$.fragment),F(n,"class","fab svelte-6r73h3"),F(n,"style",i=`background-color: ${e[2].palette.primary.main}`),F(t,"class",o=b(["fabDiv",e[4].fabDiv].join(" "))+" svelte-6r73h3")},m(i,o){R(i,t,o),C(t,n),Pe(r,n,null),s=!0,a||(c=j(n,"click",e[21]),a=!0)},p(e,r){(!s||4&r&&i!==(i=`background-color: ${e[2].palette.primary.main}`))&&F(n,"style",i),(!s||16&r&&o!==(o=b(["fabDiv",e[4].fabDiv].join(" "))+" svelte-6r73h3"))&&F(t,"class",o)},i(e){s||(Se(r.$$.fragment,e),s=!0)},o(e){Te(r.$$.fragment,e),s=!1},d(e){e&&O(t),je(r),a=!1,c()}}}function nm(e){let t,n,r,i,o,s,a,c,l,u,d;function h(t){e[20](t)}n=new gc({props:{title:e[8].name,image:e[8].image,isOpened:e[0]}}),n.$on("open",e[11]);let p={$$slots:{default:[em]},$$scope:{ctx:e}};void 0!==e[5]&&(p.bodyRef=e[5]),i=new wc({props:p}),de.push((()=>Be(i,"bodyRef",h))),a=new Hf({props:{maxRows:3,minRows:1,blockedMedias:e[3]}});let f=(e[2].fab||e[1])&&tm(e);return{c(){t=M("div"),Le(n.$$.fragment),r=L(),Le(i.$$.fragment),s=L(),Le(a.$$.fragment),l=L(),f&&f.c(),u=P(),F(t,"class",c=b([e[4].chatDiv,"chatDiv"].join(" "))+" svelte-6r73h3")},m(e,o){R(e,t,o),Pe(n,t,null),C(t,r),Pe(i,t,null),C(t,s),Pe(a,t,null),R(e,l,o),f&&f.m(e,o),R(e,u,o),d=!0},p(e,[r]){const s={};256&r&&(s.title=e[8].name),256&r&&(s.image=e[8].image),1&r&&(s.isOpened=e[0]),n.$set(s);const l={};1073742016&r&&(l.$$scope={dirty:r,ctx:e}),!o&&32&r&&(o=!0,l.bodyRef=e[5],ve((()=>o=!1))),i.$set(l);const h={};8&r&&(h.blockedMedias=e[3]),a.$set(h),(!d||16&r&&c!==(c=b([e[4].chatDiv,"chatDiv"].join(" "))+" svelte-6r73h3"))&&F(t,"class",c),e[2].fab||e[1]?f?(f.p(e,r),6&r&&Se(f,1)):(f=tm(e),f.c(),Se(f,1),f.m(u.parentNode,u)):f&&(Ce(),Te(f,1,1,(()=>{f=null})),Ee())},i(e){d||(Se(n.$$.fragment,e),Se(i.$$.fragment,e),Se(a.$$.fragment,e),Se(f),d=!0)},o(e){Te(n.$$.fragment,e),Te(i.$$.fragment,e),Te(a.$$.fragment,e),Te(f),d=!1},d(e){e&&O(t),je(n),je(i),je(a),e&&O(l),f&&f.d(e),e&&O(u)}}}function rm(e,t,n){let r,i,o,s,a,c,l,u,p,f,m,g,v,b;h(e,ic,(e=>n(6,r=e))),h(e,sc,(e=>n(24,i=e))),h(e,lc,(e=>n(14,o=e))),h(e,wn,(e=>n(1,s=e))),h(e,An,(e=>n(15,a=e))),h(e,kn,(e=>n(16,c=e))),h(e,Ke,(e=>n(2,l=e))),h(e,uc,(e=>n(17,u=e))),h(e,dc,(e=>n(25,p=e))),h(e,rc,(e=>n(26,f=e))),h(e,oc,(e=>n(18,m=e))),h(e,nc,(e=>n(7,g=e))),h(e,ac,(e=>n(19,v=e))),h(e,Ge,(e=>n(8,b=e)));let y,w,A=!1,k=!1;cc.subscribe((e=>{e&&(v?(null==g?void 0:g.length)>0&&Af({message:g[0],socket:m,user:null==o?void 0:o.user,store:!1}):(async({socket:e,userAuth:t})=>{var n;const r=await(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.getIdToken());r&&(d(sc),e.emit("join_room",{firebaseToken:r,agent:!1}))})({socket:m,userAuth:o}))})),rc.subscribe((e=>{e.length>0&&!k?(k=!0,y=setInterval((()=>{if(f.length>0){if(nc.update((e=>[f[0],...e])),p){new Audio("data:audio/mp3;base64,SUQzBAAAAAACL1RYWFgAAAARAAADY29kaW5nX2hpc3RvcnkAAFREUkMAAAAMAAADMjAxNS0wOC0wNwBURU5DAAAAGwAAA1BybyBBdWRpbyBDb252ZXJ0ZXIgMS43LjUAVFhYWAAAABoAAAN0aW1lX3JlZmVyZW5jZQAzNTU1MjYwMDAAVFhYWAAAAQkAAAN1bWlkADB4MDAwMDAwMDA1MTAwOERDOTE0MzIwMEUxMjA3QUE2NTZGRjdGMDAwMDgwMTBBMzAxMDA2MDAwMDAwMDAwMDAwMDAwMDAwMDAwNDY3NDE1MEEwMTAwMDAwMDcwNTA3OTc1RkY3RjAwMDA1MDcyQTY1NkZGN0YwMDAwQ0EzNjNFOEUAVFNTRQAAAA4AAANMYXZmNjAuMy4xMDAAAAAAAAAAAAAAAP/7UAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhpbmcAAAAPAAAAEgAAH/wAGhoaGhotLS0tLS09PT09PU5OTk5OTl5eXl5ebm5ubm5uf39/f3+MjIyMjIyZmZmZmampqampqba2tra2tsPDw8PD0NDQ0NDQ3d3d3d3q6urq6ur29vb29vz8/Pz8/P//////AAAAAExhdmM2MC4zLgAAAAAAAAAAAAAAACQFoQAAAAAAAB/80OwHCAAAAAAAAAAAAAAAAAAAAAD/+7BkAADw7gBJaAAACAAADSAAAAERLRMr7JkQ6AAANIAAAAQFAAFSy32AAANb1GAsAyl0mUcoafvpl/1HH5R0plz1mM0MQFSxN208BFznuMZQrlABAaQe9c683DLtvEnRYXPFp12HIllIQIGIXzwuzwIYmCJrzTTlE9MPw7CO3F92qE5sUd4FBQUIUXV8XgybIayKRRcXcxEQUp3t2Sn/i9yz7m+98yi74LPkYXDoL3BWA/9CkAIPj3Cc4DI8AdqPbttWEGR5F3a3+CoKI0FSFFd0cu1I8RsgUfaqCF0SJaf5EhuL1IHjpk6UtGAtXsumu9m8ymHHnQfhvGgL7ac20PNEm3QqWlOrx7KEyounJimrRUIvTxsgP8wJq3tWXNX8CiDVaYa1ZETjFldUXc71Tp5yS7g9U929VvojWtRDcn2h6vcn0GaOpHGy4OhD0LVaGQoakZKsY+0ORh+HAYCyhaLR5+LJ0DDDTUjJZQKxJmIabGSs3lSxq40EPYFQ2oekFahbuSIyKyHFRr93EMbDxKZDLoGrwixzBhzBizrwSLCBCQQAAE2S7Ic2FiCzmmBh0YEFxiAMDyBUgFxaABAPHRF8IDBggFjwHGhgIwKsSMKiLvBgQauX9S1X2XlVqVuhuAGbu8+EoXRDCX9I1iad+egeFSOLOFBUSjlJKYgwPB9ojCLsLru+9dHWhyIyKNRxpDO4cnozIlH2AwPAMg1DFHbnsoXKaWfoZZEJbEq1VzIpQxeXyaV52bcGQLGYxC/sUkai7YM5W3zK+TbTV3qqMRZ2WfnE011l/wMcOAXbLB0PgEwlIgLKGLpBQ3JlLRppgv/7sGTTAPasZ0v7Dx36AAANIAAAASR55R+uYTfAAAA0gAAABCjSWlPB1G0iONmhiDKknmqegsR+PUWwDjRpk+bJyMKHbiKhxR3oow2KzgkFarSIwRGC60hNLz+1/D/IT2eQvz87919qHSw+yNZSfcuGIW2i5sQFqhgAQAAYyCQkaEdgwyM+CzDgMhCjDkQ1BYMoFDTiIzcYMGFhAAGBg5iCUZ0QGKjpjx8aAXnVHBiZqTFZhpyZeJGeCRosebCFG+LAEVDKBkiUy9BilkyxiHGECcrLQDKyCkoOqL8GmOXDGSDYAWAZ4BjB0MtUlbDbDHVk7HRxcPpwNyHDYIjqFFY00pYT6DdyVzSbhbVQXZSrpfa3FTscKM7SdWJSzK+IrXJ+v3WtyQmV+1JNrb1KwL8zRHkjvMsLFO8SqNamtWlkpFGhpAB/vDhPNkUw8iUCfpA6VIabIqmpcMh0tSviXZWVTQGOSHlrh3d2ZptNngrNHjnG+N1v74j5tLLAiSw6T2YLE9dB4or2bv7enCiJAEECpkOslJ/HMX/6Xu+TeAsKMGKUx6DklRQTmG1qaMnxugGmoaCbVGpl1Cg8uZ5UbgYhPB0oCqTPjjFSjFAjPpFdrLMgRMWARqMADGQhCGMGMMOMf6RtffAssjlVcB4KVm7pRLbTgHr8dElYJ5OVXLJaHs/OUw5g144sdmZMM0a8/H54SGCua4RQ2HwQyahSyyhohssMD9O2otZltq5djrijbnjVTaFpIbuvSPuWbqXW13ElQ8flwfxMGo5XL+uXh4KZvQezw6HRf94PrEtil266B2Zo+vxj4vifgggco7ZFnM3d//ugZP0E+StoyGt5fSIAAA0gAAABHwmjJM5picgAADSAAAAEctXcxmPI3++eh83rrnZm9qttNX8vs9xaQBjn33++uolI81fdQACqDGD0BaYAQFRgMgLmA0AWYMwDhjvhKGOKaSaKRvxjHhemGIAmYZQMxgohDGNln2BERoxhQ34AyIBIMIBmVQA0SPIWvFUIHDhowW+IiKsjhpInw3kOHKgTrolCja0k8UyvdnqQswhwPUKZZSjVY+JlWpT4JYimGx4Mq+vGqepeVM9QooSxSoaay+rk5LSFEjqdJMKvQtkw9ZXlqMkKkKHjONQJ7WeU08bosWPubcTELW/GQ5zfsydYTmbWxPplSqguC5unllralMzMDI6eXexGKC5wIESb51uHvxKwnu8VvCewc7ffc8TcDMOSlN1vaBisGP9mbAYNBnN+FGNoqYF5GpbKfO3uuXlUVWWPveYiCWYHIAQCAcFQCzAJAqMGQHYw5BGjGaHWNfhAEyhw8RABmYSoFxgQAIGXuAlzgWFHRww4IRAWk2YjJrgrOIjhEKYxYcrJ0MqGLJ0StujiOBUEsggqLRWIhgf2VMPl825afvIY0iKWg4JbZVHZcaHiaaMVQzgtuPCWTT8tWox8EKG4W6IkAqFx5tUoK3utQvE+N56AeVB8+hoaFDZDfohuxsq/bu4f12iEvcSsDipWnp9G//ugZOEE+H9pSbPaesIAAA0gAAABH6WjKE9li0gAADSAAAAEJC4OloM15aXOoLb0KI911Ywc3MktbNOscvYepqZpCqpVVWRywpsjuxaWXHd9hrrw91b/U4kVXoNtJZ1IeE91urbF+W4UM+AbJz/XWiAEREVJ/9JPzjjlNTEjj7CQYQNrRFp5rw5GHzEIhMei4WC5gIBAoHIIQJsh4upRhHxYCSBhi7vgqS4szA2mSpjSIIJ8n1arzKqNBqU67jnMm1hbPdTOa6y3KU6jmQ5wNKOV6rUb1jhNsM5lXVXqcXWy7QudSJdWzR/eSqsvRqrAYX7BJHWy6FgjuU7dmjDCjNTquVXaeWW0V3637A/gsma3YlGbzS2OEeErF0nynZjrbU64trGdK0cqwzuKMZ4KzSVfiMLDDhYtNbXnizWiQHB9p9pspf23jNr6nxeHSDEVU28AAk+u/1l/ODFzKgMRghVRBpAMBNjKjQ3MtNDEjoDI7WpN5cTVykZCFciwcudPFc6F0GMlWADgTJs8BwS87G5enPh4OBeF4GAeJtySXiyXRyGxJL75WVlUSCSSiwtTEsqicHh6/B5ijMCmtHLC4VQInhkJTcCiI+SOQXIj6RujyhBYYffLJiRjlO6oZQucKxgw1WWEeJRLqefXFlzRedwuacnLouW8eK3sr9iZkIQ9SEiRqkb4SMqs//ugZM2A9xFo0PtceagAAA0gAAABG72jQ62x9eAAADSAAAAEvmJXtUdPzPJ9wZn7bl/Bk3Cm1WuZ6Wi4nr5ZPm+rx6TR7Xq4Pn1BABIGW7eWXczqElZjMIcMwkYVEgQVzFIaMVlQ0ycDMBlNOIk1I0TC1kOU2kGtA5lADXyQMmAQ1MUteqWAoQoJYFEJ01i00458MtghwvrQNIUYZ5OR9nbtzdNADTF0TEMSCknZ+SQxD1K/8aeKeiUXlsR413ohlCKoDxOgPiLjBOSYXSQIASKkqpdUK9sQUZLmFjSxMIRITmQq1IWOKKziyfngqOKrG9cvs0KSie8a5C2Rmyh8ZRKn8UlSdI0LaKkd7vVjOKOclWmoLQlPWrbZX9N+MUVRXXqshvSJNSAAABoTt1ru5tA2NGhMHGKIRd4yEiMSBzS1Uwx8Co6cIcmf3ZitIEQ5w0Sb4kmeKJtD6adO5yBLG93yZ1DxpJNGgikHB0weA43KZTLLMORq25LAW2dRR9yaXFrTnULntlR5dGKbl8YlVVhs2CwPAwKjYDio2ob6zcmJkg8KgFEqAUtIDbz9snxhppw8uzSbRERDMyRNE8PIEyUaRqLzVVcpaKhmELxC3pMpSkMnGOtkqENKtgiJUZaJdKZNAukiTQ1DLgqrNF2IM5HslIKyeiRTZV6IwwursG5ThFVKoOHKemEA//ugZOCA9uln0HuYS+oAAA0gAAABHAmfPe3xL2gAADSAAAAEAAA1Ldbtya4Oii0I48FRhsSBjVZriwlqHYBPMMzoNiPA1E1Rc3EEwowxhEKhh4oYkGaKibJmahibQyOgEFmTI+JeRNCz0HpOtzdrtCISPvGXGaNJnj0DzFpJU9dKIyBhm2cE8Jjs8jtNJEoh6sVKgirlkY6nWg1wgGtUN07PdoZaqFX1cY7NggBYXRkrMmWRONE5hMSjhuKaSHEC43E20Z2bSSbJQVGkdawm2wiZGUdpIVD7S6blzVMxeietkFiqkSmyZ6j2elGjUbjuEEjEri9yc7RJRXpdVdlakzAAAAclt13FxEMg4KbtIacGa8SaZWYuEDnZjCBhTAQ/MPBAQqNq7CostoqVgQKBJXQ+rYsaQ0bcW6rHXKEOWMLIbRCtQBnDY2HtnmIpBP0ssvTT6w3yrXawmA/jY3HpnggSIwI5sjcuUvA+kZemQW4bk8pnJZE7sUcuXXJBcnuzleGbT9Qwj4CANcLwpQA5D6CEKQ6+lhFwvEsxsEmZC2JpLH1qQ/K4coMYbp5dU3MP4/ETR7QDs3gBrkicCKQbDdaURSUiIpK5umMCaTx/cVMkgw9eelSNckoclo1DhafjoVltm0jyVYofLcZ4cJhLyqp1CbO17x3KxxDOx3TuMrpKdCATATV21a3H//ugZPSA9uhozvtPTVgAAA0gAAABIDmjPe1hleAAADSAAAAE8VYAAGAFTADFKxkUF8mmaaQBMUZbRiFPWUQF0UFSQOBoYWe/zAWIvI98DRtHkxC39C0jpcC7FM4j6P5uYVDEUTtvcaQFUrsPHhakARxYkScJbV0dWoR5PTEklQVD8nTPmgHVS4jONFrP5platO1q9l0EQCkIGxVLhOsrJrV44FUD1GW60WTOZmtS60dCUWnr1ytYPrrrXlUejc5Lx6Ul6h2xix6Rsxhoc7Avdq4fIDp4uZshsPI6LoXPePvpLNWrZy1e7XFzfHq0OfcIiAAQltq5NzyBYAg5jw6IFM1BOMOUC+BhZuYQAGbChhpGLHgQjIfNADBFvotNQErG6xf2I1m7RB/40qaXlMnEIhjPQ6QRc8gl6g/jiBMdBQQDoh82hhITnC7RRx82jRkguEVObtH9jTi8XxADs8ZUvTWmxtnP3iewrGyxCQCUTarV5JPDjiO0jNDiIqrX0Ay4PRP0ik4ZF2ZgbhMNpqVycJGIIkwskz18IyUb6FpGLsHak68ABAianhMpAxnol/tJlFmkIW9FIopVW3UiBCM377LNg1qigYEqNbASdMqGMKqN8jMCGNaCDo5bsYKoIkYAQE0BZFZeav12RNTVPqHE9X6ddz3+jVZur8u9FZh/WKNOoZHRQTYkjSV0//uQZPgA9p5nz3svZToAAA0gAAABGVWhN+2w1aAAADSAAAAEMjFzSSVRJKAZaXTtSKUo8jqoOjIuPMkoxpdUpK74mIy9rcTOXVHa7n2jHCuZG5dKw7GiRaTbFU+HsjCAMiBQeF+UX5ZHtHqwTSJl9pSts31Wr1VOL4VpafUMuu2Xcto5aFiBNLrj3UdfeXy67lMarB8N83IHldsxMN3ALiAIRECGTWRuUw/wk5eBgaAoI6GwuMa8RsuAFBa5sGj2INCXqJQoevex9mbcHKmljLuZLv25z+MHtUf1OuUyBAAIVAOFQkF83LxeELyaCIFTlMVwtLqLVZ23ex+fE3GSQukmKOLJUWiKmeIWL3V+NP8pOL3QtLIkL/LR2QDFOJwkAWCg4JCN1ZCwkifTMWbSuLZOzlcy1fFjDNXVbMrI5aPHHUyxckc1RGw2411WpYWrvWl0sEPB1HMUeWwO8XZtwikjFv5MNNwudXemKq6kQBIjVzeUvU1zU5BIoint7GnSGBEshOeKAFjxBrYuoOM0kiWBuKsgRYdkjBF/RqgfJcTt//uQZOcA9mJgzXtYYuoAAA0gAAABGX2jLeyw1+AAADSAAAAEwC1ha7OmnQDAsBqT1OfvE5WFguBchhMPgTHxWJ5QiTFFBTQHiEPbY8q7Jn1Td7qyavHkukEQDs9OLHapM+cLy4TvPUNdiyqUyfJ19ND8vpKfG/qZdZr2olZWP43zs5rdEoZ5s6dav03Rrh6iLp6WUgVB6R050enHrv+6xhfBZayWS1V3oZlbasS84gtOQdvZfq1/J685RtduxHboJgIiLbrhTRzYKy80IdIghnpnA4BhUzsEO04auChBhoAIMACQSXNUYDh0+mTKdM/eV6kO8MO/Px2LPDOuIxp3mXxEDSjRGEsjF8qoJ1YsmgyCkeUISRBaEpelSwLIiwVLldaXWySZGMZiXlA+kcHkE/hWINCwBSQQ2qEZnoiL0NWtbPQiOhuouOZFsgpkIyPnYviNlBkTjEilIFozSpodEt5lSwx8UO0YRZp2U40Ba0YnWcvhRHk452WdZnoILdRdgcoFB543C8zvZKdmC3MSMSMknG2khbk7JhQ5yGAcGDKB//ugZNkA9ndoy3tYYegAAA0gAAABGcVnI+3lh+gAADSAAAAEgzJhk6i5ikoOLmPEGLBEhUxI1UqXyKoiAM8kMBOKypVZTWfh22/z7MAdVqaKjY3rfR4XGdRn9tXinhqORkICcZn5cO+JxswXEPjNNxJULWxXic7aNMMWBAL1RQlYMrNl3FiU6SVcO0RbqfGSw5eLRkJRXE0cj41HxasV9ZRULMJJiyCQSafej7VhoI0AmJAR57psAiuQU1kiSndZUNC3yVpoNJn/35n6qnxF0+f147bj+SmHpDCJKEjkbJTnWEL/GZPGCPCzB0jEJChGACZrjRMML/gIOOFy0IiAJ5l94opROOUkC/qw6deHKXg0Uqe5zuzgMp7H3ZJpU0Vaba6RJCENJYYjuQ0YLptRxKVI2olnYXqJTvMmSG+Rzk3QlBRKMaEl7a1psXS8ysy+hMNiZ5JU7DhM7wmL1tVDNhJO58YZIz9qs4pKWvBEkbkyo00etFMtfJI/KxydTw6iVEgsxUZLw1jsxgVmUQed5G7TsYSCiXdq14zV///7v+sKpEIEJCKUaJIE1y8zKpzukTfPTK2AAIDsiFBjFplywCBExFSCl5ggjUFVRurJKQ3jdFdE/QyUxSwoBZOZFKYvqEQVEhyBP5ipOukGiXFpPGO5q5z8BRI5cPKtsKOnOxp864akgYhKRPDj//uQZP2A9kJoSPtMNkgAAA0gAAABGRlnG609M8AAADSAAAAESJ0Mxdh0IMEUZICYRRJC7CBrTUmV15mIihz2NKkr1WmkbLeyWURLsMkhydI2i02mmOSon2wuwRPJ5m4DiItMqZ3GLlLF0a8ZmZqiwGIiwMIVnjmZjWpv/u///bNGEUGinZG2TjYQMgBQwOCxgUmFgaFgEFAMYNHQwDAgQAIYmCwUW5MCgcdAIFASLK5HVQXlctDgbAbbuCbCiJU3FjZlWxlGh8FSapVUGih8VdoSrTpORHs2ojsn8txd2I5leuKLyOYtn8qoNmBIn8oS8vJ4ZLQtYDiplloKEp0SMiI0K2EXLNRbHHtGWmJWddJKS7Yq6+kteEy0mIPRN6yzjUrzEnut5W0mjbRd8osZuEDzFVRaSK4pwuUfNfX3oIutaVSRNrvv2NCVv6P6tu7YPhpUQgM0OXa2xkFq2uFlTgMTNlRJaEBTTETJjho8DQw6ZHiwjBKZgIKDgQiICoFiQReRPDQE0FWSQlqsjohnYS+haAQZzliNqclJMTmOU0SW//uQZPOA9itWx3tPS/gAAA0gAAABGi1tF649M0AAADSAAAAEnIlDSRZzHcTNWxz2fUfJU3np1ue11PBb3TVPMwN5LxhGm3P1CBoNER55glgLuYs4W1CVsQCllNvCpd1MjVIOmKFy5RL+4srIVfUYqWb18GNYXShkpfMXpW5RjlZinCR0kIQch25FWmSLWE0/Vf/rKFRCMgIVLXo0DlFiscGODKTRkiBEgNTGRbGSQHWcgBQxzWUWEY2wtcHAIzLlemuqBorlPhLp9OSTU0CO/ixp83eFgnls2BsZDFYUkEgFUiqxaftGBJJZ8vKhTKqceywfHqWbonIs5KWTk/JAaiUBwS6FhYB7X1RygHqjhlGriulPWkrjd/qdXfiYW5CkovoihitXNdtu/e8Oxby6XZt+/3de8stJDWIS0mplO23q2KX++mqx9L63O7f/XZq9E0gtbLGgG4CEImEQMEWQGkd04RQu6WEDMzQqZgXUKyhkWGSz5etcLKF7t2UVa8nPTcfSK2HxghkaAQMHamx0mFFgmmyudygUxXj0V4mw8M0N//uQZOaA9fhRxntPS/AAAA0gAAABF1U5Fe1hh8AAADSAAAAEQDcGqQfyeXQah0WxpHUskpk3TfiWo8DSlLqw+Xl4TCqtuXCYoopofEvknSYeKRMDF3KgVEiSqHRwxI5MY14i9XZWN5ePrZiDRC4WMEVKGPbYfuGfT/tf9O1nFujbd/+lbyNloFxtogHRBQGKRokMOEhQuBiINF4WIjCicxIGBgi7oUAQUOMkAoYpXHViFqnbWawdeTcIxN149TuldpYdYFflrqEExLL9VpadUhodj8ZjgWnqWqX0UQ+HKLictSFFbAlOB8okJsZMKZ+vPCxVpUlIRXWWjjTiEVYS0MvIFwnvMdyqgeXYsl/WLLndc2baWZl+2tO9feaFRgaU0GeCqp1yQM6hrV/HDtqcau9ax9MjPoo9TddS6b2tVlRiabskbIB7DsAQKOMDIIwySYQCatEYseRRC/ZhAo6EMACEIUviyQcApPpmw2muumFLxhyLtatwDLm5QPAsXlEHMxgmrLoKqTMCxKQzrkto7UPUtuInoisq0Ph9slLCI4YQ//uQZOgA9ZZKRWssNjAAAA0gAAABF0kpD62w1wAAADSAAAAEhYqiUeHg6AwCGw0GE0L9aLLaJB8C2XyWQBlltJ51NEJBkzNsNOEq/Rwm1ABDFf1DfU6ivRaCBkhIg+mJaTFcgNQx4AkfeMbV7Cv+/CDDdZA5O9UVvo5/YxTRGONJOJkAH2KBwZ8lVzOFjNSDFwiaSLBTJikQw5SZ8AVEabSG7I06EOctdahUbY+vNYSINVlHYa8STEeAQMzZGS2jcnIJUGsnlahSJhd04NoFRVcEY4M1zR6P4nwynxk6WxloSXSVddZj2aMIhEHtcrJSde2asPFnlDgdxmHTm0J2u2hUmFaH0bc9aaKRBF4hbPKYmjkc6dOFAAo0HsOphMdPNMyIkQpzrHqQ2GT4qPOKC6WsaYVPLeLvoKMh0mWztjSSdkkKcbssZIADOr9jxCDfVaI4ZMCECwoUPiFMABigTGwgKt1ehgwyQo0BbqzWCEzpW/Esl0CLknyUNzsei2dAaJ5KMSyeA3oIgHRJW2fJUBKdHUcTR0z4uqVyyBJ7sL7J//uQZPAA9dpMw+tJHrAAAA0gAAABGI01C60xFUAAADSAAAAEk4h4dNQF0uxHZJWsqucOoujPz3vaL9Sh9OrG3Ryh7vkepjmhMqqHxwwleAACXQysRsEiX6DxQc07+pqM2ypaBZTK0yjTaFFmWE63+K2otRSp1ZUhWVHv2kaAOEvYS9kEkgVw4y0podOZhKCCAsKAwRmpetSheyyF5tIUcgJ1WI8dqILAskiEorQSuVnU4ZoR8VlxklFRMbSpkZPucFdhtxcSXyFeJpKsvskjKdxwlQWLFwyGqMAnRJ0wEAkFhwYC4BEgjDRcioPEXCdZsQgmJqXK5P23K3/+zX9X/V93/12FySVyWWIgAGIb8Y15hYVN9f8lMAAuBurS35d0GkMZm+oQpNR1Eex7I+7suSHq9XHKqVWTE/FTl+qmX5l75XJc6nt3plISImhS1KJ1G2+ayKGyoy60IKtHhwmBli7iyqI06AUhdDCXPU0GG4zKR7FndSFbTzTwrddEtyuucRm/8nQ+/+6m17KBoo8MtyAFVWsS2aFABAGCJm9lWDrK//uAZO6A9YZGw2tMHVAAAA0gAAABEdy/Ee0wdoAAADSAAAAEDoW/bqGZtskVFVVW+V2aWZhZmayWDvU9QNBU7//+DX///////////6lMQU1FMy4xMDBVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+1Bk8wD0QyZCaw9L0AAADSAAAAEHrIEFIzEIAAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQZN2P8AAAf4AAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=").play()}rc.update((e=>e.slice(1)))}}),1e3)):0===e.length&&k&&y&&(clearInterval(y),k=!1,y=void 0)}));const[$,V]=Nn({duration:e=>Math.sqrt(200*e),fallback(e,t){const n=getComputedStyle(e),r="none"===n.transform?"":n.transform;return{duration:500,easing:Dn,css:e=>`\n\t\t\t\t\ttransform: ${r} scale(${e});\n\t\t\t\t\topacity: ${e}\n\t\t\t\t`}}});oe((async()=>{var e,t,r,i,o;try{const s=null!==(e=(await lf.get(`https://chat-server.tykhe.dev/configuracoes/midias?channel=webchat&whtoken=${u}`)).data.configuration.blockMedia)&&void 0!==e?e:[];n(3,w={video:s.includes("video"),image:s.includes("image"),audio:s.includes("audio"),file:s.includes("file")});const a=await lf.get(`https://chat-server.tykhe.dev/configuracoes/tema-webchat?channel=webchat&whtoken=${u}`);if(null===(r=null===(t=a.data)||void 0===t?void 0:t.configuration)||void 0===r?void 0:r.theme){const e=a.data.configuration.theme,t=a.data.configuration.webchatTheme;Ke.update((n=>{var r,i,o,s,a,c,l,u,d;return Object.assign(Object.assign({},n),{palette:Object.assign(Object.assign({},n.palette),{primary:e.primary?e.primary:n.palette.primary,bubble:{sent:(null===(r=null==e?void 0:e.bubble)||void 0===r?void 0:r.agent)?e.bubble.agent:n.palette.bubble.sent,received:(null===(i=null==e?void 0:e.bubble)||void 0===i?void 0:i.user)?e.bubble.user:n.palette.bubble.received},bubbleText:{sent:(null===(o=null==e?void 0:e.bubble)||void 0===o?void 0:o.agent)?Qe(e.bubble.agent):n.palette.bubble.sent,received:(null===(s=null==e?void 0:e.bubble)||void 0===s?void 0:s.user)?Qe(e.bubble.user):n.palette.bubble.received},background:{default:(null===(a=null==e?void 0:e.cBackground)||void 0===a?void 0:a.chat)?e.cBackground.chat:n.palette.background.default,textarea:(null===(c=null==e?void 0:e.cBackground)||void 0===c?void 0:c.textArea)?e.cBackground.textArea:n.palette.background.textarea}}),shape:n.shape,outline:n.outline,headerTextColor:(null===(l=null==e?void 0:e.primary)||void 0===l?void 0:l.dark)?Qe(e.primary.dark):n.headerTextColor,buttonIconColor:(null===(u=null==e?void 0:e.primary)||void 0===u?void 0:u.main)?Qe(e.primary.main):n.buttonIconColor,textAreaTextColor:(null===(d=null==e?void 0:e.cBackground)||void 0===d?void 0:d.textArea)?Qe(e.cBackground.textArea):n.textAreaTextColor,fontFamily:n.fontFamily,fab:t.useFab?t.useFab:n.fab})}))}if(null===(o=null===(i=a.data)||void 0===i?void 0:i.configuration)||void 0===o?void 0:o.webchatTheme){const e=a.data.configuration.webchatTheme;Ge.update((t=>({name:(null==e?void 0:e.widgetName)?e.widgetName:t.name,image:(null==e?void 0:e.widgetImg)?e.widgetImg:t.image})))}}catch(e){console.log(e)}}));let x,I={};return e.$$.update=()=>{if(933888&e.$$.dirty&&!v&&o.isLoggedIn&&!m){const e=_h("https://chat-socket.tykhe.dev",{auth:{token:u},withCredentials:!0});oc.set(e),uf({newSocket:e,userAuth:o})}98311&e.$$.dirty&&n(4,I={chatDiv:yn`
      background-color: ${l.palette.background.default};
      border-radius: ${s?0:l.shape.borderRadius}
        ${s?0:l.shape.borderRadius} 0 0;
      max-width: ${s?"100vw":"350px"};
      width: ${s?"100%":"350px"};
      display: ${A?"flex":"block"};
      height: ${A?s?"100vh":"628px":"56px"};
      bottom: ${l.fab&&!A||s&&!A?"-78px":"0"};
      right: ${c?a?s?"0px":"50px":"100px":"200px"};
    `,fabDiv:yn`
      right: ${c?a?s?"24px":"54px":"104px":"204px"};
    `})},[A,s,l,w,I,x,r,g,b,$,V,function(e){n(0,A="open"===e.detail.status)},function(){return{update:()=>{setTimeout((()=>{x.scroll({top:x.scrollHeight,behavior:"smooth"})}),500)}}},async function(){const e=await o.user.getIdToken(),t=await lf.get(`https://chat-server.tykhe.dev/chats/${i}/mensagens`,{headers:{Authorization:`Bearer ${e}`},params:{pagina:r.page+1}});if(t.data.success){ic.set({page:r.page+1,lastPage:t.data.lastPage});const n=t.data.messages.flatMap((t=>{var n,r,i,o;return"text"===t.messageType?{type:"text",sender:"customer"===t.whoSent,message:{content:t.text},bot:"bot"===t.whoSent,manager:"manager"===t.whoSent,createdAt:new Date}:"fileText"===t.messageType?{type:"fileText",sender:"customer"===t.whoSent,message:{content:t.text,filename:0!==t.files.length?null!==(r=null===(n=t.files[0])||void 0===n?void 0:n.originalName)&&void 0!==r?r:null===(i=t.files[0])||void 0===i?void 0:i.name:void 0,fileId:0!==t.files.length?null===(o=t.files[0])||void 0===o?void 0:o.url:void 0},bot:"bot"===t.whoSent,manager:"manager"===t.whoSent,createdAt:new Date}:t.files.map((n=>{var r,i;let o=null===(r=n.fileType)||void 0===r?void 0:r.split("/")[0];"application"===o&&(o="file");let s=n.url;return["appwrite","menuOptionAppwrite"].includes(n.fileLocation)&&(s=`https://chat-server.tykhe.dev/mensagens/download/${t._id}?authToken=${e}`),{type:o,sender:"customer"===t.whoSent,message:{content:s,filename:null!==(i=n.originalName)&&void 0!==i?i:n.name},bot:"bot"===t.whoSent,manager:"manager"===t.whoSent,createdAt:new Date}}))}));nc.update((e=>[...e,...n]))}},o,a,c,u,m,v,function(e){x=e,n(5,x)},()=>{n(0,A=!0)}]}class im extends qe{constructor(e){super(),Ue(this,e,rm,nm,a,{},Qf)}}function om(e){E(e,"svelte-d67a3c","main.svelte-d67a3c{max-width:240px;margin:0 auto}@media(min-width: 640px){main.svelte-d67a3c{max-width:none}}")}function sm(e){let t,n,r,i,o,s;return i=new im({}),{c(){t=M("main"),n=M("link"),r=L(),Le(i.$$.fragment),F(n,"rel","stylesheet"),F(n,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),F(t,"class",o=b(e[0])+" svelte-d67a3c")},m(e,o){R(e,t,o),C(t,n),C(t,r),Pe(i,t,null),s=!0},p(e,[n]){(!s||1&n&&o!==(o=b(e[0])+" svelte-d67a3c"))&&F(t,"class",o)},i(e){s||(Se(i.$$.fragment,e),s=!0)},o(e){Te(i.$$.fragment,e),s=!1},d(e){e&&O(t),je(i)}}}function am(e,t,n){let r;h(e,Ke,(e=>n(21,r=e)));let i,{accentColor:o=""}=t,{mainColor:s=""}=t,{backgroundColor:a=""}=t,{textAreaColor:c=""}=t,{receivedBubbleColor:l=""}=t,{sentBubbleColor:u=""}=t,{receivedTextColor:d=""}=t,{sentTextColor:p=""}=t,{borderRadius:f=""}=t,{bubbleBorderRadius:m=""}=t,{textAreaBorderRadius:g=""}=t,{outline:v=!1}=t,{headerTextColor:b=""}=t,{buttonIconColor:y=""}=t,{textAreaTextColor:w=""}=t,{fontFamily:A=""}=t,{token:k=""}=t,{fab:$=!1}=t,{headerName:V=""}=t,{headerImageSource:x=""}=t;return uc.set(k),uc.subscribe((async e=>{if(e)try{(await lf.get(`https://chat-server.tykhe.dev/projetos/validar-token?channel=webchat&whtoken=${e}`)).data.success||console.error("Token do webchat inválido")}catch(e){console.error("Token do webchat inválido")}})),Ke.update((e=>Object.assign(Object.assign({},e),{palette:Object.assign(Object.assign({},e.palette),{primary:Object.assign(Object.assign({},e.palette.primary),{main:""!==o?o:e.palette.primary.main,dark:""!==s?s:e.palette.primary.dark}),bubble:Object.assign(Object.assign({},e.palette.bubble),{sent:""!==u?u:e.palette.bubble.sent,received:""!==l?l:e.palette.bubble.received}),bubbleText:Object.assign(Object.assign({},e.palette.bubbleText),{sent:""!==p?p:e.palette.bubbleText.sent,received:""!==d?d:e.palette.bubbleText.received}),background:Object.assign(Object.assign({},e.palette.background),{default:""!==a?a:e.palette.background.default,textarea:""!==c?c:e.palette.background.textarea})}),shape:Object.assign(Object.assign({},e.shape),{borderRadius:""!==f?f:e.shape.borderRadius,bubbleBorderRadius:""!==m?m:""!==f?f:e.shape.bubbleBorderRadius,textAreaBorderRadius:""!==g?g:""!==f?f:e.shape.textAreaBorderRadius}),outline:v,headerTextColor:""!==b?b:e.headerTextColor,buttonIconColor:""!==y?y:e.buttonIconColor,textAreaTextColor:""!==w?w:e.textAreaTextColor,fontFamily:""!==A?A:e.fontFamily,fab:$}))),Ge.update((e=>({name:V||e.name,image:x||e.image}))),e.$$set=e=>{"accentColor"in e&&n(1,o=e.accentColor),"mainColor"in e&&n(2,s=e.mainColor),"backgroundColor"in e&&n(3,a=e.backgroundColor),"textAreaColor"in e&&n(4,c=e.textAreaColor),"receivedBubbleColor"in e&&n(5,l=e.receivedBubbleColor),"sentBubbleColor"in e&&n(6,u=e.sentBubbleColor),"receivedTextColor"in e&&n(7,d=e.receivedTextColor),"sentTextColor"in e&&n(8,p=e.sentTextColor),"borderRadius"in e&&n(9,f=e.borderRadius),"bubbleBorderRadius"in e&&n(10,m=e.bubbleBorderRadius),"textAreaBorderRadius"in e&&n(11,g=e.textAreaBorderRadius),"outline"in e&&n(12,v=e.outline),"headerTextColor"in e&&n(13,b=e.headerTextColor),"buttonIconColor"in e&&n(14,y=e.buttonIconColor),"textAreaTextColor"in e&&n(15,w=e.textAreaTextColor),"fontFamily"in e&&n(16,A=e.fontFamily),"token"in e&&n(17,k=e.token),"fab"in e&&n(18,$=e.fab),"headerName"in e&&n(19,V=e.headerName),"headerImageSource"in e&&n(20,x=e.headerImageSource)},e.$$.update=()=>{2097152&e.$$.dirty&&n(0,i=yn`
    font-family: ${r.fontFamily};
  `)},[i,o,s,a,c,l,u,d,p,f,m,g,v,b,y,w,A,k,$,V,x,r]}let cm=document.createElement("DIV"),lm=document.currentScript;lm.parentNode.insertBefore(cm,lm);let um=lm.getAttribute("accentColor"),dm=lm.getAttribute("mainColor"),hm=lm.getAttribute("backgroundColor"),pm=lm.getAttribute("textAreaColor"),fm=lm.getAttribute("receivedBubbleColor"),mm=lm.getAttribute("sentBubbleColor"),gm=lm.getAttribute("receivedTextColor"),vm=lm.getAttribute("sentTextColor"),bm=lm.getAttribute("borderRadius"),ym=lm.getAttribute("bubbleBorderRadius"),wm=lm.getAttribute("textAreaBorderRadius"),Am=lm.getAttribute("outline"),km=lm.getAttribute("headerTextColor"),$m=lm.getAttribute("buttonIconColor"),Vm=lm.getAttribute("textAreaTextColor"),xm=lm.getAttribute("fontFamily"),Im=lm.getAttribute("fab"),Cm=lm.getAttribute("token"),Em=lm.getAttribute("headerName"),Sm=lm.getAttribute("headerImageSource");new class extends qe{constructor(e){super(),Ue(this,e,am,sm,a,{accentColor:1,mainColor:2,backgroundColor:3,textAreaColor:4,receivedBubbleColor:5,sentBubbleColor:6,receivedTextColor:7,sentTextColor:8,borderRadius:9,bubbleBorderRadius:10,textAreaBorderRadius:11,outline:12,headerTextColor:13,buttonIconColor:14,textAreaTextColor:15,fontFamily:16,token:17,fab:18,headerName:19,headerImageSource:20},om)}}({target:cm,props:{accentColor:null!==um?um:"",mainColor:null!==dm?dm:"",backgroundColor:null!==hm?hm:"",textAreaColor:null!==pm?pm:"",receivedBubbleColor:null!==fm?fm:"",sentBubbleColor:null!==mm?mm:"",receivedTextColor:null!==gm?gm:"",sentTextColor:null!==vm?vm:"",borderRadius:null!==bm?bm:"",bubbleBorderRadius:null!==ym?ym:"",textAreaBorderRadius:null!==wm?wm:"",outline:"true"===Am,headerTextColor:null!==km?km:"",buttonIconColor:null!==$m?$m:"",textAreaTextColor:null!==Vm?Vm:"",fontFamily:null!==xm?xm:"",fab:"true"===Im,token:null!==Cm?Cm:"",headerName:null!==Em?Em:"",headerImageSource:null!==Sm?Sm:""}})}();
