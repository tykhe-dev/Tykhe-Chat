!function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c;function l(e,t){return c||(c=document.createElement("a")),c.href=t,e===c.href}function u(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function d(e){let t;return u(e,(e=>t=e))(),t}function h(e,t,n){e.$$.on_destroy.push(u(t,n))}function p(e,t,n,r){if(e){const i=f(e,t,n,r);return e[0](i)}}function f(e,t,r,i){return e[1]&&i?n(r.ctx.slice(),e[1](i(t))):r.ctx}function m(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function g(e,t,n,r,i,o){if(i){const s=f(t,n,r,o);e.p(s,i)}}function v(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function b(e){return null==e?"":e}function y(e,t,n){return e.set(n),t}function w(t){return t&&s(t.destroy)?t.destroy:e}const $="undefined"!=typeof window;let k=$?()=>window.performance.now():()=>Date.now(),x=$?e=>requestAnimationFrame(e):e;const _=new Set;function I(e){_.forEach((t=>{t.c(e)||(_.delete(t),t.f())})),0!==_.size&&x(I)}function C(e){let t;return 0===_.size&&x(I),{promise:new Promise((n=>{_.add(t={c:e,f:n})})),abort(){_.delete(t)}}}function T(e,t){e.appendChild(t)}function E(e,t,n){const r=S(e);if(!r.getElementById(t)){const e=D("style");e.id=t,e.textContent=n,R(r,e)}}function S(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function A(e){const t=D("style");return R(S(e),t),t.sheet}function R(e,t){T(e.head||e,t)}function O(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode.removeChild(e)}function P(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function D(e){return document.createElement(e)}function B(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function j(){return L(" ")}function M(){return L("")}function F(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function z(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function U(e){const t=[];for(let n=0;n<e.length;n+=1)t.push({start:e.start(n),end:e.end(n)});return t}function q(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function V(e,t){e.value=null==t?"":t}function H(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let W;function K(){if(void 0===W){W=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){W=!0}}return W}function G(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=D("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=K();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=F(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=F(n.contentWindow,"resize",t)}),T(e,n),()=>{(r||i&&n.contentWindow)&&i(),N(n)}}function J(e,t,n){e.classList[n?"add":"remove"](t)}function X(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}const Y=new Map;let Z,Q=0;function ee(e,t,n,r,i,o,s,a=0){const c=16.666/r;let l="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*o(e);l+=100*e+`%{${s(r,1-r)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,h=S(e),{stylesheet:p,rules:f}=Y.get(h)||function(e,t){const n={stylesheet:A(t),rules:{}};return Y.set(e,n),n}(h,e);f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${r}ms linear ${i}ms 1 both`,Q+=1,d}function te(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Q-=i,Q||x((()=>{Q||(Y.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),Y.clear())})))}function ne(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i="none"===r.transform?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function re(e){Z=e}function ie(){if(!Z)throw new Error("Function called outside component initialization");return Z}function oe(e){ie().$$.on_mount.push(e)}function se(e){ie().$$.on_destroy.push(e)}function ae(){const e=ie();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=X(t,n);r.slice().forEach((t=>{t.call(e,i)}))}}}function ce(e){return ie().$$.context.get(e)}function le(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ue=[],de=[],he=[],pe=[],fe=Promise.resolve();let me=!1;function ge(e){he.push(e)}function ve(e){pe.push(e)}const be=new Set;let ye,we=0;function $e(){const e=Z;do{for(;we<ue.length;){const e=ue[we];we++,re(e),ke(e.$$)}for(re(null),ue.length=0,we=0;de.length;)de.pop()();for(let e=0;e<he.length;e+=1){const t=he[e];be.has(t)||(be.add(t),t())}he.length=0}while(ue.length);for(;pe.length;)pe.pop()();me=!1,be.clear(),re(e)}function ke(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ge)}}function xe(){return ye||(ye=Promise.resolve(),ye.then((()=>{ye=null}))),ye}function _e(e,t,n){e.dispatchEvent(X(`${t?"intro":"outro"}${n}`))}const Ie=new Set;let Ce;function Te(){Ce={r:0,c:[],p:Ce}}function Ee(){Ce.r||o(Ce.c),Ce=Ce.p}function Se(e,t){e&&e.i&&(Ie.delete(e),e.i(t))}function Ae(e,t,n,r){if(e&&e.o){if(Ie.has(e))return;Ie.add(e),Ce.c.push((()=>{Ie.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const Re={duration:0};function Oe(n,r,i){let o,a,c=r(n,i),l=!1,u=0;function d(){o&&te(n,o)}function h(){const{delay:r=0,duration:i=300,easing:s=t,tick:h=e,css:p}=c||Re;p&&(o=ee(n,0,1,i,r,s,p,u++)),h(0,1);const f=k()+r,m=f+i;a&&a.abort(),l=!0,ge((()=>_e(n,!0,"start"))),a=C((e=>{if(l){if(e>=m)return h(1,0),_e(n,!0,"end"),d(),l=!1;if(e>=f){const t=s((e-f)/i);h(t,1-t)}}return l}))}let p=!1;return{start(){p||(p=!0,te(n),s(c)?(c=c(),xe().then(h)):h())},invalidate(){p=!1},end(){l&&(d(),l=!1)}}}function Ne(n,r,i){let a,c=r(n,i),l=!0;const u=Ce;function d(){const{delay:r=0,duration:i=300,easing:s=t,tick:d=e,css:h}=c||Re;h&&(a=ee(n,1,0,i,r,s,h));const p=k()+r,f=p+i;ge((()=>_e(n,!1,"start"))),C((e=>{if(l){if(e>=f)return d(0,1),_e(n,!1,"end"),--u.r||o(u.c),!1;if(e>=p){const t=s((e-p)/i);d(1-t,t)}}return l}))}return u.r+=1,s(c)?xe().then((()=>{c=c(),d()})):d(),{end(e){e&&c.tick&&c.tick(1,0),l&&(a&&te(n,a),l=!1)}}}function Pe(n,r,i,a){let c=r(n,i),l=a?0:1,u=null,d=null,h=null;function p(){h&&te(n,h)}function f(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:i=0,duration:s=300,easing:a=t,tick:m=e,css:g}=c||Re,v={start:k()+i,b:r};r||(v.group=Ce,Ce.r+=1),u||d?d=v:(g&&(p(),h=ee(n,l,r,s,i,a,g)),r&&m(0,1),u=f(v,s),ge((()=>_e(n,r,"start"))),C((e=>{if(d&&e>d.start&&(u=f(d,s),d=null,_e(n,u.b,"start"),g&&(p(),h=ee(n,l,u.b,u.duration,0,a,c.css))),u)if(e>=u.end)m(l=u.b,1-l),_e(n,u.b,"end"),d||(u.b?p():--u.group.r||o(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;l=u.a+u.d*a(t/u.duration),m(l,1-l)}return!(!u&&!d)})))}return{run(e){s(c)?xe().then((()=>{c=c(),m(e)})):m(e)},end(){p(),u=d=null}}}function De(e,t){const n=t.token={};function r(e,r,i,o){if(t.token!==n)return;t.resolved=o;let s=t.ctx;void 0!==i&&(s=s.slice(),s[i]=o);const a=e&&(t.current=e)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(Te(),Ae(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Ee())})):t.block.d(1),a.c(),Se(a,1),a.m(t.mount(),t.anchor),c=!0),t.block=a,t.blocks&&(t.blocks[r]=a),c&&$e()}if((i=e)&&"object"==typeof i&&"function"==typeof i.then){const n=ie();if(e.then((e=>{re(n),r(t.then,1,t.value,e),re(null)}),(e=>{if(re(n),r(t.catch,2,t.error,e),re(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var i}function Be(e,t){e.f(),function(e,t){Ae(e,1,1,(()=>{t.delete(e.key)}))}(e,t)}function Le(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function je(e){e&&e.c()}function Me(e,t,n,i){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=e.$$;a&&a.m(t,n),i||ge((()=>{const t=c.map(r).filter(s);l?l.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(ge)}function Fe(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ze(e,t){-1===e.$$.dirty[0]&&(ue.push(e),me||(me=!0,fe.then($e)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ue(t,n,r,s,a,c,l,u=[-1]){const d=Z;re(t);const h=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(h.root);let p=!1;if(h.ctx=r?r(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),p&&ze(t,e)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);h.fragment&&h.fragment.l(e),e.forEach(N)}else h.fragment&&h.fragment.c();n.intro&&Se(t.$$.fragment),Me(t,n.target,n.anchor,n.customElement),$e()}re(d)}class qe{$destroy(){Fe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ve=[];function He(e,t){return{subscribe:We(e,t).subscribe}}function We(t,n=e){let r;const i=new Set;function o(e){if(a(t,e)&&(t=e,r)){const e=!Ve.length;for(const e of i)e[1](),Ve.push(e,t);if(e){for(let e=0;e<Ve.length;e+=2)Ve[e][0](Ve[e+1]);Ve.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const c=[s,a];return i.add(c),1===i.size&&(r=n(o)||e),s(t),()=>{i.delete(c),0===i.size&&(r(),r=null)}}}}const Ke=We({palette:{primary:{main:"#1b4d75",dark:"#0f2b42"},bubble:{sent:"#424242",received:"white"},bubbleText:{sent:"white",received:"black"},background:{default:"#dae7f2",textarea:"#edf4fa"}},breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1536}},typography:{fontFamily:"Montserrat",h1:{fontFamily:"Advent Pro"},h2:{fontFamily:"Advent Pro"},h3:{fontFamily:"Advent Pro"},h4:{fontFamily:"Advent Pro"},h5:{fontFamily:"Advent Pro"},fontSize:14},shape:{borderRadius:"24px",bubbleBorderRadius:"24px",textAreaBorderRadius:"48px"},outline:!1,headerTextColor:"white",buttonIconColor:"white",textAreaTextColor:"black",fontFamily:'Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif !important',fab:!1}),Ge=We({name:"",image:""}),Je={xs:0,sm:600,md:900,lg:1200,xl:1536},Xe=e=>{let t=Ye(e),n=0;if((null==t?void 0:t.r)&&(null==t?void 0:t.g)&&(null==t?void 0:t.b)){for(const[e,n]of Object.entries(t)){let r=n/255;r<=.04045?r/=12.92:r=Math.pow((r+.055)/1.055,2.4),t=Object.assign(Object.assign({},t),{[e]:r})}n=.2126*(null==t?void 0:t.r)+.7152*(null==t?void 0:t.g)+.0722*(null==t?void 0:t.b)}return n>.179?"#000000":"#FAFAFA"},Ye=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null};var Ze=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Qe="-ms-",et="-moz-",tt="-webkit-",nt="comm",rt="rule",it="decl",ot="@keyframes",st=Math.abs,at=String.fromCharCode,ct=Object.assign;function lt(e){return e.trim()}function ut(e,t,n){return e.replace(t,n)}function dt(e,t){return e.indexOf(t)}function ht(e,t){return 0|e.charCodeAt(t)}function pt(e,t,n){return e.slice(t,n)}function ft(e){return e.length}function mt(e){return e.length}function gt(e,t){return t.push(e),e}var vt=1,bt=1,yt=0,wt=0,$t=0,kt="";function xt(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:vt,column:bt,length:s,return:""}}function _t(e,t){return ct(xt("",null,null,"",null,null,0),e,{length:-e.length},t)}function It(){return $t=wt>0?ht(kt,--wt):0,bt--,10===$t&&(bt=1,vt--),$t}function Ct(){return $t=wt<yt?ht(kt,wt++):0,bt++,10===$t&&(bt=1,vt++),$t}function Tt(){return ht(kt,wt)}function Et(){return wt}function St(e,t){return pt(kt,e,t)}function At(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rt(e){return vt=bt=1,yt=ft(kt=e),wt=0,[]}function Ot(e){return kt="",e}function Nt(e){return lt(St(wt-1,Bt(91===e?e+2:40===e?e+1:e)))}function Pt(e){for(;($t=Tt())&&$t<33;)Ct();return At(e)>2||At($t)>3?"":" "}function Dt(e,t){for(;--t&&Ct()&&!($t<48||$t>102||$t>57&&$t<65||$t>70&&$t<97););return St(e,Et()+(t<6&&32==Tt()&&32==Ct()))}function Bt(e){for(;Ct();)switch($t){case e:return wt;case 34:case 39:34!==e&&39!==e&&Bt($t);break;case 40:41===e&&Bt(e);break;case 92:Ct()}return wt}function Lt(e,t){for(;Ct()&&e+$t!==57&&(e+$t!==84||47!==Tt()););return"/*"+St(t,wt-1)+"*"+at(47===e?e:Ct())}function jt(e){for(;!At(Tt());)Ct();return St(e,wt)}function Mt(e){return Ot(Ft("",null,null,null,[""],e=Rt(e),0,[0],e))}function Ft(e,t,n,r,i,o,s,a,c){for(var l=0,u=0,d=s,h=0,p=0,f=0,m=1,g=1,v=1,b=0,y="",w=i,$=o,k=r,x=y;g;)switch(f=b,b=Ct()){case 40:if(108!=f&&58==x.charCodeAt(d-1)){-1!=dt(x+=ut(Nt(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:x+=Nt(b);break;case 9:case 10:case 13:case 32:x+=Pt(f);break;case 92:x+=Dt(Et()-1,7);continue;case 47:switch(Tt()){case 42:case 47:gt(Ut(Lt(Ct(),Et()),t,n),c);break;default:x+="/"}break;case 123*m:a[l++]=ft(x)*v;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:p>0&&ft(x)-d&&gt(p>32?qt(x+";",r,n,d-1):qt(ut(x," ","")+";",r,n,d-2),c);break;case 59:x+=";";default:if(gt(k=zt(x,t,n,l,u,i,a,y,w=[],$=[],d),o),123===b)if(0===u)Ft(x,t,k,k,w,o,d,a,$);else switch(h){case 100:case 109:case 115:Ft(e,k,k,r&&gt(zt(e,k,k,0,0,i,a,y,i,w=[],d),$),i,$,d,a,r?w:$);break;default:Ft(x,k,k,k,[""],$,0,a,$)}}l=u=p=0,m=v=1,y=x="",d=s;break;case 58:d=1+ft(x),p=f;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==It())continue;switch(x+=at(b),b*m){case 38:v=u>0?1:(x+="\f",-1);break;case 44:a[l++]=(ft(x)-1)*v,v=1;break;case 64:45===Tt()&&(x+=Nt(Ct())),h=Tt(),u=d=ft(y=x+=jt(Et())),b++;break;case 45:45===f&&2==ft(x)&&(m=0)}}return o}function zt(e,t,n,r,i,o,s,a,c,l,u){for(var d=i-1,h=0===i?o:[""],p=mt(h),f=0,m=0,g=0;f<r;++f)for(var v=0,b=pt(e,d+1,d=st(m=s[f])),y=e;v<p;++v)(y=lt(m>0?h[v]+" "+b:ut(b,/&\f/g,h[v])))&&(c[g++]=y);return xt(e,t,n,0===i?rt:a,c,l,u)}function Ut(e,t,n){return xt(e,t,n,nt,at($t),pt(e,2,-2),0)}function qt(e,t,n,r){return xt(e,t,n,it,pt(e,0,r),pt(e,r+1,-1),r)}function Vt(e,t){switch(function(e,t){return(((t<<2^ht(e,0))<<2^ht(e,1))<<2^ht(e,2))<<2^ht(e,3)}(e,t)){case 5103:return tt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+e+et+e+Qe+e+e;case 6828:case 4268:return tt+e+Qe+e+e;case 6165:return tt+e+Qe+"flex-"+e+e;case 5187:return tt+e+ut(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return tt+e+Qe+"flex-item-"+ut(e,/flex-|-self/,"")+e;case 4675:return tt+e+Qe+"flex-line-pack"+ut(e,/align-content|flex-|-self/,"")+e;case 5548:return tt+e+Qe+ut(e,"shrink","negative")+e;case 5292:return tt+e+Qe+ut(e,"basis","preferred-size")+e;case 6060:return tt+"box-"+ut(e,"-grow","")+tt+e+Qe+ut(e,"grow","positive")+e;case 4554:return tt+ut(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return ut(ut(ut(e,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),e,"")+e;case 5495:case 3959:return ut(e,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return ut(ut(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+e+e;case 4095:case 3583:case 4068:case 2532:return ut(e,/(.+)-inline(.+)/,tt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ft(e)-1-t>6)switch(ht(e,t+1)){case 109:if(45!==ht(e,t+4))break;case 102:return ut(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+et+(108==ht(e,t+3)?"$3":"$2-$3"))+e;case 115:return~dt(e,"stretch")?Vt(ut(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ht(e,t+1))break;case 6444:switch(ht(e,ft(e)-3-(~dt(e,"!important")&&10))){case 107:return ut(e,":",":"+tt)+e;case 101:return ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(45===ht(e,14)?"inline-":"")+"box$3$1"+tt+"$2$3$1"+Qe+"$2box$3")+e}break;case 5936:switch(ht(e,t+11)){case 114:return tt+e+Qe+ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tt+e+Qe+ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tt+e+Qe+ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return tt+e+Qe+e+e}return e}function Ht(e,t){for(var n="",r=mt(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Wt(e,t,n,r){switch(e.type){case"@import":case it:return e.return=e.return||e.value;case nt:return"";case ot:return e.return=e.value+"{"+Ht(e.children,r)+"}";case rt:e.value=e.props.join(",")}return ft(n=Ht(e.children,r))?e.return=e.value+"{"+n+"}":""}function Kt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Gt=function(e,t,n){for(var r=0,i=0;r=i,i=Tt(),38===r&&12===i&&(t[n]=1),!At(i);)Ct();return St(e,wt)},Jt=function(e,t){return Ot(function(e,t){var n=-1,r=44;do{switch(At(r)){case 0:38===r&&12===Tt()&&(t[n]=1),e[n]+=Gt(wt-1,t,n);break;case 2:e[n]+=Nt(r);break;case 4:if(44===r){e[++n]=58===Tt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=at(r)}}while(r=Ct());return e}(Rt(e),t))},Xt=new WeakMap,Yt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Xt.get(n))&&!r){Xt.set(e,!0);for(var i=[],o=Jt(t,i),s=n.props,a=0,c=0;a<o.length;a++)for(var l=0;l<s.length;l++,c++)e.props[c]=i[a]?o[a].replace(/&\f/g,s[l]):s[l]+" "+o[a]}}},Zt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Qt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case it:e.return=Vt(e.value,e.length);break;case ot:return Ht([_t(e,{value:ut(e.value,"@","@"+tt)})],r);case rt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ht([_t(e,{props:[ut(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ht([_t(e,{props:[ut(t,/:(plac\w+)/,":-webkit-input-$1")]}),_t(e,{props:[ut(t,/:(plac\w+)/,":-moz-$1")]}),_t(e,{props:[ut(t,/:(plac\w+)/,Qe+"input-$1")]})],r)}return""}))}}],en=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Qt;var i,o,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var c=[Yt,Zt];var l,u,d=[Wt,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=mt(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(c.concat(r,d));o=function(e,t,n,r){l=n,Ht(Mt(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new Ze({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return p.sheet.hydrate(a),p};var tn={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nn=/[A-Z]|^ms/g,rn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,on=function(e){return 45===e.charCodeAt(1)},sn=function(e){return null!=e&&"boolean"!=typeof e},an=Kt((function(e){return on(e)?e:e.replace(nn,"-$&").toLowerCase()})),cn=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(rn,(function(e,t,n){return un={name:t,styles:n,next:un},t}))}return 1===tn[e]||on(e)||"number"!=typeof t||0===t?t:t+"px"};function ln(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return un={name:n.name,styles:n.styles,next:un},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)un={name:r.name,styles:r.styles,next:un},r=r.next;var i=n.styles+";";return i}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ln(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!=typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":sn(s)&&(r+=an(o)+":"+cn(o,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=ln(e,t,s);switch(o){case"animation":case"animationName":r+=an(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var c=0;c<s.length;c++)sn(s[c])&&(r+=an(o)+":"+cn(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=un,s=n(e);return un=o,ln(e,t,s)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var un,dn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var hn=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";un=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=ln(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=ln(n,t,e[s]),r&&(i+=o[s]);dn.lastIndex=0;for(var a,c="";null!==(a=dn.exec(i));)c+="-"+a[1];var l=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return{name:l,styles:i,next:un}};function pn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var fn=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};function mn(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function gn(e,t,n){var r=[],i=pn(e,r,n);return r.length<2?n:i+t(r)}var vn=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=e(i);else for(var s in o="",i)i[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n},bn=function(e){var t=en(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=hn(n,t.registered,void 0);return fn(t,i,!1),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return gn(t.registered,n,vn(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=hn(n,t.registered);mn(t,i)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=hn(n,t.registered),o="animation-"+i.name;return mn(t,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:pn.bind(null,t.registered),merge:gn.bind(null,t.registered,n)}}({key:"css"}),yn=bn.css;const wn=He(!1,(e=>{if("undefined"==typeof window)return()=>{};const t=`(max-width: ${Je.sm}px)`,n=window.matchMedia(t);function r(t){e(t.matches)}return e(n.matches),n.addEventListener("change",r),()=>n.removeEventListener("change",r)})),$n=He(!1,(e=>{if("undefined"==typeof window)return()=>{};const t=`(max-width: ${Je.md}px)`,n=window.matchMedia(t);function r(t){e(t.matches)}return e(n.matches),n.addEventListener("change",r),()=>n.removeEventListener("change",r)})),kn=He(!1,(e=>{if("undefined"==typeof window)return()=>{};const t=`(max-width: ${Je.lg}px)`,n=window.matchMedia(t);function r(t){e(t.matches)}return e(n.matches),n.addEventListener("change",r),()=>n.removeEventListener("change",r)}));function xn(e){return"number"==typeof e?`${e}px`:e}var _n=(e,t)=>{let n=t;return Object.entries(n).forEach((([t,n])=>{n&&e.style.setProperty(`--s-${t}`,xn(n))})),{update(t){Object.entries(t).forEach((([t,r])=>{r&&(e.style.setProperty(`--s-${t}`,xn(r)),delete n[t])})),Object.keys(n).forEach((t=>e.style.removeProperty(`--s-${t}`))),n=t}}};function In(e){E(e,"svelte-89qv9b",'.s-icon{color:var(--theme-icons-active);font-size:var(--s-icon-size);transform:rotate(var(--s-icon-rotate));line-height:1;letter-spacing:normal;text-transform:none;display:inline-flex;font-feature-settings:"liga";justify-content:center;position:relative;align-items:center;text-indent:0;vertical-align:middle;cursor:inherit;user-select:none;direction:ltr;transition:0.3s cubic-bezier(0.25, 0.8, 0.5, 1), visibility 0s}.s-icon.disabled{color:var(--theme-icons-inactive)}.s-icon.spin{animation:s-icon-spin 1s linear infinite}.s-icon>svg{fill:currentColor}@keyframes s-icon-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}')}function Cn(e){let t,n,r,i=e[10]&&Tn(e);return{c(){t=B("svg"),n=B("path"),i&&i.c(),z(n,"d",e[9]),z(t,"xmlns","http://www.w3.org/2000/svg"),z(t,"width",e[0]),z(t,"height",e[1]),z(t,"viewBox",r="0 0 "+e[4]+" "+e[5])},m(e,r){O(e,t,r),T(t,n),i&&i.m(n,null)},p(e,o){e[10]?i?i.p(e,o):(i=Tn(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null),512&o&&z(n,"d",e[9]),1&o&&z(t,"width",e[0]),2&o&&z(t,"height",e[1]),48&o&&r!==(r="0 0 "+e[4]+" "+e[5])&&z(t,"viewBox",r)},d(e){e&&N(t),i&&i.d()}}}function Tn(e){let t,n;return{c(){t=B("title"),n=L(e[10])},m(e,r){O(e,t,r),T(t,n)},p(e,t){1024&t&&q(n,e[10])},d(e){e&&N(t)}}}function En(e){let t,n,r,i,o,a,c,l=e[9]&&Cn(e);const u=e[13].default,d=p(u,e,e[12],null);return{c(){t=D("i"),l&&l.c(),n=j(),d&&d.c(),z(t,"aria-hidden","true"),z(t,"class",r="s-icon "+e[2]),z(t,"aria-label",e[10]),z(t,"aria-disabled",e[8]),z(t,"style",e[11]),J(t,"spin",e[7]),J(t,"disabled",e[8])},m(r,s){O(r,t,s),l&&l.m(t,null),T(t,n),d&&d.m(t,null),o=!0,a||(c=w(i=_n.call(null,t,{"icon-size":e[3],"icon-rotate":`${e[6]}deg`})),a=!0)},p(e,[a]){e[9]?l?l.p(e,a):(l=Cn(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),d&&d.p&&(!o||4096&a)&&g(d,u,e,e[12],o?m(u,e[12],a,null):v(e[12]),null),(!o||4&a&&r!==(r="s-icon "+e[2]))&&z(t,"class",r),(!o||1024&a)&&z(t,"aria-label",e[10]),(!o||256&a)&&z(t,"aria-disabled",e[8]),(!o||2048&a)&&z(t,"style",e[11]),i&&s(i.update)&&72&a&&i.update.call(null,{"icon-size":e[3],"icon-rotate":`${e[6]}deg`}),132&a&&J(t,"spin",e[7]),260&a&&J(t,"disabled",e[8])},i(e){o||(Se(d,e),o=!0)},o(e){Ae(d,e),o=!1},d(e){e&&N(t),l&&l.d(),d&&d.d(e),a=!1,c()}}}function Sn(e,t,n){let{$$slots:r={},$$scope:i}=t,{class:o=""}=t,{size:s="24px"}=t,{width:a=s}=t,{height:c=s}=t,{viewWidth:l="24"}=t,{viewHeight:u="24"}=t,{rotate:d=0}=t,{spin:h=!1}=t,{disabled:p=!1}=t,{path:f=null}=t,{label:m=null}=t,{style:g=null}=t;return e.$$set=e=>{"class"in e&&n(2,o=e.class),"size"in e&&n(3,s=e.size),"width"in e&&n(0,a=e.width),"height"in e&&n(1,c=e.height),"viewWidth"in e&&n(4,l=e.viewWidth),"viewHeight"in e&&n(5,u=e.viewHeight),"rotate"in e&&n(6,d=e.rotate),"spin"in e&&n(7,h=e.spin),"disabled"in e&&n(8,p=e.disabled),"path"in e&&n(9,f=e.path),"label"in e&&n(10,m=e.label),"style"in e&&n(11,g=e.style),"$$scope"in e&&n(12,i=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&(n(0,a=s),n(1,c=s))},[a,c,o,s,l,u,d,h,p,f,m,g,i,r]}class An extends qe{constructor(e){super(),Ue(this,e,Sn,En,a,{class:2,size:3,width:0,height:1,viewWidth:4,viewHeight:5,rotate:6,spin:7,disabled:8,path:9,label:10,style:11},In)}}let Rn=36,On="";for(;Rn--;)On+=Rn.toString(36);function Nn(e){const t=e-1;return t*t*t+1}function Pn(e){return--e*e*e*e*e+1}function Dn(e,{delay:n=0,duration:r=400,easing:i=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:i,css:e=>"opacity: "+e*o}}function Bn(e){var{fallback:t}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["fallback"]);const i=new Map,o=new Map;function a(e,i,o){return(a,c)=>(e.set(c.key,{rect:a.getBoundingClientRect()}),()=>{if(i.has(c.key)){const{rect:e}=i.get(c.key);return i.delete(c.key),function(e,t,i){const{delay:o=0,duration:a=(e=>30*Math.sqrt(e)),easing:c=Nn}=n(n({},r),i),l=t.getBoundingClientRect(),u=e.left-l.left,d=e.top-l.top,h=e.width/l.width,p=e.height/l.height,f=Math.sqrt(u*u+d*d),m=getComputedStyle(t),g="none"===m.transform?"":m.transform,v=+m.opacity;return{delay:o,duration:s(a)?a(f):a,easing:c,css:(e,t)=>`\n\t\t\t\topacity: ${e*v};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${g} translate(${t*u}px,${t*d}px) scale(${e+(1-e)*h}, ${e+(1-e)*p});\n\t\t\t`}}(e,a,c)}return e.delete(c.key),t&&t(a,c,o)})}return[a(o,i,!1),a(i,o,!0)]}var Ln="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",jn="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z";function Mn(e){E(e,"svelte-1sfh3m4",".header.svelte-1sfh3m4{display:flex;align-items:center;margin-left:8px}.title.svelte-1sfh3m4{margin-left:16px}.iconButton.svelte-1sfh3m4{cursor:pointer;background-color:transparent;border-radius:50px;color:white;margin-right:16px;margin-bottom:0;border:0 transparent}.headerDiv.svelte-1sfh3m4{width:100%;height:56px;min-height:56px;display:flex;justify-content:space-between;align-items:center}")}function Fn(e){let t,n;return{c(){t=D("img"),l(t.src,n=e[2])||z(t,"src",n),z(t,"alt","Imagem do atendente virtual"),z(t,"height","44px"),z(t,"width","44px"),H(t,"object-fit","cover"),H(t,"border-radius","16px"),H(t,"margin-right","8px")},m(e,n){O(e,t,n)},p(e,r){4&r&&!l(t.src,n=e[2])&&z(t,"src",n)},d(e){e&&N(t)}}}function zn(e){let t,n,r,i,o,s,a,c,l,u,d,h,p,f,m=(""!==e[0]?e[0]:"Fale Conosco")+"",g=""!==e[2]&&Fn(e);return u=new An({props:{path:e[1]?Ln:jn}}),{c(){t=D("div"),n=D("div"),g&&g.c(),r=j(),i=D("div"),o=L(m),a=j(),c=D("div"),l=D("button"),je(u.$$.fragment),z(n,"class",s=b(""===e[0]?"title":"header")+" svelte-1sfh3m4"),z(l,"class","iconButton svelte-1sfh3m4"),H(c,"display","flex"),H(c,"align-items","center"),z(t,"class",d=b([e[3],"headerDiv"].join(" "))+" svelte-1sfh3m4")},m(s,d){O(s,t,d),T(t,n),g&&g.m(n,null),T(n,r),T(n,i),T(i,o),T(t,a),T(t,c),T(c,l),Me(u,l,null),h=!0,p||(f=F(l,"click",e[7]),p=!0)},p(e,[i]){""!==e[2]?g?g.p(e,i):(g=Fn(e),g.c(),g.m(n,r)):g&&(g.d(1),g=null),(!h||1&i)&&m!==(m=(""!==e[0]?e[0]:"Fale Conosco")+"")&&q(o,m),(!h||1&i&&s!==(s=b(""===e[0]?"title":"header")+" svelte-1sfh3m4"))&&z(n,"class",s);const a={};2&i&&(a.path=e[1]?Ln:jn),u.$set(a),(!h||8&i&&d!==(d=b([e[3],"headerDiv"].join(" "))+" svelte-1sfh3m4"))&&z(t,"class",d)},i(e){h||(Se(u.$$.fragment,e),h=!0)},o(e){Ae(u.$$.fragment,e),h=!1},d(e){e&&N(t),g&&g.d(),Fe(u),p=!1,f()}}}function Un(e,t,n){let r,i;h(e,Ke,(e=>n(5,r=e))),h(e,wn,(e=>n(6,i=e)));let{title:o}=t,{isOpened:s}=t,{image:a}=t;const c=ae();function l(){c("open",{status:s?"close":"open"})}let u;return e.$$set=e=>{"title"in e&&n(0,o=e.title),"isOpened"in e&&n(1,s=e.isOpened),"image"in e&&n(2,a=e.image)},e.$$.update=()=>{96&e.$$.dirty&&n(3,u=yn`
    background-color: ${r.palette.primary.dark};
    color: ${r.headerTextColor};
    border-radius: ${i?0:r.shape.borderRadius}
      ${i?0:r.shape.borderRadius} 0 0;
  `)},[o,s,a,u,l,r,i,()=>l()]}class qn extends qe{constructor(e){super(),Ue(this,e,Un,zn,a,{title:0,isOpened:1,image:2},Mn)}}function Vn(e){E(e,"svelte-1hwjdnd",".bodyDiv.svelte-1hwjdnd{display:flex;flex-direction:column-reverse;flex-grow:1;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;transition:all 0.5s ease-in-out}.bodyDiv.svelte-1hwjdnd::-webkit-scrollbar{display:none}")}function Hn(e){let t,n,r;const i=e[3].default,o=p(i,e,e[2],null);return{c(){t=D("div"),o&&o.c(),z(t,"class",n=b([e[0].bodyDiv,"bodyDiv"].join(" "))+" svelte-1hwjdnd")},m(e,n){O(e,t,n),o&&o.m(t,null),r=!0},p(e,[s]){o&&o.p&&(!r||4&s)&&g(o,i,e,e[2],r?m(i,e[2],s,null):v(e[2]),null),(!r||1&s&&n!==(n=b([e[0].bodyDiv,"bodyDiv"].join(" "))+" svelte-1hwjdnd"))&&z(t,"class",n)},i(e){r||(Se(o,e),r=!0)},o(e){Ae(o,e),r=!1},d(e){e&&N(t),o&&o.d(e)}}}function Wn(e,t,n){let r;h(e,Ke,(e=>n(1,r=e)));let{$$slots:i={},$$scope:o}=t,s={};return e.$$set=e=>{"$$scope"in e&&n(2,o=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(0,s={bodyDiv:yn`background-color: ${r.palette.background.default};`})},[s,r,o,i]}class Kn extends qe{constructor(e){super(),Ue(this,e,Wn,Hn,a,{},Vn)}}function Gn(e){let t,n,r=`${e[1]} `;return{c(){t=D("a"),n=L(r),z(t,"target","_blank"),z(t,"class",e[5]),z(t,"rel","noreferrer"),z(t,"href",e[4])},m(e,r){O(e,t,r),T(t,n)},p(e,i){2&i&&r!==(r=`${e[1]} `)&&q(n,r),16&i&&z(t,"href",e[4])},d(e){e&&N(t)}}}function Jn(e){let t,n,r=`${e[1]} `;return{c(){t=D("a"),n=L(r),z(t,"target","_blank"),z(t,"class",e[5]),z(t,"rel","noreferrer"),z(t,"href",e[1])},m(e,r){O(e,t,r),T(t,n)},p(e,i){2&i&&r!==(r=`${e[1]} `)&&q(n,r),2&i&&z(t,"href",e[1])},d(e){e&&N(t)}}}function Xn(e){let t;function n(e,t){return e[2]||e[3]?Zn:Yn}let r=n(e),i=r(e);return{c(){i.c(),t=M()},m(e,n){i.m(e,n),O(e,t,n)},p(e,o){r===(r=n(e))&&i?i.p(e,o):(i.d(1),i=r(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&N(t)}}}function Yn(e){let t,n=`${e[1]} `;return{c(){t=L(n)},m(e,n){O(e,t,n)},p(e,r){2&r&&n!==(n=`${e[1]} `)&&q(t,n)},d(e){e&&N(t)}}}function Zn(e){let t,n,r=`${e[1]} `;return{c(){t=D("span"),n=L(r),z(t,"class",e[6])},m(e,r){O(e,t,r),T(t,n)},p(e,t){2&t&&r!==(r=`${e[1]} `)&&q(n,r)},d(e){e&&N(t)}}}function Qn(t){let n;function r(e,t){return"text"===e[0]?Xn:"link"===e[0]?Jn:"file"===e[0]?Gn:void 0}let i=r(t),o=i&&i(t);return{c(){o&&o.c(),n=M()},m(e,t){o&&o.m(e,t),O(e,n,t)},p(e,[t]){i===(i=r(e))&&o?o.p(e,t):(o&&o.d(1),o=i&&i(e),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(e){o&&o.d(e),e&&N(n)}}}function er(e,t,n){let{type:r}=t,{content:i}=t,{bold:o}=t,{italic:s}=t,{downloadLink:a}=t;const c=yn`text-decoration: underline; `,l=yn`font-weight: ${o?"bold":"unset"};
    font-style: ${s?"italic":"unset"};`;return e.$$set=e=>{"type"in e&&n(0,r=e.type),"content"in e&&n(1,i=e.content),"bold"in e&&n(2,o=e.bold),"italic"in e&&n(3,s=e.italic),"downloadLink"in e&&n(4,a=e.downloadLink)},[r,i,o,s,a,c,l]}class tr extends qe{constructor(e){super(),Ue(this,e,er,Qn,a,{type:0,content:1,bold:2,italic:3,downloadLink:4})}}function nr(e){const t={mp4:"video/mp4",ogv:"video/ogg",webm:"video/webm"},n=(e.match(/\.([^.]*?)(?=\?|#|$)/)||[])[1];if(n in t)return t[n]}async function rr(e){return new Promise(((t,n)=>{if(e){const n=new Image;n.addEventListener("load",(()=>{t(n)}),{once:!0}),n.addEventListener("error",(()=>{t()}),{once:!0}),n.src=e}else t()}))}function ir(e){E(e,"svelte-fde6bj",".poster.svelte-fde6bj{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}")}function or(t){let n,r;return{c(){n=D("img"),l(n.src,r=t[0])||z(n,"src",r),z(n,"class","poster svelte-fde6bj"),z(n,"alt","poster"),z(n,"onerror","this.style.display='none'")},m(e,t){O(e,n,t)},p(e,[t]){1&t&&!l(n.src,r=e[0])&&z(n,"src",r)},i:e,o:e,d(e){e&&N(n)}}}function sr(e,t,n){let{src:r}=t;return e.$$set=e=>{"src"in e&&n(0,r=e.src)},[r]}class ar extends qe{constructor(e){super(),Ue(this,e,sr,or,a,{src:0},ir)}}function cr(e){E(e,"svelte-h6eqmh",".overlay.svelte-h6eqmh{z-index:2147483647;position:absolute;width:100%;height:100%;top:0;left:0}")}function lr(e){let t,n;const r=e[1].default,i=p(r,e,e[0],null);return{c(){t=D("div"),i&&i.c(),z(t,"class","overlay svelte-h6eqmh")},m(e,r){O(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&g(i,r,e,e[0],n?m(r,e[0],t,null):v(e[0]),null)},i(e){n||(Se(i,e),n=!0)},o(e){Ae(i,e),n=!1},d(e){e&&N(t),i&&i.d(e)}}}function ur(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}class dr extends qe{constructor(e){super(),Ue(this,e,ur,lr,a,{},cr)}}function hr(e){E(e,"svelte-1na3hbp",".play-pause-icon.svelte-1na3hbp{position:absolute}")}function pr(t){let n,r,i,o,s,a,c,l,u;return{c(){n=D("div"),r=B("svg"),i=B("path"),a=B("path"),z(i,"visibility",o=t[2]?"hidden":"visible"),z(i,"d","M40 29v42M60 29v42"),z(i,"stroke",s=t[3].iconColor),z(i,"stroke-width","5"),z(a,"visibility",c=t[2]?"visible":"hidden"),z(a,"d","M40 29v42l26-21-26-21z"),z(a,"fill",l=t[1]?t[3].iconColor:"none"),z(a,"stroke",u=t[3].iconColor),z(a,"stroke-width","5"),z(r,"viewBox","0 0 100 100"),z(r,"width","100%"),z(r,"stroke-linecap","round"),z(r,"stroke-linejoin","round"),z(n,"class","play-pause-icon svelte-1na3hbp"),H(n,"width",t[0])},m(e,t){O(e,n,t),T(n,r),T(r,i),T(r,a)},p(e,[t]){4&t&&o!==(o=e[2]?"hidden":"visible")&&z(i,"visibility",o),8&t&&s!==(s=e[3].iconColor)&&z(i,"stroke",s),4&t&&c!==(c=e[2]?"visible":"hidden")&&z(a,"visibility",c),10&t&&l!==(l=e[1]?e[3].iconColor:"none")&&z(a,"fill",l),8&t&&u!==(u=e[3].iconColor)&&z(a,"stroke",u),1&t&&H(n,"width",e[0])},i:e,o:e,d(e){e&&N(n)}}}function fr(e,t,n){let r,{size:i="100%"}=t,{filled:o=!1}=t,{paused:s}=t;const a=ce("config");return h(e,a,(e=>n(3,r=e))),e.$$set=e=>{"size"in e&&n(0,i=e.size),"filled"in e&&n(1,o=e.filled),"paused"in e&&n(2,s=e.paused)},[i,o,s,r,a]}class mr extends qe{constructor(e){super(),Ue(this,e,fr,pr,a,{size:0,filled:1,paused:2},hr)}}function gr(e){E(e,"svelte-1yuiuyr",".player-icon.svelte-1yuiuyr{box-sizing:border-box;position:relative;width:100%;height:100%;border-style:none;border-radius:9999px;border-width:2px}")}function vr(e){let t,n,r,i;return n=new mr({props:{paused:!0}}),{c(){t=D("div"),je(n.$$.fragment),z(t,"class","player-icon svelte-1yuiuyr"),H(t,"background-color",e[1].color),H(t,"border-color",e[1].focusColor)},m(e,r){O(e,t,r),Me(n,t,null),i=!0},p(e,n){(!i||2&n)&&H(t,"background-color",e[1].color),(!i||2&n)&&H(t,"border-color",e[1].focusColor)},i(e){i||(Se(n.$$.fragment,e),ge((()=>{r||(r=Pe(t,Dn,{duration:500},!0)),r.run(1)})),i=!0)},o(e){Ae(n.$$.fragment,e),r||(r=Pe(t,Dn,{duration:500},!1)),r.run(0),i=!1},d(e){e&&N(t),Fe(n),e&&r&&r.end()}}}function br(e){let t,n,r=!e[0]&&vr(e);return{c(){r&&r.c(),t=M()},m(e,i){r&&r.m(e,i),O(e,t,i),n=!0},p(e,[n]){e[0]?r&&(Te(),Ae(r,1,1,(()=>{r=null})),Ee()):r?(r.p(e,n),1&n&&Se(r,1)):(r=vr(e),r.c(),Se(r,1),r.m(t.parentNode,t))},i(e){n||(Se(r),n=!0)},o(e){Ae(r),n=!1},d(e){r&&r.d(e),e&&N(t)}}}function yr(e,t,n){let r,{hidden:i}=t;const o=ce("config");return h(e,o,(e=>n(1,r=e))),e.$$set=e=>{"hidden"in e&&n(0,i=e.hidden)},[i,r,o]}class wr extends qe{constructor(e){super(),Ue(this,e,yr,br,a,{hidden:0},gr)}}function $r(e){E(e,"svelte-1q5dh4a",".spinner.svelte-1q5dh4a{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%)}.circle.svelte-1q5dh4a{box-sizing:border-box;position:absolute;height:100%;width:100%;border-width:2px;border-style:solid;border-radius:50%}.bg.svelte-1q5dh4a{opacity:0.25}.rotating.svelte-1q5dh4a{animation:1s linear 0s infinite normal none running svelte-1q5dh4a-rotate}@keyframes svelte-1q5dh4a-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}")}function kr(e){let t,n,r,i,o,s,a;return{c(){t=D("div"),n=D("div"),r=j(),i=D("div"),z(n,"class","circle bg svelte-1q5dh4a"),H(n,"border-color",e[1]),z(i,"class","circle rotating svelte-1q5dh4a"),H(i,"border-color",e[1]+" "+e[1]+" transparent transparent"),z(t,"class","spinner svelte-1q5dh4a"),H(t,"width",e[0]),H(t,"height",e[0])},m(e,o){O(e,t,o),T(t,n),T(t,r),T(t,i),a=!0},p(e,r){(!a||2&r)&&H(n,"border-color",e[1]),(!a||2&r)&&H(i,"border-color",e[1]+" "+e[1]+" transparent transparent"),(!a||1&r)&&H(t,"width",e[0]),(!a||1&r)&&H(t,"height",e[0])},i(e){a||(ge((()=>{s&&s.end(1),o=Oe(t,Dn,{delay:500,duration:500}),o.start()})),a=!0)},o(e){o&&o.invalidate(),s=Ne(t,Dn,{duration:100}),a=!1},d(e){e&&N(t),e&&s&&s.end()}}}function xr(e){let t,n,r=!e[2]&&kr(e);return{c(){r&&r.c(),t=M()},m(e,i){r&&r.m(e,i),O(e,t,i),n=!0},p(e,[n]){e[2]?r&&(Te(),Ae(r,1,1,(()=>{r=null})),Ee()):r?(r.p(e,n),4&n&&Se(r,1)):(r=kr(e),r.c(),Se(r,1),r.m(t.parentNode,t))},i(e){n||(Se(r),n=!0)},o(e){Ae(r),n=!1},d(e){r&&r.d(e),e&&N(t)}}}function _r(e,t,n){let{size:r="60px"}=t,{color:i="#FFF"}=t,{hidden:o=!1}=t;return e.$$set=e=>{"size"in e&&n(0,r=e.size),"color"in e&&n(1,i=e.color),"hidden"in e&&n(2,o=e.hidden)},[r,i,o]}class Ir extends qe{constructor(e){super(),Ue(this,e,_r,xr,a,{size:0,color:1,hidden:2},$r)}}function Cr(e){E(e,"svelte-1s6qb6f",".center-icons.svelte-1s6qb6f{position:absolute;width:100%;height:100%;left:50%;top:50%;transform:translate(-50%, -50%)}")}function Tr(e){let t,n,r,i,o,s;return n=new wr({props:{hidden:!e[2]}}),i=new Ir({props:{hidden:!e[1],color:e[0]?e[4].color:e[4].iconColor,size:e[3]+10+"px"}}),{c(){t=D("div"),je(n.$$.fragment),r=j(),je(i.$$.fragment),z(t,"class","center-icons svelte-1s6qb6f"),H(t,"width",e[4].centerIconSize),H(t,"height",e[4].centerIconSize),ge((()=>e[6].call(t)))},m(a,c){O(a,t,c),Me(n,t,null),T(t,r),Me(i,t,null),o=G(t,e[6].bind(t)),s=!0},p(e,[r]){const o={};4&r&&(o.hidden=!e[2]),n.$set(o);const a={};2&r&&(a.hidden=!e[1]),17&r&&(a.color=e[0]?e[4].color:e[4].iconColor),8&r&&(a.size=e[3]+10+"px"),i.$set(a),(!s||16&r)&&H(t,"width",e[4].centerIconSize),(!s||16&r)&&H(t,"height",e[4].centerIconSize)},i(e){s||(Se(n.$$.fragment,e),Se(i.$$.fragment,e),s=!0)},o(e){Ae(n.$$.fragment,e),Ae(i.$$.fragment,e),s=!1},d(e){e&&N(t),Fe(n),Fe(i),o()}}}function Er(e,t,n){let r,i,{isBuffering:o}=t,{isSpinnerVisible:s}=t,{isIconVisible:a}=t;const c=ce("config");return h(e,c,(e=>n(4,r=e))),e.$$set=e=>{"isBuffering"in e&&n(0,o=e.isBuffering),"isSpinnerVisible"in e&&n(1,s=e.isSpinnerVisible),"isIconVisible"in e&&n(2,a=e.isIconVisible)},[o,s,a,i,r,c,function(){i=this.offsetWidth,n(3,i)}]}class Sr extends qe{constructor(e){super(),Ue(this,e,Er,Tr,a,{isBuffering:0,isSpinnerVisible:1,isIconVisible:2},Cr)}}function Ar(e){E(e,"svelte-do64tg",".controls.svelte-do64tg{position:relative;box-sizing:border-box;min-height:40px;max-height:150px;top:100%;transform:translateY(-100%);padding:10px;display:flex;gap:6px;visibility:visible;transition:transform 0.5s ease, visibility 0.5s linear}.hidden.svelte-do64tg{visibility:hidden;transform:translateY(100%)}")}function Rr(e){let t,n,r,i;const s=e[9].default,a=p(s,e,e[8],null);return{c(){t=D("div"),a&&a.c(),z(t,"class","controls svelte-do64tg"),H(t,"height",e[2].controlsHeight),H(t,"background","linear-gradient(rgba(0,0,0,0), rgba(0,0,0,.2) 80%)"),J(t,"hidden",e[0])},m(o,s){O(o,t,s),a&&a.m(t,null),n=!0,r||(i=[F(window,"pointermove",e[10]),F(window,"keydown",e[11]),F(t,"pointerover",e[4]),F(t,"pointerout",e[5]),F(t,"transitionend",e[6])],r=!0)},p(e,[r]){a&&a.p&&(!n||256&r)&&g(a,s,e,e[8],n?m(s,e[8],r,null):v(e[8]),null),(!n||4&r)&&H(t,"height",e[2].controlsHeight),1&r&&J(t,"hidden",e[0])},i(e){n||(Se(a,e),n=!0)},o(e){Ae(a,e),n=!1},d(e){e&&N(t),a&&a.d(e),r=!1,o(i)}}}function Or(e,t,n){let r,{$$slots:i={},$$scope:o}=t,{hidden:s}=t,{isPointerOver:a}=t;const c=ce("config");let l,u;h(e,c,(e=>n(2,r=e)));return e.$$set=e=>{"hidden"in e&&n(0,s=e.hidden),"isPointerOver"in e&&n(7,a=e.isPointerOver),"$$scope"in e&&n(8,o=e.$$scope)},[s,u,r,c,function(e){n(7,a=!0)},function(e){n(7,a=!1)},function(e){"visibility"==e.propertyName&&(!s&&u?l.focus({preventScroll:!0}):l=document.activeElement)},a,o,i,()=>n(1,u=!1),e=>n(1,u="Tab"===e.code)]}class Nr extends qe{constructor(e){super(),Ue(this,e,Or,Rr,a,{hidden:0,isPointerOver:7},Ar)}}function Pr(e,t,n){var r=!1,i=!1;return function(){i=n&&!r;var o=this,s=arguments;if(r||(r=!0,setTimeout((function(){if(r=!1,!n)return e.apply(o,s)}),t)),i)return i=!1,e.apply(this,arguments)}}function Dr(e){E(e,"svelte-1539bnd",".bar.svelte-1539bnd{position:absolute;top:0;width:100%;height:100%;transform-origin:0 0;border-style:solid;border-width:1px}")}function Br(t){let n;return{c(){n=D("div"),z(n,"class","bar svelte-1539bnd"),H(n,"background-color",t[0]),H(n,"border-color",t[0]),H(n,"opacity",t[1]),H(n,"transform","scaleX("+t[2]+")")},m(e,t){O(e,n,t)},p(e,[t]){1&t&&H(n,"background-color",e[0]),1&t&&H(n,"border-color",e[0]),2&t&&H(n,"opacity",e[1]),4&t&&H(n,"transform","scaleX("+e[2]+")")},i:e,o:e,d(e){e&&N(n)}}}function Lr(e,t,n){let{color:r="white"}=t,{opacity:i=1}=t,{value:o=0}=t;return e.$$set=e=>{"color"in e&&n(0,r=e.color),"opacity"in e&&n(1,i=e.opacity),"value"in e&&n(2,o=e.value)},[r,i,o]}class jr extends qe{constructor(e){super(),Ue(this,e,Lr,Br,a,{color:0,opacity:1,value:2},Dr)}}function Mr(e){E(e,"svelte-mhutnt",".chunk-bar.svelte-mhutnt{position:absolute;width:100%;height:100%}.chunk.svelte-mhutnt{position:absolute;width:100%;height:100%;transform-origin:0 0}")}function Fr(e,t,n){const r=e.slice();return r[3]=t[n],r}function zr(e){let t;return{c(){t=D("div"),z(t,"class","chunk svelte-mhutnt"),H(t,"background-color",e[0]),H(t,"opacity",e[1]),H(t,"transform","translateX("+100*e[3].start+"%) scaleX("+(e[3].end-e[3].start)+")")},m(e,n){O(e,t,n)},p(e,n){1&n&&H(t,"background-color",e[0]),2&n&&H(t,"opacity",e[1]),4&n&&H(t,"transform","translateX("+100*e[3].start+"%) scaleX("+(e[3].end-e[3].start)+")")},d(e){e&&N(t)}}}function Ur(t){let n,r=t[2],i=[];for(let e=0;e<r.length;e+=1)i[e]=zr(Fr(t,r,e));return{c(){n=D("div");for(let e=0;e<i.length;e+=1)i[e].c();z(n,"class","chunk-bar svelte-mhutnt")},m(e,t){O(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(7&t){let o;for(r=e[2],o=0;o<r.length;o+=1){const s=Fr(e,r,o);i[o]?i[o].p(s,t):(i[o]=zr(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){e&&N(n),P(i,e)}}}function qr(e,t,n){let{color:r="white"}=t,{opacity:i=1}=t,{ranges:o=[]}=t;return e.$$set=e=>{"color"in e&&n(0,r=e.color),"opacity"in e&&n(1,i=e.opacity),"ranges"in e&&n(2,o=e.ranges)},[r,i,o]}class Vr extends qe{constructor(e){super(),Ue(this,e,qr,Ur,a,{color:0,opacity:1,ranges:2},Mr)}}function Hr(e){E(e,"svelte-kj06qu",".thumb-wrapper.svelte-kj06qu{position:absolute;width:100%;height:100%;top:0;pointer-events:none}.thumb.svelte-kj06qu{position:relative;border-style:none;border-radius:50%;border-width:2px;top:50%;transform:translate(-50%, -50%)}.active.svelte-kj06qu{border-style:solid}")}function Wr(t){let n,r;return{c(){n=D("div"),r=D("div"),z(r,"class","thumb svelte-kj06qu"),H(r,"width",t[2].thumbSize),H(r,"height",t[2].thumbSize),H(r,"background-color",t[2].color),H(r,"border-color",t[2].color),J(r,"active",t[0]),z(n,"class","thumb-wrapper svelte-kj06qu"),H(n,"transform","translateX("+t[1]+"%)")},m(e,t){O(e,n,t),T(n,r)},p(e,[t]){4&t&&H(r,"width",e[2].thumbSize),4&t&&H(r,"height",e[2].thumbSize),4&t&&H(r,"background-color",e[2].color),4&t&&H(r,"border-color",e[2].color),1&t&&J(r,"active",e[0]),2&t&&H(n,"transform","translateX("+e[1]+"%)")},i:e,o:e,d(e){e&&N(n)}}}function Kr(e,t,n){let r,i,{positionValue:o=0}=t,{active:s=!1}=t;const a=ce("config");return h(e,a,(e=>n(2,i=e))),e.$$set=e=>{"positionValue"in e&&n(4,o=e.positionValue),"active"in e&&n(0,s=e.active)},e.$$.update=()=>{16&e.$$.dirty&&n(1,r=100*o)},[s,r,i,a,o]}class Gr extends qe{constructor(e){super(),Ue(this,e,Kr,Wr,a,{positionValue:4,active:0},Hr)}}function Jr(e){E(e,"svelte-wdgqi3",".playbar.svelte-wdgqi3.svelte-wdgqi3{position:relative;min-width:50px;height:100%;flex-grow:4;cursor:pointer;outline:none;touch-action:none}.playbar.svelte-wdgqi3:focus .bars.svelte-wdgqi3{outline-style:dotted}.bars.svelte-wdgqi3.svelte-wdgqi3{position:relative;width:100%;top:50%;transform:translateY(-50%);border-radius:9999px;overflow:hidden;outline-offset:3px;outline-width:2px;outline-style:none}.chunkbars.svelte-wdgqi3.svelte-wdgqi3{position:absolute;width:100%;height:30%}")}function Xr(e){let t,n,r,i,o;return n=new Vr({props:{color:e[1].bufferedColor,opacity:1,ranges:e[4]}}),i=new Vr({props:{color:e[1].color,opacity:1,ranges:e[5]}}),{c(){t=D("div"),je(n.$$.fragment),r=j(),je(i.$$.fragment),z(t,"class","chunkbars svelte-wdgqi3")},m(e,s){O(e,t,s),Me(n,t,null),T(t,r),Me(i,t,null),o=!0},p(e,t){const r={};2&t&&(r.color=e[1].bufferedColor),16&t&&(r.ranges=e[4]),n.$set(r);const o={};2&t&&(o.color=e[1].color),32&t&&(o.ranges=e[5]),i.$set(o)},i(e){o||(Se(n.$$.fragment,e),Se(i.$$.fragment,e),o=!0)},o(e){Ae(n.$$.fragment,e),Ae(i.$$.fragment,e),o=!1},d(e){e&&N(t),Fe(n),Fe(i)}}}function Yr(e){let t,n,r,i,s,a,c,l,u,d,h;r=new jr({props:{color:e[1].barsBgColor,opacity:1,value:1}}),s=new jr({props:{color:e[1].color,value:e[6]}});let p=e[1].chunkBars&&Xr(e);return l=new Gr({props:{positionValue:e[6],active:e[3]}}),{c(){t=D("div"),n=D("div"),je(r.$$.fragment),i=j(),je(s.$$.fragment),a=j(),p&&p.c(),c=j(),je(l.$$.fragment),z(n,"class","bars svelte-wdgqi3"),H(n,"height",e[1].trackHeight),H(n,"outline-color",e[1].focusColor),z(t,"class","playbar svelte-wdgqi3"),z(t,"tabindex","0"),H(t,"margin","0 "+e[0])},m(o,f){O(o,t,f),T(t,n),Me(r,n,null),T(n,i),Me(s,n,null),T(n,a),p&&p.m(n,null),T(t,c),Me(l,t,null),e[18](t),u=!0,d||(h=[F(window,"pointermove",e[9]),F(window,"pointerup",e[10]),F(t,"pointerdown",e[8])],d=!0)},p(e,[i]){const o={};2&i&&(o.color=e[1].barsBgColor),r.$set(o);const a={};2&i&&(a.color=e[1].color),64&i&&(a.value=e[6]),s.$set(a),e[1].chunkBars?p?(p.p(e,i),2&i&&Se(p,1)):(p=Xr(e),p.c(),Se(p,1),p.m(n,null)):p&&(Te(),Ae(p,1,1,(()=>{p=null})),Ee()),(!u||2&i)&&H(n,"height",e[1].trackHeight),(!u||2&i)&&H(n,"outline-color",e[1].focusColor);const c={};64&i&&(c.positionValue=e[6]),8&i&&(c.active=e[3]),l.$set(c),(!u||1&i)&&H(t,"margin","0 "+e[0])},i(e){u||(Se(r.$$.fragment,e),Se(s.$$.fragment,e),Se(p),Se(l.$$.fragment,e),u=!0)},o(e){Ae(r.$$.fragment,e),Ae(s.$$.fragment,e),Ae(p),Ae(l.$$.fragment,e),u=!1},d(n){n&&N(t),Fe(r),Fe(s),p&&p.d(),Fe(l),e[18](null),d=!1,o(h)}}}function Zr(e,t,n){let r,{isBottomControlsVisible:i}=t,{marginX:o="10px"}=t,{currentTime:s=0}=t,{duration:a=0}=t,{buffered:c=[]}=t,{played:l=[]}=t,{paused:u}=t,{isScrubbing:d}=t;const p=ae(),f=ce("config");let m,g,v,b,y,w,$;h(e,f,(e=>n(1,r=e)));const k=Pr((e=>{n(6,$=e/a)}),250,!0),x=Pr((e=>{n(4,y=c.map((e=>({start:e.start/a,end:e.end/a})))),n(5,w=l.map((e=>({start:e.start/a,end:e.end/a}))))}),250,!0);function _(e){const t=Math.min(Math.max(e-v.x,0),v.width)/v.width;n(11,s=a*t)}return e.$$set=e=>{"isBottomControlsVisible"in e&&n(14,i=e.isBottomControlsVisible),"marginX"in e&&n(0,o=e.marginX),"currentTime"in e&&n(11,s=e.currentTime),"duration"in e&&n(15,a=e.duration),"buffered"in e&&n(16,c=e.buffered),"played"in e&&n(17,l=e.played),"paused"in e&&n(13,u=e.paused),"isScrubbing"in e&&n(12,d=e.isScrubbing)},e.$$.update=()=>{18434&e.$$.dirty&&i&&r.chunkBars&&x(s),22528&e.$$.dirty&&i&&(d?n(6,$=s/a):k(s))},[o,r,m,g,y,w,$,f,function(e){e.preventDefault(),n(3,g=!0),b=u,n(13,u=!0),v=m.getBoundingClientRect(),_(e.clientX)},function(e){g&&(n(12,d=!0),_(e.clientX))},function(e){g&&(n(13,u=b),n(3,g=!1),n(12,d=!1),p("pointerup"))},s,d,u,i,a,c,l,function(e){de[e?"unshift":"push"]((()=>{m=e,n(2,m)}))}]}class Qr extends qe{constructor(e){super(),Ue(this,e,Zr,Yr,a,{isBottomControlsVisible:14,marginX:0,currentTime:11,duration:15,buffered:16,played:17,paused:13,isScrubbing:12},Jr)}}function ei(e){E(e,"svelte-ievgfv",".button.svelte-ievgfv{box-sizing:border-box;position:relative;height:100%;border-style:none;border-radius:10px;border-width:2px;outline:none;cursor:pointer}@media(hover: hover) and (pointer: fine){.button.svelte-ievgfv:focus{border-style:solid}}")}function ti(e){let t,n,r,i,s;const a=e[7].default,c=p(a,e,e[6],null);return{c(){t=D("div"),c&&c.c(),z(t,"class","button svelte-ievgfv"),H(t,"width",e[1]+"px"),H(t,"min-width",e[1]+"px"),H(t,"background-color",e[2].color),H(t,"border-color",e[2].focusColor),H(t,"border-radius",e[0]?"9999px":"10px"),z(t,"tabindex","0"),ge((()=>e[8].call(t)))},m(o,a){O(o,t,a),c&&c.m(t,null),n=G(t,e[8].bind(t)),r=!0,i||(s=[F(t,"pointerdown",ni),F(t,"pointerup",e[4]),F(t,"keydown",e[5])],i=!0)},p(e,[n]){c&&c.p&&(!r||64&n)&&g(c,a,e,e[6],r?m(a,e[6],n,null):v(e[6]),null),(!r||2&n)&&H(t,"width",e[1]+"px"),(!r||2&n)&&H(t,"min-width",e[1]+"px"),(!r||4&n)&&H(t,"background-color",e[2].color),(!r||4&n)&&H(t,"border-color",e[2].focusColor),(!r||1&n)&&H(t,"border-radius",e[0]?"9999px":"10px")},i(e){r||(Se(c,e),r=!0)},o(e){Ae(c,e),r=!1},d(e){e&&N(t),c&&c.d(e),n(),i=!1,o(s)}}}function ni(e){e.preventDefault()}function ri(e,t,n){let r,{$$slots:i={},$$scope:o}=t,{round:s=!1}=t;const a=ae(),c=ce("config");let l;return h(e,c,(e=>n(2,r=e))),e.$$set=e=>{"round"in e&&n(0,s=e.round),"$$scope"in e&&n(6,o=e.$$scope)},[s,l,r,c,function(e){a("pointerup")},function(e){switch(e.code){case"Enter":case"NumpadEnter":case"Space":e.preventDefault(),e.stopPropagation(),a("pointerup")}},o,i,function(){l=this.offsetHeight,n(1,l)}]}class ii extends qe{constructor(e){super(),Ue(this,e,ri,ti,a,{round:0},ei)}}function oi(e){let t,n;return t=new mr({props:{paused:e[0]}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.paused=e[0]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function si(e){let t,n;return t=new ii({props:{$$slots:{default:[oi]},$$scope:{ctx:e}}}),t.$on("pointerup",e[1]),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function ai(e,t,n){let{paused:r}=t;return e.$$set=e=>{"paused"in e&&n(0,r=e.paused)},[r,function(t){le.call(this,e,t)}]}class ci extends qe{constructor(e){super(),Ue(this,e,ai,si,a,{paused:0})}}function li(e){E(e,"svelte-rnfp7y",".volume-icon.svelte-rnfp7y{position:absolute}")}function ui(t){let n,r,i,o,s,a,c,l,u,d,h,p,f,m;return{c(){n=D("div"),r=B("svg"),i=B("g"),o=B("path"),a=B("g"),c=B("path"),l=B("path"),d=B("g"),h=B("path"),p=B("path"),z(o,"fill",s=t[1]?t[3].iconColor:"none"),z(o,"d","M33.913 38.955l14.58-11.046v44.918l-14.58-11.045H22.154V38.955h11.759z"),z(c,"d","M68.27 31.776c10.039 10.058 10.039 26.39 0 36.448"),z(l,"d","M61.062 38.986c6.067 6.079 6.067 15.949 0 22.028"),z(a,"visibility",u=t[2]?"hidden":"visible"),z(h,"d","M59.644 41.173l17.621 17.658"),z(p,"d","M77.265 41.173L59.644 58.831"),z(d,"visibility",f=t[2]?"visible":"hidden"),z(i,"fill","none"),z(i,"stroke",m=t[3].iconColor),z(i,"stroke-width","5"),z(r,"viewBox","0 0 100 100"),z(r,"stroke-linecap","round"),z(r,"stroke-linejoin","round"),z(n,"class","volume-icon svelte-rnfp7y"),H(n,"width",t[0])},m(e,t){O(e,n,t),T(n,r),T(r,i),T(i,o),T(i,a),T(a,c),T(a,l),T(i,d),T(d,h),T(d,p)},p(e,[t]){10&t&&s!==(s=e[1]?e[3].iconColor:"none")&&z(o,"fill",s),4&t&&u!==(u=e[2]?"hidden":"visible")&&z(a,"visibility",u),4&t&&f!==(f=e[2]?"visible":"hidden")&&z(d,"visibility",f),8&t&&m!==(m=e[3].iconColor)&&z(i,"stroke",m),1&t&&H(n,"width",e[0])},i:e,o:e,d(e){e&&N(n)}}}function di(e,t,n){let r,{size:i="100%"}=t,{filled:o=!0}=t,{muted:s}=t;const a=ce("config");return h(e,a,(e=>n(3,r=e))),e.$$set=e=>{"size"in e&&n(0,i=e.size),"filled"in e&&n(1,o=e.filled),"muted"in e&&n(2,s=e.muted)},[i,o,s,r,a]}class hi extends qe{constructor(e){super(),Ue(this,e,di,ui,a,{size:0,filled:1,muted:2},li)}}function pi(e){let t,n;return t=new hi({props:{muted:e[0]}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.muted=e[0]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function fi(e){let t,n;return t=new ii({props:{$$slots:{default:[pi]},$$scope:{ctx:e}}}),t.$on("pointerup",e[1]),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function mi(e,t,n){let{muted:r}=t;return e.$$set=e=>{"muted"in e&&n(0,r=e.muted)},[r,function(t){le.call(this,e,t)}]}class gi extends qe{constructor(e){super(),Ue(this,e,mi,fi,a,{muted:0})}}function vi(e){E(e,"svelte-1qqqte2",".slider.svelte-1qqqte2.svelte-1qqqte2{position:relative;flex-grow:1;min-width:25px;height:100%;outline:none}.slider.svelte-1qqqte2:focus .bars.svelte-1qqqte2{outline-style:dotted}.bars.svelte-1qqqte2.svelte-1qqqte2{position:relative;width:100%;top:50%;transform:translateY(-50%);outline-offset:3px;outline-width:2px;outline-style:none;border-radius:9999px;overflow:hidden}")}function bi(e){let t,n,r,i,s,a,c,l,u,d;return r=new jr({props:{color:e[5].barsBgColor,opacity:1,value:1}}),s=new jr({props:{color:e[5].color,opacity:1,value:e[0]}}),c=new Gr({props:{positionValue:e[0],active:e[4]}}),{c(){t=D("div"),n=D("div"),je(r.$$.fragment),i=j(),je(s.$$.fragment),a=j(),je(c.$$.fragment),z(n,"class","bars svelte-1qqqte2"),H(n,"height",e[5].trackHeight),H(n,"outline-color",e[5].focusColor),z(t,"class","slider svelte-1qqqte2"),H(t,"max-width",e[1]),H(t,"margin","0 "+e[2]),z(t,"tabindex","0")},m(o,h){O(o,t,h),T(t,n),Me(r,n,null),T(n,i),Me(s,n,null),T(t,a),Me(c,t,null),e[11](t),l=!0,u||(d=[F(window,"pointermove",e[8]),F(window,"pointerup",e[9]),F(t,"pointerdown",e[7]),F(t,"keydown",e[10])],u=!0)},p(e,[i]){const o={};32&i&&(o.color=e[5].barsBgColor),r.$set(o);const a={};32&i&&(a.color=e[5].color),1&i&&(a.value=e[0]),s.$set(a),(!l||32&i)&&H(n,"height",e[5].trackHeight),(!l||32&i)&&H(n,"outline-color",e[5].focusColor);const u={};1&i&&(u.positionValue=e[0]),16&i&&(u.active=e[4]),c.$set(u),(!l||2&i)&&H(t,"max-width",e[1]),(!l||4&i)&&H(t,"margin","0 "+e[2])},i(e){l||(Se(r.$$.fragment,e),Se(s.$$.fragment,e),Se(c.$$.fragment,e),l=!0)},o(e){Ae(r.$$.fragment,e),Ae(s.$$.fragment,e),Ae(c.$$.fragment,e),l=!1},d(n){n&&N(t),Fe(r),Fe(s),Fe(c),e[11](null),u=!1,o(d)}}}function yi(e,t,n){let r,i,o,s,{width:a="150px"}=t,{marginX:c="10px"}=t,{value:l=.5}=t;const u=ce("config");function d(e,t){e.preventDefault(),e.stopPropagation(),n(0,l=Math.min(Math.max(l+t,0),1))}function p(e){n(0,l=Math.min(Math.max(e-s.x,0),s.width)/s.width)}return h(e,u,(e=>n(5,r=e))),e.$$set=e=>{"width"in e&&n(1,a=e.width),"marginX"in e&&n(2,c=e.marginX),"value"in e&&n(0,l=e.value)},[l,a,c,i,o,r,u,function(e){e.preventDefault(),n(4,o=!0),s=i.getBoundingClientRect(),p(e.clientX)},function(e){o&&p(e.clientX)},function(e){o&&n(4,o=!1)},function(e){switch(e.code){case"ArrowLeft":case"ArrowDown":d(e,-.1);break;case"ArrowRight":case"ArrowUp":d(e,.1)}},function(e){de[e?"unshift":"push"]((()=>{i=e,n(3,i)}))}]}class wi extends qe{constructor(e){super(),Ue(this,e,yi,bi,a,{width:1,marginX:2,value:0},vi)}}function $i(e){let t,n,r;function i(t){e[2](t)}let o={width:e[1]};return void 0!==e[0]&&(o.value=e[0]),t=new wi({props:o}),de.push((()=>Le(t,"value",i))),{c(){je(t.$$.fragment)},m(e,n){Me(t,e,n),r=!0},p(e,[r]){const i={};2&r&&(i.width=e[1]),!n&&1&r&&(n=!0,i.value=e[0],ve((()=>n=!1))),t.$set(i)},i(e){r||(Se(t.$$.fragment,e),r=!0)},o(e){Ae(t.$$.fragment,e),r=!1},d(e){Fe(t,e)}}}function ki(e,t,n){let{width:r="100px"}=t,{volume:i=1}=t;return e.$$set=e=>{"width"in e&&n(1,r=e.width),"volume"in e&&n(0,i=e.volume)},[i,r,function(e){i=e,n(0,i)}]}class xi extends qe{constructor(e){super(),Ue(this,e,ki,$i,a,{width:1,volume:0})}}function _i(e){E(e,"svelte-15g0vgp",".fullscreen-icon.svelte-15g0vgp{position:absolute}")}function Ii(t){let n,r,i,o,s,a,c,l,u,d,h,p,f,m,g,v;return{c(){n=D("div"),r=B("svg"),i=B("g"),o=B("g"),s=B("path"),a=B("path"),c=B("path"),l=B("path"),d=B("g"),h=B("path"),p=B("path"),f=B("path"),m=B("path"),z(s,"d","M71 60.5V71H60"),z(a,"d","M40 71H29V60.5"),z(c,"d","M29 40.5V29h11"),z(l,"d","M60 29h11v11.5"),z(o,"visibility",u=t[1]?"hidden":"visible"),z(h,"d","M60 71V60.5h11"),z(p,"d","M29 60.5h11V71"),z(f,"d","M40 29v11.5H29"),z(m,"d","M71 40.5H60V29"),z(d,"visibility",g=t[1]?"visible":"hidden"),z(i,"fill","none"),z(i,"stroke",v=t[2].iconColor),z(i,"stroke-width","5"),z(r,"viewBox","0 0 100 100"),z(r,"stroke-linecap","round"),z(r,"stroke-linejoin","round"),z(n,"class","fullscreen-icon svelte-15g0vgp"),H(n,"width",t[0])},m(e,t){O(e,n,t),T(n,r),T(r,i),T(i,o),T(o,s),T(o,a),T(o,c),T(o,l),T(i,d),T(d,h),T(d,p),T(d,f),T(d,m)},p(e,[t]){2&t&&u!==(u=e[1]?"hidden":"visible")&&z(o,"visibility",u),2&t&&g!==(g=e[1]?"visible":"hidden")&&z(d,"visibility",g),4&t&&v!==(v=e[2].iconColor)&&z(i,"stroke",v),1&t&&H(n,"width",e[0])},i:e,o:e,d(e){e&&N(n)}}}function Ci(e,t,n){let r,{size:i="100%"}=t,{isFullscreen:o}=t;const s=ce("config");return h(e,s,(e=>n(2,r=e))),e.$$set=e=>{"size"in e&&n(0,i=e.size),"isFullscreen"in e&&n(1,o=e.isFullscreen)},[i,o,r,s]}class Ti extends qe{constructor(e){super(),Ue(this,e,Ci,Ii,a,{size:0,isFullscreen:1},_i)}}function Ei(e){let t,n;return t=new Ti({props:{isFullscreen:e[0]}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.isFullscreen=e[0]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Si(e){let t,n;return t=new ii({props:{$$slots:{default:[Ei]},$$scope:{ctx:e}}}),t.$on("pointerup",e[1]),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Ai(e,t,n){let{isFullscreen:r}=t;return e.$$set=e=>{"isFullscreen"in e&&n(0,r=e.isFullscreen)},[r,function(t){le.call(this,e,t)}]}class Ri extends qe{constructor(e){super(),Ue(this,e,Ai,Si,a,{isFullscreen:0})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Oi,Ni={exports:{}};function Pi(e,t,n){let{element:r}=t,{isFullscreen:i}=t,{isFullscreenEnabled:o}=t;function s(e){r==e.target&&n(0,i=Ni.exports.isFullscreen)}return o=Ni.exports.isEnabled,o&&Ni.exports.on("change",s),se((()=>{Ni.exports.off("change",s)})),e.$$set=e=>{"element"in e&&n(2,r=e.element),"isFullscreen"in e&&n(0,i=e.isFullscreen),"isFullscreenEnabled"in e&&n(1,o=e.isFullscreenEnabled)},e.$$.update=()=>{7&e.$$.dirty&&o&&(i?Ni.exports.request(r):Ni.exports.exit())},[i,o,r]}Oi=Ni,function(){var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},t=Oi.exports,n=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((t=n[r])&&t[1]in e){for(r=0;r<t.length;r++)o[n[0][r]]=t[r];return o}return!1}(),r={change:n.fullscreenchange,error:n.fullscreenerror},i={request(t,r){return new Promise(function(i,o){var s=function(){this.off("change",s),i()}.bind(this);this.on("change",s);var a=(t=t||e.documentElement)[n.requestFullscreen](r);a instanceof Promise&&a.then(s).catch(o)}.bind(this))},exit(){return new Promise(function(t,r){if(this.isFullscreen){var i=function(){this.off("change",i),t()}.bind(this);this.on("change",i);var o=e[n.exitFullscreen]();o instanceof Promise&&o.then(i).catch(r)}else t()}.bind(this))},toggle(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange(e){this.on("change",e)},onerror(e){this.on("error",e)},on(t,n){var i=r[t];i&&e.addEventListener(i,n,!1)},off(t,n){var i=r[t];i&&e.removeEventListener(i,n,!1)},raw:n};n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),t?Oi.exports=i:window.screenfull=i):t?Oi.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}();class Di extends qe{constructor(e){super(),Ue(this,e,Pi,null,a,{element:2,isFullscreen:0,isFullscreenEnabled:1})}}function Bi(e,t,n){var r;return function(){if(!t)return e.apply(this,arguments);var i=this,o=arguments,s=n&&!r;return clearTimeout(r),r=setTimeout((function(){if(r=null,!s)return e.apply(i,o)}),t),s?e.apply(this,arguments):void 0}}function Li(t){let n,r;return{c:e,m(e,i){n||(r=[F(window,"pointermove",t[0]),F(window,"keydown",t[0])],n=!0)},p:e,i:e,o:e,d(e){n=!1,o(r)}}}function ji(e,t,n){let r,{isIdle:i=!1}=t;const o=Bi((()=>{clearTimeout(r),r=setTimeout((()=>{n(1,i=!0)}),2e3)}),250,!0);return se((()=>{clearTimeout(r)})),e.$$set=e=>{"isIdle"in e&&n(1,i=e.isIdle)},[function(e){n(1,i=!1),o()},i]}class Mi extends qe{constructor(e){super(),Ue(this,e,ji,Li,a,{isIdle:1})}}function Fi(t){let n,r;return{c:e,m(e,i){n||(r=F(window,"scroll",t[0]),n=!0)},p:e,i:e,o:e,d(e){n=!1,r()}}}function zi(e,t,n){let r,{isScrolling:i=!1}=t;const o=Bi((()=>{clearTimeout(r),r=setTimeout((()=>{n(1,i=!1)}),100)}),100,!0);return se((()=>{clearTimeout(r)})),e.$$set=e=>{"isScrolling"in e&&n(1,i=e.isScrolling)},[function(e){n(1,i=!0),o()},i]}class Ui extends qe{constructor(e){super(),Ue(this,e,zi,Fi,a,{isScrolling:1})}}function qi(e){E(e,"svelte-1a30cmt",".time.svelte-1a30cmt{position:relative;height:100%;text-align:center;display:flex;flex-direction:column;justify-content:center;margin-right:6px}.text.svelte-1a30cmt{position:relative;font-family:'Lucida Sans Typewriter', 'Lucida Console', monaco, 'Bitstream Vera Sans Mono', monospace;font-size:1rem;line-height:1rem;color:white}")}function Vi(t){let n,r,i;return{c(){n=D("div"),r=D("div"),i=L(t[0]),z(r,"class","text svelte-1a30cmt"),z(n,"class","time svelte-1a30cmt")},m(e,t){O(e,n,t),T(n,r),T(r,i)},p(e,[t]){1&t&&q(i,e[0])},i:e,o:e,d(e){e&&N(n)}}}function Hi(e,t,n){let r,{duration:i}=t,{currentTime:o}=t,s=0;const a=Pr((()=>{n(0,s=c(o,r))}),250,!0),c=(e=0,t=!1)=>{let n=new Date(1e3*e).toISOString().substr(11,8);return t?n:n.substring(3)};return e.$$set=e=>{"duration"in e&&n(1,i=e.duration),"currentTime"in e&&n(2,o=e.currentTime)},e.$$.update=()=>{2&e.$$.dirty&&(r=i>=3600),4&e.$$.dirty&&o&&a()},[s,i,o]}class Wi extends qe{constructor(e){super(),Ue(this,e,Hi,Vi,a,{duration:1,currentTime:2},qi)}}function Ki(e){E(e,"svelte-1ai3mbf","video::-webkit-media-controls{display:none !important}.aspect.svelte-1ai3mbf.svelte-1ai3mbf{position:relative;width:100%;height:0;padding-top:100%;overflow:hidden;border-radius:8px;-webkit-mask-image:-webkit-radial-gradient(white, black);mask-image:-webkit-radial-gradient(white, black)}.aspect.svelte-1ai3mbf>.svelte-1ai3mbf:first-child{position:absolute;top:0;right:0;bottom:0;left:0;outline:none}video.svelte-1ai3mbf.svelte-1ai3mbf{position:relative;width:100%;height:100%}")}function Gi(e,t,n){const r=e.slice();return r[84]=t[n].src,r[85]=t[n].type,r}function Ji(t){let n,r,i=t[88]+"";return{c(){n=D("p"),r=L(i),H(n,"color","red"),z(n,"class","svelte-1ai3mbf")},m(e,t){O(e,n,t),T(n,r)},p(e,t){4&t[0]&&i!==(i=e[88]+"")&&q(r,i)},i:e,o:e,d(e){e&&N(n)}}}function Xi(e){let t,n,r,i,s,a,c,l,u,d,h,p,f=!1,m=!0,g=e[31],v=[];for(let t=0;t<g.length;t+=1)v[t]=Yi(Gi(e,g,t));function b(){cancelAnimationFrame(s),n.paused||(s=x(b),f=!0),e[61].call(n)}let y=e[2]&&e[30]&&Zi(e);return l=new dr({props:{$$slots:{default:[no]},$$scope:{ctx:e}}}),{c(){t=D("div"),n=D("video"),r=D("track");for(let e=0;e<v.length;e+=1)v[e].c();var o,s;i=D("p"),i.textContent="Sorry, your browser doesn't support HTML5 videos.",a=j(),y&&y.c(),c=j(),je(l.$$.fragment),z(r,"kind","captions"),z(n,"width",e[0]),z(n,"height",e[1]),z(n,"preload","none"),z(n,"class","svelte-1ai3mbf"),void 0!==e[9]&&void 0!==e[21]&&void 0!==e[11]||ge(b),void 0===e[19]&&ge((()=>e[62].call(n))),void 0===e[20]&&ge((()=>e[63].call(n))),void 0===e[20]&&ge((()=>e[64].call(n))),void 0===e[10]&&ge((()=>e[65].call(n))),void 0===e[11]&&ge((()=>e[66].call(n))),z(t,"id","video-player-"+(o=46656*Math.random()|0,s=46656*Math.random()|0,(o=("000"+o.toString(36)).slice(-3))+("000"+s.toString(36)).slice(-3))),z(t,"tabindex",u=e[14]?"0":"-1"),z(t,"class","svelte-1ai3mbf")},m(o,s){O(o,t,s),T(t,n),T(n,r);for(let e=0;e<v.length;e+=1)v[e].m(n,null);T(n,i),e[60](n),isNaN(e[13])||(n.volume=e[13]),T(t,a),y&&y.m(t,null),T(t,c),Me(l,t,null),e[74](t),d=!0,h||(p=[F(n,"timeupdate",b),F(n,"durationchange",e[62]),F(n,"progress",e[63]),F(n,"loadedmetadata",e[64]),F(n,"seeking",e[65]),F(n,"seeked",e[65]),F(n,"ended",e[66]),F(n,"play",e[67]),F(n,"pause",e[67]),F(n,"volumechange",e[68]),F(n,"loadeddata",e[33],{once:!0}),F(n,"play",so),F(n,"playing",e[34]),F(n,"waiting",e[35]),F(t,"pointerover",e[36]),F(t,"pointerout",e[37]),F(t,"pointerup",e[38])],h=!0)},p(e,r){if(1&r[1]){let t;for(g=e[31],t=0;t<g.length;t+=1){const o=Gi(e,g,t);v[t]?v[t].p(o,r):(v[t]=Yi(o),v[t].c(),v[t].m(n,i))}for(;t<v.length;t+=1)v[t].d(1);v.length=g.length}(!d||1&r[0])&&z(n,"width",e[0]),(!d||2&r[0])&&z(n,"height",e[1]),!f&&512&r[0]&&!isNaN(e[9])&&(n.currentTime=e[9]),f=!1,4096&r[0]&&m!==(m=e[12])&&n[m?"pause":"play"](),8192&r[0]&&!isNaN(e[13])&&(n.volume=e[13]),e[2]&&e[30]?y?(y.p(e,r),1073741828&r[0]&&Se(y,1)):(y=Zi(e),y.c(),Se(y,1),y.m(t,c)):y&&(Te(),Ae(y,1,1,(()=>{y=null})),Ee());const o={};1039839872&r[0]|134217728&r[2]&&(o.$$scope={dirty:r,ctx:e}),l.$set(o),(!d||16384&r[0]&&u!==(u=e[14]?"0":"-1"))&&z(t,"tabindex",u)},i(e){d||(Se(y),Se(l.$$.fragment,e),d=!0)},o(e){Ae(y),Ae(l.$$.fragment,e),d=!1},d(n){n&&N(t),P(v,n),e[60](null),y&&y.d(),Fe(l),e[74](null),h=!1,o(p)}}}function Yi(e){let t,n,r;return{c(){t=D("source"),l(t.src,n=e[84])||z(t,"src",n),z(t,"type",r=e[85])},m(e,n){O(e,t,n)},p(e,i){1&i[1]&&!l(t.src,n=e[84])&&z(t,"src",n),1&i[1]&&r!==(r=e[85])&&z(t,"type",r)},d(e){e&&N(t)}}}function Zi(e){let t,n;return t=new ar({props:{src:e[2]}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.src=e[2]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Qi(e){let t,n;return t=new Wi({props:{duration:e[19],currentTime:e[9]}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};524288&n[0]&&(r.duration=e[19]),512&n[0]&&(r.currentTime=e[9]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function eo(e){let t,n;return t=new Ri({props:{isFullscreen:e[24]}}),t.$on("pointerup",e[41]),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};16777216&n[0]&&(r.isFullscreen=e[24]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function to(e){let t,n,r,i,o,s,a,c,l,u,d,h,p,f,m;function g(t){e[69](t)}function v(t){e[70](t)}function b(t){e[71](t)}t=new ci({props:{paused:e[12]}}),t.$on("pointerup",e[43]);let y={duration:e[19],buffered:e[20],played:e[21],isBottomControlsVisible:e[27]};void 0!==e[9]&&(y.currentTime=e[9]),void 0!==e[12]&&(y.paused=e[12]),void 0!==e[17]&&(y.isScrubbing=e[17]),r=new Qr({props:y}),de.push((()=>Le(r,"currentTime",g))),de.push((()=>Le(r,"paused",v))),de.push((()=>Le(r,"isScrubbing",b))),r.$on("pointerup",e[42]);let w=e[7]&&Qi(e);function $(t){e[72](t)}l=new gi({props:{muted:e[26]}}),l.$on("pointerup",e[44]);let k={};void 0!==e[13]&&(k.volume=e[13]),d=new xi({props:k}),de.push((()=>Le(d,"volume",$)));let x=e[23]&&eo(e);return{c(){je(t.$$.fragment),n=j(),je(r.$$.fragment),a=j(),w&&w.c(),c=j(),je(l.$$.fragment),u=j(),je(d.$$.fragment),p=j(),x&&x.c(),f=M()},m(e,i){Me(t,e,i),O(e,n,i),Me(r,e,i),O(e,a,i),w&&w.m(e,i),O(e,c,i),Me(l,e,i),O(e,u,i),Me(d,e,i),O(e,p,i),x&&x.m(e,i),O(e,f,i),m=!0},p(e,n){const a={};4096&n[0]&&(a.paused=e[12]),t.$set(a);const u={};524288&n[0]&&(u.duration=e[19]),1048576&n[0]&&(u.buffered=e[20]),2097152&n[0]&&(u.played=e[21]),134217728&n[0]&&(u.isBottomControlsVisible=e[27]),!i&&512&n[0]&&(i=!0,u.currentTime=e[9],ve((()=>i=!1))),!o&&4096&n[0]&&(o=!0,u.paused=e[12],ve((()=>o=!1))),!s&&131072&n[0]&&(s=!0,u.isScrubbing=e[17],ve((()=>s=!1))),r.$set(u),e[7]?w?(w.p(e,n),128&n[0]&&Se(w,1)):(w=Qi(e),w.c(),Se(w,1),w.m(c.parentNode,c)):w&&(Te(),Ae(w,1,1,(()=>{w=null})),Ee());const p={};67108864&n[0]&&(p.muted=e[26]),l.$set(p);const m={};!h&&8192&n[0]&&(h=!0,m.volume=e[13],ve((()=>h=!1))),d.$set(m),e[23]?x?(x.p(e,n),8388608&n[0]&&Se(x,1)):(x=eo(e),x.c(),Se(x,1),x.m(f.parentNode,f)):x&&(Te(),Ae(x,1,1,(()=>{x=null})),Ee())},i(e){m||(Se(t.$$.fragment,e),Se(r.$$.fragment,e),Se(w),Se(l.$$.fragment,e),Se(d.$$.fragment,e),Se(x),m=!0)},o(e){Ae(t.$$.fragment,e),Ae(r.$$.fragment,e),Ae(w),Ae(l.$$.fragment,e),Ae(d.$$.fragment,e),Ae(x),m=!1},d(e){Fe(t,e),e&&N(n),Fe(r,e),e&&N(a),w&&w.d(e),e&&N(c),Fe(l,e),e&&N(u),Fe(d,e),e&&N(p),x&&x.d(e),e&&N(f)}}}function no(e){let t,n,r,i,o;function s(t){e[73](t)}let a={hidden:!e[27],$$slots:{default:[to]},$$scope:{ctx:e}};return void 0!==e[22]&&(a.isPointerOver=e[22]),t=new Nr({props:a}),de.push((()=>Le(t,"isPointerOver",s))),i=new Sr({props:{isIconVisible:e[28],isSpinnerVisible:e[29],isBuffering:e[15]}}),i.$on("togglePause",e[45]),{c(){je(t.$$.fragment),r=j(),je(i.$$.fragment)},m(e,n){Me(t,e,n),O(e,r,n),Me(i,e,n),o=!0},p(e,r){const o={};134217728&r[0]&&(o.hidden=!e[27]),230306432&r[0]|134217728&r[2]&&(o.$$scope={dirty:r,ctx:e}),!n&&4194304&r[0]&&(n=!0,o.isPointerOver=e[22],ve((()=>n=!1))),t.$set(o);const s={};268435456&r[0]&&(s.isIconVisible=e[28]),536870912&r[0]&&(s.isSpinnerVisible=e[29]),32768&r[0]&&(s.isBuffering=e[15]),i.$set(s)},i(e){o||(Se(t.$$.fragment,e),Se(i.$$.fragment,e),o=!0)},o(e){Ae(t.$$.fragment,e),Ae(i.$$.fragment,e),o=!1},d(e){Fe(t,e),e&&N(r),Fe(i,e)}}}function ro(e){let t,n,r;return n=new Ir({props:{color:e[4],size:"60px"}}),{c(){t=D("div"),je(n.$$.fragment),z(t,"class","svelte-1ai3mbf")},m(e,i){O(e,t,i),Me(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.color=e[4]),n.$set(r)},i(e){r||(Se(n.$$.fragment,e),r=!0)},o(e){Ae(n.$$.fragment,e),r=!1},d(e){e&&N(t),Fe(n)}}}function io(e){let t,n,r,i,s,a,c,l,u,d,h,p,f,m,g,v={ctx:e,current:null,token:null,hasCatch:!0,pending:ro,then:Xi,catch:Ji,error:88,blocks:[,,,]};function b(t){e[75](t)}De(n=rr(e[2]),v);let y={};function w(t){e[76](t)}void 0!==e[16]&&(y.isIdle=e[16]),i=new Mi({props:y}),de.push((()=>Le(i,"isIdle",b)));let $={};function k(t){e[77](t)}function x(t){e[78](t)}void 0!==e[25]&&($.isScrolling=e[25]),c=new Ui({props:$}),de.push((()=>Le(c,"isScrolling",w)));let _={element:e[18]};return void 0!==e[23]&&(_.isFullscreenEnabled=e[23]),void 0!==e[24]&&(_.isFullscreen=e[24]),d=new Di({props:_}),de.push((()=>Le(d,"isFullscreenEnabled",k))),de.push((()=>Le(d,"isFullscreen",x))),{c(){t=D("div"),v.block.c(),r=j(),je(i.$$.fragment),a=j(),je(c.$$.fragment),u=j(),je(d.$$.fragment),z(t,"class","aspect svelte-1ai3mbf"),H(t,"padding-top",100*e[6]+"%"),H(t,"background-color",e[3]),H(t,"border-radius",e[5])},m(n,o){O(n,t,o),v.block.m(t,v.anchor=null),v.mount=()=>t,v.anchor=r,T(t,r),Me(i,t,null),T(t,a),Me(c,t,null),T(t,u),Me(d,t,null),f=!0,m||(g=[F(window,"keydown",e[39]),F(window,"keyup",e[40])],m=!0)},p(r,o){e=r,v.ctx=e,4&o[0]&&n!==(n=rr(e[2]))&&De(n,v)||function(e,t,n){const r=t.slice(),{resolved:i}=e;e.current===e.then&&(r[e.value]=i),e.current===e.catch&&(r[e.error]=i),e.block.p(r,n)}(v,e,o);const a={};!s&&65536&o[0]&&(s=!0,a.isIdle=e[16],ve((()=>s=!1))),i.$set(a);const u={};!l&&33554432&o[0]&&(l=!0,u.isScrolling=e[25],ve((()=>l=!1))),c.$set(u);const m={};262144&o[0]&&(m.element=e[18]),!h&&8388608&o[0]&&(h=!0,m.isFullscreenEnabled=e[23],ve((()=>h=!1))),!p&&16777216&o[0]&&(p=!0,m.isFullscreen=e[24],ve((()=>p=!1))),d.$set(m),(!f||64&o[0])&&H(t,"padding-top",100*e[6]+"%"),(!f||8&o[0])&&H(t,"background-color",e[3]),(!f||32&o[0])&&H(t,"border-radius",e[5])},i(e){f||(Se(v.block),Se(i.$$.fragment,e),Se(c.$$.fragment,e),Se(d.$$.fragment,e),f=!0)},o(e){for(let e=0;e<3;e+=1){Ae(v.blocks[e])}Ae(i.$$.fragment,e),Ae(c.$$.fragment,e),Ae(d.$$.fragment,e),f=!1},d(e){e&&N(t),v.block.d(),v.token=null,v=null,Fe(i),Fe(c),Fe(d),m=!1,o(g)}}}let oo;function so(e){oo&&oo!==e.target&&oo.pause(),oo=e.target}function ao(e,t,n){let r,i,o,s,a,c,l,u,{width:d}=t,{height:p}=t,{poster:f}=t,{source:m}=t,{controlsHeight:g}=t,{trackHeight:v}=t,{thumbSize:b}=t,{centerIconSize:w}=t,{playerBgColor:$}=t,{color:k}=t,{focusColor:x}=t,{barsBgColor:_}=t,{iconColor:I}=t,{bufferedColor:C}=t,{chunkBars:T}=t,{borderRadius:E}=t,{loop:S}=t,{skipSeconds:A}=t,{aspectRatio:R}=t,{controlsOnPause:O}=t,{timeDisplay:N}=t;const P=We({});var D,B;let L,j;h(e,P,(e=>n(82,u=e))),D="config",B=P,ie().$$.context.set(D,B);let M,F,z,q=0,V=[],H=[],W=!0,K=1,G=1,J=!1,X=!1,Y=!1,Z=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!1,oe=!1;function se(e){const t=j.currentTime,r=j.duration;n(8,j.currentTime=e?t>i?t-i:0:t+i<r?t+i:r-.2,j)}return e.$$set=e=>{"width"in e&&n(0,d=e.width),"height"in e&&n(1,p=e.height),"poster"in e&&n(2,f=e.poster),"source"in e&&n(46,m=e.source),"controlsHeight"in e&&n(47,g=e.controlsHeight),"trackHeight"in e&&n(48,v=e.trackHeight),"thumbSize"in e&&n(49,b=e.thumbSize),"centerIconSize"in e&&n(50,w=e.centerIconSize),"playerBgColor"in e&&n(3,$=e.playerBgColor),"color"in e&&n(51,k=e.color),"focusColor"in e&&n(52,x=e.focusColor),"barsBgColor"in e&&n(53,_=e.barsBgColor),"iconColor"in e&&n(4,I=e.iconColor),"bufferedColor"in e&&n(54,C=e.bufferedColor),"chunkBars"in e&&n(55,T=e.chunkBars),"borderRadius"in e&&n(5,E=e.borderRadius),"loop"in e&&n(56,S=e.loop),"skipSeconds"in e&&n(57,A=e.skipSeconds),"aspectRatio"in e&&n(6,R=e.aspectRatio),"controlsOnPause"in e&&n(58,O=e.controlsOnPause),"timeDisplay"in e&&n(7,N=e.timeDisplay)},e.$$.update=()=>{32768&e.$$.dirty[1]&&n(31,r=function(e){let t;if(e)if(e instanceof Array)t=e.map((e=>{const t=nr(e);return void 0===t?{src:e}:{src:e,type:t}})).filter((e=>e));else{const n=nr(e);t=void 0===n?[{src:e}]:[{src:e,type:n}]}else t=[];return t}(m)),67108864&e.$$.dirty[1]&&(i=parseFloat(A)),65536&e.$$.dirty[1]&&y(P,u.controlsHeight=g,u),262144&e.$$.dirty[1]&&y(P,u.thumbSize=b,u),131072&e.$$.dirty[1]&&y(P,u.trackHeight=v,u),524288&e.$$.dirty[1]&&y(P,u.centerIconSize=w,u),1048576&e.$$.dirty[1]&&y(P,u.color=k,u),8&e.$$.dirty[0]&&y(P,u.playerBgColor=$,u),2097152&e.$$.dirty[1]&&y(P,u.focusColor=x,u),4194304&e.$$.dirty[1]&&y(P,u.barsBgColor=_,u),16&e.$$.dirty[0]&&y(P,u.iconColor=I,u),8388608&e.$$.dirty[1]&&y(P,u.bufferedColor=C,u),16777216&e.$$.dirty[1]&&y(P,u.chunkBars=T,u),33554432&e.$$.dirty[1]&&y(P,u.loop=S,u),32&e.$$.dirty[0]&&y(P,u.borderRadius=E,u),134217728&e.$$.dirty[1]&&y(P,u.controlsOnPause=O,u),128&e.$$.dirty[0]&&y(P,u.timeDisplay=N,u),8192&e.$$.dirty[0]&&n(26,o=0==K),2304&e.$$.dirty[0]|33554432&e.$$.dirty[1]&&z&&(n(9,q=0),S&&j.play()),20992&e.$$.dirty[0]&&n(30,s=!J||W&&0==q),86016&e.$$.dirty[0]|402653184&e.$$.dirty[1]&&n(27,a=J&&(W&&O||X&&!te)),33792&e.$$.dirty[0]&&n(29,c=F||Z),151552&e.$$.dirty[0]&&n(28,l=!J||W&&!re)},[d,p,f,$,I,E,R,N,j,q,F,z,W,K,J,Z,te,re,L,M,V,H,Y,Q,ee,ne,o,a,l,c,s,r,P,function(e){n(14,J=!0)},function(e){n(15,Z=!1)},function(e){n(15,Z=!0)},function(e){n(59,X=!0)},function(e){n(59,X=!1)},function(e){Y||ne||n(12,W=!W)},function(e){if(oo===j){switch(e.code){case"Tab":if(oe)break;a||(e.stopPropagation(),e.preventDefault(),n(27,a=!0));break;case"Space":if(oe)break;e.preventDefault(),oo.paused?oo.play():oo.pause();break;case"ArrowLeft":e.preventDefault(),se(!0);break;case"ArrowRight":e.preventDefault(),se()}oe=!0}},function(e){oo===j&&(oe=!1)},function(e){n(24,ee=!ee)},function(e){j!=j&&n(12,W=!1)},function(e){n(12,W=!W)},function(e){o?(n(13,K=G),G=1):(G=K,n(13,K=0))},function(){n(12,W=!W)},m,g,v,b,w,k,x,_,C,T,S,A,O,X,function(e){de[e?"unshift":"push"]((()=>{j=e,n(8,j)}))},function(){q=this.currentTime,H=U(this.played),z=this.ended,n(9,q),n(11,z),n(56,S),n(8,j),n(21,H),n(11,z)},function(){M=this.duration,n(19,M)},function(){V=U(this.buffered),n(20,V)},function(){V=U(this.buffered),n(20,V)},function(){F=this.seeking,n(10,F)},function(){z=this.ended,n(11,z)},function(){W=this.paused,n(12,W)},function(){K=this.volume,n(13,K)},function(e){q=e,n(9,q),n(11,z),n(56,S),n(8,j)},function(e){W=e,n(12,W)},function(e){re=e,n(17,re)},function(e){K=e,n(13,K)},function(e){Y=e,n(22,Y)},function(e){de[e?"unshift":"push"]((()=>{L=e,n(18,L)}))},function(e){te=e,n(16,te)},function(e){ne=e,n(25,ne)},function(e){Q=e,n(23,Q)},function(e){ee=e,n(24,ee)}]}class co extends qe{constructor(e){super(),Ue(this,e,ao,io,a,{width:0,height:1,poster:2,source:46,controlsHeight:47,trackHeight:48,thumbSize:49,centerIconSize:50,playerBgColor:3,color:51,focusColor:52,barsBgColor:53,iconColor:4,bufferedColor:54,chunkBars:55,borderRadius:5,loop:56,skipSeconds:57,aspectRatio:6,controlsOnPause:58,timeDisplay:7},Ki,[-1,-1,-1])}}function lo(e){E(e,"svelte-1sqfmr5",".aspect.svelte-1sqfmr5{position:relative;width:100%;height:0;padding-top:100%;overflow:hidden;border-radius:8px;-webkit-mask-image:-webkit-radial-gradient(white, black);mask-image:-webkit-radial-gradient(white, black)}")}function uo(t){let n;return{c(){n=D("div"),z(n,"class","aspect svelte-1sqfmr5"),H(n,"padding-top",100*t[2]+"%"),H(n,"background-color",t[0]),H(n,"border-radius",t[1])},m(e,t){O(e,n,t)},p(e,[t]){4&t&&H(n,"padding-top",100*e[2]+"%"),1&t&&H(n,"background-color",e[0]),2&t&&H(n,"border-radius",e[1])},i:e,o:e,d(e){e&&N(n)}}}function ho(e,t,n){let{playerBgColor:r}=t,{borderRadius:i}=t,{aspectRatio:o}=t;return e.$$set=e=>{"playerBgColor"in e&&n(0,r=e.playerBgColor),"borderRadius"in e&&n(1,i=e.borderRadius),"aspectRatio"in e&&n(2,o=e.aspectRatio)},[r,i,o]}class po extends qe{constructor(e){super(),Ue(this,e,ho,uo,a,{playerBgColor:0,borderRadius:1,aspectRatio:2},lo)}}function fo(e){let t,n;return t=new po({props:{playerBgColor:e[8],borderRadius:e[15],aspectRatio:e[20]}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.playerBgColor=e[8]),32768&n&&(r.borderRadius=e[15]),1048576&n&&(r.aspectRatio=e[20]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function mo(e){let t,n;return t=new co({props:{width:e[0],height:e[1],poster:e[2],source:e[3],controlsHeight:e[4],trackHeight:e[5],thumbSize:e[6],centerIconSize:e[7],playerBgColor:e[8],color:e[9],focusColor:e[10],barsBgColor:e[11],iconColor:e[12],bufferedColor:e[13],chunkBars:e[14],borderRadius:e[15],loop:e[16],skipSeconds:e[17],aspectRatio:e[20],controlsOnPause:e[18],timeDisplay:e[19]}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.width=e[0]),2&n&&(r.height=e[1]),4&n&&(r.poster=e[2]),8&n&&(r.source=e[3]),16&n&&(r.controlsHeight=e[4]),32&n&&(r.trackHeight=e[5]),64&n&&(r.thumbSize=e[6]),128&n&&(r.centerIconSize=e[7]),256&n&&(r.playerBgColor=e[8]),512&n&&(r.color=e[9]),1024&n&&(r.focusColor=e[10]),2048&n&&(r.barsBgColor=e[11]),4096&n&&(r.iconColor=e[12]),8192&n&&(r.bufferedColor=e[13]),16384&n&&(r.chunkBars=e[14]),32768&n&&(r.borderRadius=e[15]),65536&n&&(r.loop=e[16]),131072&n&&(r.skipSeconds=e[17]),1048576&n&&(r.aspectRatio=e[20]),262144&n&&(r.controlsOnPause=e[18]),524288&n&&(r.timeDisplay=e[19]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function go(e){let t,n,r,i;const o=[mo,fo],s=[];return t=function(e,t){return e[21]?0:1}(e),n=s[t]=o[t](e),{c(){n.c(),r=M()},m(e,n){s[t].m(e,n),O(e,r,n),i=!0},p(e,[t]){n.p(e,t)},i(e){i||(Se(n),i=!0)},o(e){Ae(n),i=!1},d(e){s[t].d(e),e&&N(r)}}}function vo(e,t,n){let r,i,o,s="undefined"!=typeof window,{width:a=1920}=t,{height:c=1080}=t,{poster:l=""}=t,{source:u=""}=t,{controlsHeight:d="55px"}=t,{trackHeight:h="6px"}=t,{thumbSize:p="15px"}=t,{centerIconSize:f="60px"}=t,{playerBgColor:m="black"}=t,{color:g="#FF3E00"}=t,{focusColor:v="white"}=t,{barsBgColor:b="white"}=t,{iconColor:y="white"}=t,{bufferedColor:w="#FF9600"}=t,{chunkBars:$=!1}=t,{borderRadius:k="8px"}=t,{loop:x=!1}=t,{skipSeconds:_=5}=t,{controlsOnPause:I=!0}=t,{timeDisplay:C=!1}=t;return e.$$set=e=>{"width"in e&&n(0,a=e.width),"height"in e&&n(1,c=e.height),"poster"in e&&n(2,l=e.poster),"source"in e&&n(3,u=e.source),"controlsHeight"in e&&n(4,d=e.controlsHeight),"trackHeight"in e&&n(5,h=e.trackHeight),"thumbSize"in e&&n(6,p=e.thumbSize),"centerIconSize"in e&&n(7,f=e.centerIconSize),"playerBgColor"in e&&n(8,m=e.playerBgColor),"color"in e&&n(9,g=e.color),"focusColor"in e&&n(10,v=e.focusColor),"barsBgColor"in e&&n(11,b=e.barsBgColor),"iconColor"in e&&n(12,y=e.iconColor),"bufferedColor"in e&&n(13,w=e.bufferedColor),"chunkBars"in e&&n(14,$=e.chunkBars),"borderRadius"in e&&n(15,k=e.borderRadius),"loop"in e&&n(16,x=e.loop),"skipSeconds"in e&&n(17,_=e.skipSeconds),"controlsOnPause"in e&&n(18,I=e.controlsOnPause),"timeDisplay"in e&&n(19,C=e.timeDisplay)},e.$$.update=()=>{1&e.$$.dirty&&n(22,r=parseInt(a)),2&e.$$.dirty&&n(23,i=parseInt(c)),12582912&e.$$.dirty&&n(20,o=i/r)},[a,c,l,u,d,h,p,f,m,g,v,b,y,w,$,k,x,_,I,C,o,s,r,i]}class bo extends qe{constructor(e){super(),Ue(this,e,vo,go,a,{width:0,height:1,poster:2,source:3,controlsHeight:4,trackHeight:5,thumbSize:6,centerIconSize:7,playerBgColor:8,color:9,focusColor:10,barsBgColor:11,iconColor:12,bufferedColor:13,chunkBars:14,borderRadius:15,loop:16,skipSeconds:17,controlsOnPause:18,timeDisplay:19})}}const yo=(e,t)=>{if(e){const n=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/;let r=!1,i=!1,o=!1;const s=e.split(/(\*|_|~)(.*?)(\*|_|~)/).reduce(((e,t)=>"*"===t?(r=!r,e):"_"===t?(i=!i,e):"~"===t?(o=!o,e):(e.push({type:"text",content:t,bold:r,italic:i,underline:o}),e)),[]),a=[];return s.forEach((e=>{const r=e.content.split(/(\n| )+/).filter((e=>" "!==e)).map(((r,i)=>n.test(r)?Object.assign(Object.assign({},e),{type:"link",content:r}):r.includes("$file")?{type:"file",content:void 0!==t?t:"$file"}:Object.assign(Object.assign({},e),{content:r})));a.push(...r)})),a}return[]};function wo(e){const t=t=>{!e||e.contains(t.target)||t.defaultPrevented||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function $o(e){E(e,"svelte-1ftzncb",'.modal.svelte-1ftzncb{display:none;justify-content:center;align-items:center;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.4)}.modal-content.svelte-1ftzncb{background-color:#fefefe;padding:16px 16px 8px 16px;border:1px solid #888;max-width:600px;width:75%}.btn.svelte-1ftzncb{position:relative;display:inline-block;box-sizing:border-box;border:none;border-radius:4px;padding:0 8px;min-width:64px;height:36px;vertical-align:middle;text-align:center;text-overflow:ellipsis;text-transform:uppercase;color:#0f2b42;background-color:transparent;font-size:14px;font-weight:500;line-height:36px;overflow:hidden;outline:none;cursor:pointer}.btn.svelte-1ftzncb::-moz-focus-inner{border:none}.btn.svelte-1ftzncb::before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;background-color:currentColor;opacity:0;transition:opacity 0.2s}.btn.svelte-1ftzncb::after{content:"";position:absolute;left:50%;top:50%;border-radius:50%;padding:50%;width:32px;height:32px;background-color:currentColor;opacity:0;transform:translate(-50%, -50%) scale(1) ;transition:opacity 1s, transform 0.5s}.btn.svelte-1ftzncb:hover::before{opacity:0.04}.btn.svelte-1ftzncb:focus::before{opacity:0.12}.btn.svelte-1ftzncb:hover:focus::before{opacity:0.16}.btn.svelte-1ftzncb:active::after{opacity:0.16;transform:translate(-50%, -50%) scale(0);transition:transform 0s}')}function ko(e){let t,n,r,i,s,a,c,l,u,d;const h=e[5].default,f=p(h,e,e[4],null);return{c(){t=D("div"),f&&f.c(),n=j(),r=D("div"),i=D("div"),s=j(),a=D("button"),a.innerHTML="<span>FECHAR</span>",H(i,"flex-grow","1"),z(a,"class","btn svelte-1ftzncb"),H(r,"display","flex"),H(r,"width","100%"),z(t,"class","modal-content svelte-1ftzncb")},m(o,h){O(o,t,h),f&&f.m(t,null),T(t,n),T(t,r),T(r,i),T(r,s),T(r,a),l=!0,u||(d=[F(a,"click",e[6]),w(c=wo.call(null,t)),F(t,"click_outside",e[7])],u=!0)},p(e,t){f&&f.p&&(!l||16&t)&&g(f,h,e,e[4],l?m(h,e[4],t,null):v(e[4]),null)},i(e){l||(Se(f,e),l=!0)},o(e){Ae(f,e),l=!1},d(e){e&&N(t),f&&f.d(e),u=!1,o(d)}}}function xo(e){let t,n,r=e[2]&&ko(e);return{c(){t=D("div"),r&&r.c(),z(t,"class","modal svelte-1ftzncb")},m(i,o){O(i,t,o),r&&r.m(t,null),e[8](t),n=!0},p(e,[n]){e[2]?r?(r.p(e,n),4&n&&Se(r,1)):(r=ko(e),r.c(),Se(r,1),r.m(t,null)):r&&(Te(),Ae(r,1,1,(()=>{r=null})),Ee())},i(e){n||(Se(r),n=!0)},o(e){Ae(r),n=!1},d(n){n&&N(t),r&&r.d(),e[8](null)}}}function _o(e,t,n){let r,{$$slots:i={},$$scope:o}=t,s=!1;function a(){n(1,r.style.display="none",r),n(2,s=!1)}return e.$$set=e=>{"$$scope"in e&&n(4,o=e.$$scope)},[a,r,s,function(){n(1,r.style.display="flex",r),n(2,s=!0)},o,i,()=>a(),()=>{a()},function(e){de[e?"unshift":"push"]((()=>{r=e,n(1,r)}))}]}class Io extends qe{constructor(e){super(),Ue(this,e,_o,xo,a,{openModal:3,closeModal:0},$o)}get openModal(){return this.$$.ctx[3]}get closeModal(){return this.$$.ctx[0]}}function Co(e){E(e,"svelte-e8w6ax",".spinner.svelte-e8w6ax{animation:svelte-e8w6ax-rotator 1.4s linear infinite;height:40px;width:40px}@keyframes svelte-e8w6ax-rotator{0%{transform:rotate(0deg)}100%{transform:rotate(270deg)}}.path.svelte-e8w6ax{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:svelte-e8w6ax-dash 1.4s ease-in-out infinite,\n        svelte-e8w6ax-colors 5.6s ease-in-out infinite}@keyframes svelte-e8w6ax-colors{0%{stroke:#1b4d75}50%{stroke:#0f2b42}100%{stroke:#1b4d75}}@keyframes svelte-e8w6ax-dash{0%{stroke-dashoffset:187\n        }50%{stroke-dashoffset:46.75;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}")}function To(t){let n,r;return{c(){n=B("svg"),r=B("circle"),z(r,"class","path svelte-e8w6ax"),z(r,"fill","none"),z(r,"stroke-width","6"),z(r,"stroke-linecap","round"),z(r,"cx","33"),z(r,"cy","33"),z(r,"r","30"),z(n,"class","spinner svelte-e8w6ax"),z(n,"width","65px"),z(n,"height","65px"),z(n,"viewBox","0 0 66 66"),z(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){O(e,n,t),T(n,r)},p:e,i:e,o:e,d(e){e&&N(n)}}}class Eo extends qe{constructor(e){super(),Ue(this,e,null,To,a,{},Co)}}function So(e){E(e,"svelte-yhnnif",".waitDiv.svelte-yhnnif{height:56px;display:flex;align-items:center;justify-content:center}.botDiv.svelte-yhnnif{font-size:12px;position:absolute;bottom:4px;right:16px}.image.svelte-yhnnif{cursor:pointer;height:100%;width:100%;object-fit:cover}.imageModal.svelte-yhnnif{max-width:600px;height:100%;width:100%;object-fit:cover}.audioDiv.svelte-yhnnif{margin:0;width:268px !important;margin-top:4px !important}.file.svelte-yhnnif{margin:0 8px;text-overflow:ellipsis;overflow:hidden;width:188px}")}function Ao(e,t,n){const r=e.slice();return r[10]=t[n],r}function Ro(e,t,n){const r=e.slice();return r[10]=t[n],r}function Oo(t){let n,r,i;return r=new Eo({}),{c(){n=D("div"),je(r.$$.fragment),z(n,"class","waitDiv svelte-yhnnif")},m(e,t){O(e,n,t),Me(r,n,null),i=!0},p:e,i(e){i||(Se(r.$$.fragment,e),i=!0)},o(e){Ae(r.$$.fragment,e),i=!1},d(e){e&&N(n),Fe(r)}}}function No(e){let t,n;return t=new bo({props:{source:e[1],controlsHeight:"24px",color:e[5].palette.primary.main}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.source=e[1]),32&n&&(r.color=e[5].palette.primary.main),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Po(e){let t,n,r,i,o,s,a,c;return o=new Io({props:{$$slots:{default:[Mo]},$$scope:{ctx:e}}}),e[9](o),{c(){t=D("img"),i=j(),je(o.$$.fragment),l(t.src,n=e[1])||z(t,"src",n),z(t,"alt",r="Imagem "+(e[4]?"enviada":"recebida")),z(t,"class","image svelte-yhnnif")},m(n,r){O(n,t,r),O(n,i,r),Me(o,n,r),s=!0,a||(c=F(t,"click",e[8]),a=!0)},p(e,i){(!s||2&i&&!l(t.src,n=e[1]))&&z(t,"src",n),(!s||16&i&&r!==(r="Imagem "+(e[4]?"enviada":"recebida")))&&z(t,"alt",r);const a={};32786&i&&(a.$$scope={dirty:i,ctx:e}),o.$set(a)},i(e){s||(Se(o.$$.fragment,e),s=!0)},o(e){Ae(o.$$.fragment,e),s=!1},d(n){n&&N(t),n&&N(i),e[9](null),Fe(o,n),a=!1,c()}}}function Do(t){let n,r,i,o;return{c(){n=D("audio"),r=D("source"),l(r.src,i=t[1])||z(r,"src",i),z(r,"type",o=t[2]?.includes(".webm")?"audio/webm":t[2]?.includes(".mp3")?"audio/mpeg":"audio/ogg"),n.controls=!0,z(n,"class","audioDiv svelte-yhnnif")},m(e,t){O(e,n,t),T(n,r)},p(e,t){2&t&&!l(r.src,i=e[1])&&z(r,"src",i),4&t&&o!==(o=e[2]?.includes(".webm")?"audio/webm":e[2]?.includes(".mp3")?"audio/mpeg":"audio/ogg")&&z(r,"type",o)},i:e,o:e,d(e){e&&N(n)}}}function Bo(e){let t,n,r,i,o,s,a,c,l,u;return n=new An({props:{path:"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"}}),c=new An({props:{path:"M8 17V15H16V17H8M16 10L12 14L8 10H10.5V6H13.5V10H16M12 2C17.5 2 22 6.5 22 12C22 17.5 17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4Z",style:`color: ${e[4]?e[5].palette.bubbleText.sent:e[5].palette.bubbleText.received}`}}),{c(){t=D("div"),je(n.$$.fragment),r=j(),i=D("p"),o=L(e[2]),s=j(),a=D("a"),je(c.$$.fragment),z(i,"class","file svelte-yhnnif"),z(a,"href",e[1]),z(a,"download",e[2]),z(a,"target","_blank"),z(a,"rel","noreferrer"),z(a,"style",l=`color: ${e[5].palette.bubbleText.sent}`),z(t,"class",b(yn`
          display: flex;
        `)+" svelte-yhnnif")},m(e,l){O(e,t,l),Me(n,t,null),T(t,r),T(t,i),T(i,o),T(t,s),T(t,a),Me(c,a,null),u=!0},p(e,t){(!u||4&t)&&q(o,e[2]);const n={};48&t&&(n.style=`color: ${e[4]?e[5].palette.bubbleText.sent:e[5].palette.bubbleText.received}`),c.$set(n),(!u||2&t)&&z(a,"href",e[1]),(!u||4&t)&&z(a,"download",e[2]),(!u||32&t&&l!==(l=`color: ${e[5].palette.bubbleText.sent}`))&&z(a,"style",l)},i(e){u||(Se(n.$$.fragment,e),Se(c.$$.fragment,e),u=!0)},o(e){Ae(n.$$.fragment,e),Ae(c.$$.fragment,e),u=!1},d(e){e&&N(t),Fe(n),Fe(c)}}}function Lo(e){let t,n,r=yo(e[1],e[2]),i=[];for(let t=0;t<r.length;t+=1)i[t]=Uo(Ao(e,r,t));const o=e=>Ae(i[e],1,1,(()=>{i[e]=null}));return{c(){t=D("div");for(let e=0;e<i.length;e+=1)i[e].c();z(t,"class",b(yn`
          white-space: pre-line;
        `)+" svelte-yhnnif")},m(e,r){O(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(14&n){let s;for(r=yo(e[1],e[2]),s=0;s<r.length;s+=1){const o=Ao(e,r,s);i[s]?(i[s].p(o,n),Se(i[s],1)):(i[s]=Uo(o),i[s].c(),Se(i[s],1),i[s].m(t,null))}for(Te(),s=r.length;s<i.length;s+=1)o(s);Ee()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Se(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Ae(i[e]);n=!1},d(e){e&&N(t),P(i,e)}}}function jo(e){let t,n,r=yo(e[1]),i=[];for(let t=0;t<r.length;t+=1)i[t]=qo(Ro(e,r,t));const o=e=>Ae(i[e],1,1,(()=>{i[e]=null}));return{c(){t=D("div");for(let e=0;e<i.length;e+=1)i[e].c();z(t,"class",b(yn`
          white-space: pre-line;
        `)+" svelte-yhnnif")},m(e,r){O(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(2&n){let s;for(r=yo(e[1]),s=0;s<r.length;s+=1){const o=Ro(e,r,s);i[s]?(i[s].p(o,n),Se(i[s],1)):(i[s]=qo(o),i[s].c(),Se(i[s],1),i[s].m(t,null))}for(Te(),s=r.length;s<i.length;s+=1)o(s);Ee()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Se(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Ae(i[e]);n=!1},d(e){e&&N(t),P(i,e)}}}function Mo(e){let t,n,r;return{c(){t=D("img"),l(t.src,n=e[1])||z(t,"src",n),z(t,"alt",r="Imagem "+(e[4]?"enviada":"recebida")),z(t,"class","imageModal svelte-yhnnif")},m(e,n){O(e,t,n)},p(e,i){2&i&&!l(t.src,n=e[1])&&z(t,"src",n),16&i&&r!==(r="Imagem "+(e[4]?"enviada":"recebida"))&&z(t,"alt",r)},d(e){e&&N(t)}}}function Fo(e){let t,n;return t=new tr({props:{content:e[10].content,type:e[10].type,downloadLink:e[3]}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};6&n&&(r.content=e[10].content),6&n&&(r.type=e[10].type),8&n&&(r.downloadLink=e[3]),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function zo(e){let t,n;return t=new tr({props:{content:e[10].content,type:e[10].type}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};6&n&&(r.content=e[10].content),6&n&&(r.type=e[10].type),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Uo(e){let t,n,r,i;const o=[zo,Fo],s=[];function a(e,t){return"file"!==e[10].type?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=M()},m(e,n){s[t].m(e,n),O(e,r,n),i=!0},p(e,i){let c=t;t=a(e),t===c?s[t].p(e,i):(Te(),Ae(s[c],1,1,(()=>{s[c]=null})),Ee(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),Se(n,1),n.m(r.parentNode,r))},i(e){i||(Se(n),i=!0)},o(e){Ae(n),i=!1},d(e){s[t].d(e),e&&N(r)}}}function qo(e){let t,n;return t=new tr({props:{content:e[10].content,type:e[10].type,bold:e[10].bold,italic:e[10].italic}}),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.content=e[10].content),2&n&&(r.type=e[10].type),2&n&&(r.bold=e[10].bold),2&n&&(r.italic=e[10].italic),t.$set(r)},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Vo(e){let t,n,r,i,o,s,a;const c=[jo,Lo,Bo,Do,Po,No,Oo],l=[];function u(e,t){return"text"===e[0]?0:"fileText"===e[0]?1:"file"===e[0]||"document"===e[0]?2:"audio"===e[0]?3:"image"===e[0]?4:"video"===e[0]?5:"wait"===e[0]?6:-1}return~(r=u(e))&&(i=l[r]=c[r](e)),{c(){t=D("div"),n=D("div"),i&&i.c(),z(n,"class",o=b(e[7].bubblePaper)+" svelte-yhnnif"),z(t,"class",s=b(e[7].bubbleDiv)+" svelte-yhnnif")},m(e,i){O(e,t,i),T(t,n),~r&&l[r].m(n,null),a=!0},p(e,[d]){let h=r;r=u(e),r===h?~r&&l[r].p(e,d):(i&&(Te(),Ae(l[h],1,1,(()=>{l[h]=null})),Ee()),~r?(i=l[r],i?i.p(e,d):(i=l[r]=c[r](e),i.c()),Se(i,1),i.m(n,null)):i=null),(!a||128&d&&o!==(o=b(e[7].bubblePaper)+" svelte-yhnnif"))&&z(n,"class",o),(!a||128&d&&s!==(s=b(e[7].bubbleDiv)+" svelte-yhnnif"))&&z(t,"class",s)},i(e){a||(Se(i),a=!0)},o(e){Ae(i),a=!1},d(e){e&&N(t),~r&&l[r].d()}}}function Ho(e,t,n){let r;h(e,Ke,(e=>n(5,r=e)));let i,{type:o}=t,{content:s}=t,{fileName:a}=t,{fileId:c}=t,{sender:l}=t,u={};return e.$$set=e=>{"type"in e&&n(0,o=e.type),"content"in e&&n(1,s=e.content),"fileName"in e&&n(2,a=e.fileName),"fileId"in e&&n(3,c=e.fileId),"sender"in e&&n(4,l=e.sender)},e.$$.update=()=>{49&e.$$.dirty&&n(7,u={bubbleDiv:yn`
      display: flex;
      width: 100%;
      justify-content: ${l?"flex-end":"unset"};
    `,bubblePaper:yn`
      border-radius: ${r.shape.bubbleBorderRadius} !important;
      max-width: ${"text"===o?"80%":"image"===o||"video"===o?"250px":"audio"===o?"268px":"fit-content"};
      width: ${"text"===o?"fit-content":"image"===o||"video"===o?"250px":"audio"===o?"268px":"fit-content"};
      min-width: ${"image"===o||"video"===o?"250px":"audio"===o?"268px":"unset"};
      padding: ${"audio"===o?"8px":"16px"};
      background-color: ${l?r.palette.bubble.sent:r.palette.bubble.received};
      color: ${l?r.palette.bubbleText.sent:r.palette.bubbleText.received};
      position: relative;
      margin: 1px 16px 7px 16px;
    `})},[o,s,a,c,l,r,i,u,()=>{i.openModal()},function(e){de[e?"unshift":"push"]((()=>{i=e,n(6,i)}))}]}class Wo extends qe{constructor(e){super(),Ue(this,e,Ho,Vo,a,{type:0,content:1,fileName:2,fileId:3,sender:4},So)}}const Ko={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,l=i>>2,u=(3&i)<<4|s>>4;let d=(15&s)<<2|c>>6,h=63&c;a||(h=64,o||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw Error();const c=i<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Go{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Jo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xo(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}class Yo extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(Qo,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new Yo(r,s,n)}}const Qo=/\{\$([^}]+)}/g;function es(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(ts(n)&&ts(o)){if(!es(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function ts(e){return null!==e&&"object"==typeof e}function ns(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class rs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=is),void 0===r.error&&(r.error=is),void 0===r.complete&&(r.complete=is);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function is(){}function os(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ss(e){return e&&e._delegate?e._delegate:e}class as{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cs="[DEFAULT]";class ls{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Go;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:us(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function us(e){return e===cs?void 0:e}class ds{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ls(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var hs;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(hs||(hs={}));const ps={debug:hs.DEBUG,verbose:hs.VERBOSE,info:hs.INFO,warn:hs.WARN,error:hs.ERROR,silent:hs.SILENT},fs=hs.INFO,ms={[hs.DEBUG]:"log",[hs.VERBOSE]:"log",[hs.INFO]:"info",[hs.WARN]:"warn",[hs.ERROR]:"error"},gs=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=ms[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class vs{constructor(e){this.name=e,this._logLevel=fs,this._logHandler=gs,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hs))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ps[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hs.DEBUG,...e),this._logHandler(this,hs.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hs.VERBOSE,...e),this._logHandler(this,hs.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hs.INFO,...e),this._logHandler(this,hs.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hs.WARN,...e),this._logHandler(this,hs.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hs.ERROR,...e),this._logHandler(this,hs.ERROR,...e)}}class bs{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const ys="@firebase/app",ws="0.7.13",$s=new vs("@firebase/app"),ks="[DEFAULT]",xs={[ys]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_s=new Map,Is=new Map;function Cs(e,t){try{e.container.addComponent(t)}catch(n){$s.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ts(e){const t=e.name;if(Is.has(t))return $s.debug(`There were multiple attempts to register component ${t}.`),!1;Is.set(t,e);for(const t of _s.values())Cs(t,e);return!0}function Es(e,t){return e.container.getProvider(t)}const Ss=new Zo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class As{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new as("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}const Rs="9.6.3";function Os(e="[DEFAULT]"){const t=_s.get(e);if(!t)throw Ss.create("no-app",{appName:e});return t}function Ns(e,t,n){var r;let i=null!==(r=xs[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void $s.warn(e.join(" "))}Ts(new as(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}var Ps;Ps="",Ts(new as("platform-logger",(e=>new bs(e)),"PRIVATE")),Ns(ys,ws,Ps),Ns(ys,ws,"esm2017"),Ns("fire-js","");function Ds(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Bs(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Ns("firebase","9.6.3","app");const Ls=Bs,js=new Zo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ms=new vs("@firebase/auth");function Fs(e,...t){Ms.logLevel<=hs.ERROR&&Ms.error(`Auth (9.6.3): ${e}`,...t)}function zs(e,...t){throw qs(e,...t)}function Us(e,...t){return qs(e,...t)}function qs(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return js.create(e,...t)}function Vs(e,t,...n){if(!e)throw qs(t,...n)}function Hs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fs(t),new Error(t)}function Ws(e,t){e||Hs(t)}const Ks=new Map;function Gs(e){Ws(e instanceof Function,"Expected a class definition");let t=Ks.get(e);return t?(Ws(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ks.set(e,t),t)}function Js(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xs(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ys(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==Xs()&&"https:"!==Xs()&&!Xo()&&!("connection"in navigator)||navigator.onLine}class Zs{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ws(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jo())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Ys()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qs(e,t){Ws(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ea{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ta={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},na=new Zs(3e4,6e4);function ra(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ia(e,t,n,r,i={}){return oa(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=ns(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),ea.fetch()(aa(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function oa(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ta),t);try{const t=new ca(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw la(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw la(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw la(e,"email-already-in-use",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw function(e,t,n){const r=Object.assign(Object.assign({},Ls()),{[t]:n});return new Zo("auth","Firebase",r).create(t,{appName:e.name})}(e,a,s);zs(e,a)}}catch(t){if(t instanceof Yo)throw t;zs(e,"network-request-failed")}}async function sa(e,t,n,r,i={}){const o=await ia(e,t,n,r,i);return"mfaPendingCredential"in o&&zs(e,"multi-factor-auth-required",{_serverResponse:o}),o}function aa(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Qs(e.config,i):`${e.config.apiScheme}://${i}`}class ca{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Us(this.auth,"timeout"))),na.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function la(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Us(e,t,r);return i.customData._tokenResponse=n,i}function ua(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function da(e){return 1e3*Number(e)}function ha(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Fs("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return Ko.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(Fs("Failed to decode base64 JWT payload"),null)}catch(e){return Fs("Caught error parsing JWT payload as JSON",e),null}}async function pa(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Yo&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class fa{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class ma{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ga(e){var t;const n=e.auth,r=await e.getIdToken(),i=await pa(e,async function(e,t){return ia(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Vs(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Ds(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ma(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vs(e.idToken,"internal-error"),Vs(void 0!==e.idToken,"internal-error"),Vs(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=ha(e);return Vs(t,"internal-error"),Vs(void 0!==t.exp,"internal-error"),Vs(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Vs(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await oa(e,{},(async()=>{const n=ns({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=aa(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",ea.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new va;return n&&(Vs("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Vs("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Vs("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return Hs("not implemented")}}function ba(e,t){Vs("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ya{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ds(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new fa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new ma(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await pa(this,this.stsTokenManager.getToken(this.auth,e));return Vs(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=ss(e),r=await n.getIdToken(t),i=ha(r);Vs(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ua(da(i.auth_time)),issuedAtTime:ua(da(i.iat)),expirationTime:ua(da(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ss(e);await ga(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Vs(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Vs(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ga(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await pa(this,async function(e,t){return ia(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:y,isAnonymous:w,providerData:$,stsTokenManager:k}=t;Vs(b&&k,e,"internal-error");const x=va.fromJSON(this.name,k);Vs("string"==typeof b,e,"internal-error"),ba(u,e.name),ba(d,e.name),Vs("boolean"==typeof y,e,"internal-error"),Vs("boolean"==typeof w,e,"internal-error"),ba(h,e.name),ba(p,e.name),ba(f,e.name),ba(m,e.name),ba(g,e.name),ba(v,e.name);const _=new ya({uid:b,auth:e,email:d,emailVerified:y,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:x,createdAt:g,lastLoginAt:v});return $&&Array.isArray($)&&(_.providerData=$.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t,n=!1){const r=new va;r.updateFromServerResponse(t);const i=new ya({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ga(i),i}}class wa{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wa.type="NONE";const $a=wa;function ka(e,t,n){return`firebase:${e}:${t}:${n}`}class xa{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ka(this.userKey,r.apiKey,i),this.fullPersistenceKey=ka("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ya._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new xa(Gs($a),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Gs($a);const o=ka(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=ya._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new xa(i,e,n)):new xa(i,e,n)}}function _a(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ea(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ia(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Aa(t))return"Blackberry";if(Ra(t))return"Webos";if(Ca(t))return"Safari";if((t.includes("chrome/")||Ta(t))&&!t.includes("edge/"))return"Chrome";if(Sa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ia(e=Jo()){return/firefox\//i.test(e)}function Ca(e=Jo()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ta(e=Jo()){return/crios\//i.test(e)}function Ea(e=Jo()){return/iemobile/i.test(e)}function Sa(e=Jo()){return/android/i.test(e)}function Aa(e=Jo()){return/blackberry/i.test(e)}function Ra(e=Jo()){return/webos/i.test(e)}function Oa(e=Jo()){return/iphone|ipad|ipod/i.test(e)}function Na(){return function(){const e=Jo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Pa(e=Jo()){return Oa(e)||Sa(e)||Ra(e)||Aa(e)||/windows phone/i.test(e)||Ea(e)}function Da(e,t=[]){let n;switch(e){case"Browser":n=_a(Jo());break;case"Worker":n=`${_a(Jo())}-${e}`;break;default:n=e}return`${n}/JsCore/9.6.3/${t.length?t.join(","):"FirebaseCore-web"}`}class Ba{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ja(this),this.idTokenSubscription=new ja(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=js,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gs(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await xa.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(Vs(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ga(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ss(e):null;return t&&Vs(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Vs(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Gs(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zo("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gs(e)||this._popupRedirectResolver;Vs(t,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[Gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Vs(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vs(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Da(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function La(e){return ss(e)}class ja{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new rs(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Vs(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Ma{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hs("not implemented")}_getIdTokenResponse(e){return Hs("not implemented")}_linkToIdToken(e,t){return Hs("not implemented")}_getReauthenticationResolver(e){return Hs("not implemented")}}async function Fa(e,t){return sa(e,"POST","/v1/accounts:signInWithIdp",ra(e,t))}class za extends Ma{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ds(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new za(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Fa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Fa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fa(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ns(t)}return e}}class Ua{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qa extends Ua{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Va extends qa{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch(e){return null}}}Va.FACEBOOK_SIGN_IN_METHOD="facebook.com",Va.PROVIDER_ID="facebook.com";class Ha extends qa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return za._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ha.credential(t,n)}catch(e){return null}}}Ha.GOOGLE_SIGN_IN_METHOD="google.com",Ha.PROVIDER_ID="google.com";class Wa extends qa{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch(e){return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com",Wa.PROVIDER_ID="github.com";class Ka extends qa{constructor(){super("twitter.com")}static credential(e,t){return za._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ka.credential(t,n)}catch(e){return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com",Ka.PROVIDER_ID="twitter.com";class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ya._fromIdTokenResponse(e,n,r),o=Ja(n);return new Ga({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ja(n);return new Ga({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ja(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function Xa(e){var t;const n=La(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ga({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await async function(e,t){return sa(e,"POST","/v1/accounts:signUp",ra(e,t))}(n,{returnSecureToken:!0}),i=await Ga._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class Ya extends Yo{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ya.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ya(e,t,n,r)}}function Za(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ya._fromErrorAndOperation(e,n,t,r);throw n}))}const Qa="__sak";class ec{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qa,"1"),this.storage.removeItem(Qa),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tc extends ec{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Jo();return Ca(e)||Oa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Pa(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Na()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tc.type="LOCAL";const nc=tc;class rc extends ec{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rc.type="SESSION";const ic=rc;class oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new oc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function sc(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}oc.receivers=[];class ac{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=sc("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function cc(){return window}function lc(){return void 0!==cc().WorkerGlobalScope&&"function"==typeof cc().importScripts}const uc="firebaseLocalStorageDb",dc="firebaseLocalStorage",hc="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function fc(e,t){return e.transaction([dc],t?"readwrite":"readonly").objectStore(dc)}function mc(){const e=indexedDB.open(uc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(dc,{keyPath:hc})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(dc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(uc);return new pc(e).toPromise()}(),t(await mc()))}))}))}async function gc(e,t,n){const r=fc(e,!0).put({[hc]:t,value:n});return new pc(r).toPromise()}function vc(e,t){const n=fc(e,!0).delete(t);return new pc(n).toPromise()}class bc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await mc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oc._getInstance(lc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ac(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mc();return await gc(e,Qa,"1"),await vc(e,Qa),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>gc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=fc(e,!1).get(t),r=await new pc(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>vc(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=fc(e,!1).getAll();return new pc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}bc.type="LOCAL";const yc=bc;function wc(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Us("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}new Zs(3e4,6e4);class $c extends Ma{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kc(e){return async function(e,t,n=!1){const r="signIn",i=await Za(e,r,t),o=await Ga._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}(e.auth,new $c(e),e.bypassAuthState)}function xc(e){const{auth:t,user:n}=e;return Vs(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await pa(e,Za(r,i,t,e),n);Vs(o.idToken,r,"internal-error");const s=ha(o.idToken);Vs(s,r,"internal-error");const{sub:a}=s;return Vs(e.uid===a,r,"user-mismatch"),Ga._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&zs(r,"user-mismatch"),e}}(n,new $c(e),e.bypassAuthState)}async function _c(e){const{auth:t,user:n}=e;return Vs(n,t,"internal-error"),async function(e,t,n=!1){const r=await pa(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ga._forOperation(e,"link",r)}(n,new $c(e),e.bypassAuthState)}class Ic{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kc;case"linkViaPopup":case"linkViaRedirect":return _c;case"reauthViaPopup":case"reauthViaRedirect":return xc;default:zs(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cc=new Zs(2e3,1e4);class Tc extends Ic{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Tc.currentPopupAction&&Tc.currentPopupAction.cancel(),Tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vs(e,this.auth,"internal-error"),e}async onExecution(){Ws(1===this.filter.length,"Popup operations only handle one event");const e=sc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Us(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Us(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Cc.get())};e()}}Tc.currentPopupAction=null;const Ec="pendingRedirect",Sc=new Map;class Ac extends Ic{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Sc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return ka(Ec,e.config.apiKey,e.name)}(t),r=function(e){return Gs(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Sc.set(this.auth._key(),e)}return this.bypassAuthState||Sc.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Rc(e,t,n=!1){const r=La(e),i=function(e,t){return t?Gs(t):(Vs(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new Ac(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Oc{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Pc(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Us(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nc(e))}saveEventToCache(e){this.cachedEventUids.add(Nc(e)),this.lastProcessedEventTime=Date.now()}}function Nc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Pc({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Dc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bc=/^https?/;async function Lc(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return ia(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(jc(e))return}catch(e){}zs(e,"unauthorized-domain")}function jc(e){const t=Js(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Bc.test(n))return!1;if(Dc.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Mc=new Zs(3e4,6e4);function Fc(){const e=cc().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function zc(e){return new Promise(((t,n)=>{var r,i,o;function s(){Fc(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fc(),n(Us(e,"network-request-failed"))},timeout:Mc.get()})}if(null===(i=null===(r=cc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=cc().gapi)||void 0===o?void 0:o.load)){const t=function(e){return`__${e}${Math.floor(1e6*Math.random())}`}("iframefcb");return cc()[t]=()=>{gapi.load?s():n(Us(e,"network-request-failed"))},wc(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Uc=null,e}))}let Uc=null;const qc=new Zs(5e3,15e3),Vc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wc(e){const t=e.config;Vs(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qs(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Rs},i=Hc.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ns(r).slice(1)}`}async function Kc(e){const t=await function(e){return Uc=Uc||zc(e),Uc}(e),n=cc().gapi;return Vs(n,e,"internal-error"),t.open({where:document.body,url:Wc(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vc,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Us(e,"network-request-failed"),o=cc().setTimeout((()=>{r(i)}),qc.get());function s(){cc().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Gc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Xc(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Gc),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Jo().toLowerCase();n&&(a=Ta(l)?"_blank":n),Ia(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Jo()){var t;return Oa(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Jc(null);const d=window.open(t||"",a,u);Vs(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Jc(d)}const Yc="__/auth/handler",Zc="emulator/auth/handler";function Qc(e,t,n,r,i,o){Vs(e.config.authDomain,e,"auth-domain-config-required"),Vs(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Rs,eventId:i};if(t instanceof Ua){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof qa){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Yc}`;return Qs(e,Zc)}(e)}?${ns(a).slice(1)}`}const el="webStorageSupport";const tl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ic,this._completeRedirectFn=Rc}async _openPopup(e,t,n,r){var i;Ws(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Xc(e,Qc(e,t,n,Js(),r),sc())}async _openRedirect(e,t,n,r){return await this._originValidation(e),function(e){cc().location.href=e}(Qc(e,t,n,Js(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ws(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Kc(e),n=new Oc(e);return t.register("authEvent",(t=>{Vs(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(el,{type:el},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),zs(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Lc(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pa()||Ca()||Oa()}};var nl,rl="@firebase/auth",il="0.19.5";class ol{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vs(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}nl="Browser",Ts(new as("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{Vs(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),Vs(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:nl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Da(nl)},o=new Ba(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gs);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ts(new as("auth-internal",(e=>(e=>new ol(e))(La(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(rl,il,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(nl)),Ns(rl,il,"esm2017");var sl={exports:{}};(function(e){function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,s){n(i=e[t].apply(e,r)).then(o,s)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new u(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function s(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function a(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function c(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function l(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function d(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function p(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function f(e){this._db=e}function m(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new p(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new f(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(l,"_index",["name","keyPath","multiEntry","unique"]),s(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(u,"_cursor",["direction","key","primaryKey","value"]),s(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new u(e,t._request)}))}))})})),d.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},d.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},o(d,"_store",["name","keyPath","indexNames","autoIncrement"]),s(d,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(d,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(d,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new d(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),a(h,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new d(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[d,l].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[l,d].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=m,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})})(sl.exports);const al="@firebase/installations",cl="0.5.5",ll=1e4,ul="w:0.5.5",dl="FIS_v2",hl=36e5,pl=new Zo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fl(e){return e instanceof Yo&&e.code.includes("request-failed")}function ml({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function gl(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function vl(e,t){const n=(await t.json()).error;return pl.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function bl({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function yl(e,{refreshToken:t}){const n=bl(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}async function wl(e){const t=await e();return t.status>=500&&t.status<600?e():t}function $l(e){return new Promise((t=>{setTimeout(t,e)}))}const kl=/^[cdef][\w-]{21}$/;function xl(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return kl.test(t)?t:""}catch(e){return""}}function _l(e){return`${e.appName}!${e.appId}`}const Il=new Map;function Cl(e,t){const n=_l(e);Tl(n,t),function(e,t){const n=function(){!El&&"BroadcastChannel"in self&&(El=new BroadcastChannel("[Firebase] FID Change"),El.onmessage=e=>{Tl(e.data.key,e.data.fid)});return El}();n&&n.postMessage({key:e,fid:t});0===Il.size&&El&&(El.close(),El=null)}(n,t)}function Tl(e,t){const n=Il.get(e);if(n)for(const e of n)e(t)}let El=null;const Sl="firebase-installations-store";let Al=null;function Rl(){return Al||(Al=sl.exports.openDb("firebase-installations-database",1,(e=>{if(0===e.oldVersion)e.createObjectStore(Sl)}))),Al}async function Ol(e,t){const n=_l(e),r=(await Rl()).transaction(Sl,"readwrite"),i=r.objectStore(Sl),o=await i.get(n);return await i.put(t,n),await r.complete,o&&o.fid===t.fid||Cl(e,t.fid),t}async function Nl(e){const t=_l(e),n=(await Rl()).transaction(Sl,"readwrite");await n.objectStore(Sl).delete(t),await n.complete}async function Pl(e,t){const n=_l(e),r=(await Rl()).transaction(Sl,"readwrite"),i=r.objectStore(Sl),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.complete,!s||o&&o.fid===s.fid||Cl(e,s.fid),s}async function Dl(e){let t;const n=await Pl(e,(n=>{const r=function(e){return jl(e||{fid:xl(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(pl.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,{fid:t}){const n=ml(e),r=bl(e),i={fid:t,authVersion:dl,appId:e.appId,sdkVersion:ul},o={method:"POST",headers:r,body:JSON.stringify(i)},s=await wl((()=>fetch(n,o)));if(s.ok){const e=await s.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:gl(e.authToken)}}throw await vl("Create Installation",s)}(e,t);return Ol(e,n)}catch(n){throw fl(n)&&409===n.customData.serverCode?await Nl(e):await Ol(e,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Bl(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Bl(e){let t=await Ll(e);for(;1===t.registrationStatus;)await $l(100),t=await Ll(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Dl(e);return n||t}return t}function Ll(e){return Pl(e,(e=>{if(!e)throw pl.create("installation-not-found");return jl(e)}))}function jl(e){return 1===(t=e).registrationStatus&&t.registrationTime+ll<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ml({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${ml(e)}/${t}/authTokens:generate`}(e,n),i=yl(e,n),o=t.getImmediate({optional:!0});o&&i.append("x-firebase-client",o.getPlatformInfoString());const s={installation:{sdkVersion:ul}},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await wl((()=>fetch(r,a)));if(c.ok){return gl(await c.json())}throw await vl("Generate Auth Token",c)}async function Fl(e,t=!1){let n;const r=await Pl(e.appConfig,(r=>{if(!Ul(r))throw pl.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+hl}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,t){let n=await zl(e.appConfig);for(;1===n.authToken.requestStatus;)await $l(100),n=await zl(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Fl(e,t):r}(e,t),r;{if(!navigator.onLine)throw pl.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Ml(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Ol(e.appConfig,r),n}catch(n){if(!fl(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ol(e.appConfig,n)}else await Nl(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function zl(e){return Pl(e,(e=>{if(!Ul(e))throw pl.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ll<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Ul(e){return void 0!==e&&2===e.registrationStatus}async function ql(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await Dl(e);t&&await t}(n.appConfig);return(await Fl(n,t)).token}function Vl(e){return pl.create("missing-app-config-values",{valueName:e})}const Hl="installations",Wl=e=>{const t=Es(e.getProvider("app").getImmediate(),Hl).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Dl(t.appConfig);return r?r.catch(console.error):Fl(t).catch(console.error),n.fid}(t),getToken:e=>ql(t,e)}};Ts(new as(Hl,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Vl("App Configuration");if(!e.name)throw Vl("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Vl(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:Es(t,"platform-logger"),_delete:()=>Promise.resolve()}}),"PUBLIC")),Ts(new as("installations-internal",Wl,"PRIVATE")),Ns(al,cl),Ns(al,cl,"esm2017");const Kl="analytics",Gl="https://www.googletagmanager.com/gtag/js",Jl=new vs("@firebase/analytics");function Xl(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Yl(e,t,n,r){return async function(i,o,s){try{"event"===i?await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Xl(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(e){Jl.error(e)}}(e,t,n,o,s):"config"===i?await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await Xl(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(e){Jl.error(e)}e("config",i,o)}(e,t,n,r,o,s):e("set",o)}catch(e){Jl.error(e)}}}const Zl=new Zo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'});const Ql=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function eu(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function tu(e,t=Ql,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Zl.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Zl.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ru;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),nu({appId:r,apiKey:i,measurementId:o},s,a,t)}async function nu(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Ql){const{appId:o,measurementId:s}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(Zl.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(e){if(s)return Jl.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${e.message}]`),{appId:o,measurementId:s};throw e}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:eu(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw Zl.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return i.deleteThrottleMetadata(o),t}catch(t){if(!function(e){if(!(e instanceof Yo&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(o),s)return Jl.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${t.message}]`),{appId:o,measurementId:s};throw t}const a=503===Number(t.customData.httpStatus)?os(n,i.intervalMillis,30):os(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+a,backoffCount:n+1};return i.setThrottleMetadata(o,c),Jl.debug(`Calling attemptFetch again in ${a} millis`),nu(e,c,r,i)}}class ru{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function iu(){if("object"!=typeof indexedDB)return Jl.warn(Zl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}catch(e){return Jl.warn(Zl.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}async function ou(e,t,n,r,i,o,s){var a;const c=tu(e);c.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Jl.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>Jl.error(e))),t.push(c);const l=iu().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([c,l]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Gl))return t;return null})()||function(e,t){const n=document.createElement("script");n.src=`${Gl}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),i("js",new Date);const h=null!==(a=null==s?void 0:s.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),u.measurementId}class su{constructor(e){this.app=e}_delete(){return delete au[this.app.options.appId],Promise.resolve()}}let au={},cu=[];const lu={};let uu,du,hu="dataLayer",pu=!1;function fu(){const e=[];if(Xo()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Zl.create("invalid-analytics-context",{errorInfo:t});Jl.warn(n.message)}}function mu(e,t,n){fu();const r=e.options.appId;if(!r)throw Zl.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Zl.create("no-api-key");Jl.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=au[r])throw Zl.create("already-exists",{id:r});if(!pu){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(hu);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=Yl(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(au,cu,lu,hu,"gtag");du=e,uu=t,pu=!0}au[r]=ou(e,cu,lu,t,uu,hu,n);return new su(e)}function gu(e,t,n,r){e=ss(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(du,au[e.app.options.appId],t,n,r).catch((e=>Jl.error(e)))}const vu="@firebase/analytics",bu="0.7.5";Ts(new as(Kl,((e,{options:t})=>mu(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),Ts(new as("analytics-internal",(function(e){try{const t=e.getProvider(Kl).getImmediate();return{logEvent:(e,n,r)=>gu(t,e,n,r)}}catch(e){throw Zl.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),Ns(vu,bu),Ns(vu,bu,"esm2017");const yu=function(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:ks,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Ss.create("bad-app-name",{appName:String(r)});const i=_s.get(r);if(i){if(es(e,i.options)&&es(n,i.config))return i;throw Ss.create("duplicate-app",{appName:r})}const o=new ds(r);for(const e of Is.values())o.addComponent(e);const s=new As(e,n,o);return _s.set(r,s),s}({apiKey:"AIzaSyAAHPLHRq3DlaolD-hcgvd8rcf48Va2ZgE",authDomain:"tykhe-chat.firebaseapp.com",projectId:"tykhe-chat",storageBucket:"tykhe-chat.appspot.com",messagingSenderId:"172724651449",appId:"1:172724651449:web:c6d3e63907264a1c06a268",measurementId:"G-V7YBQKWZSW"});!function(e=Os()){const t=Es(e=ss(e),Kl);t.isInitialized()?t.getImmediate():function(e,t={}){const n=Es(e,Kl);if(n.isInitialized()){const e=n.getImmediate();if(es(t,n.getOptions()))return e;throw Zl.create("already-initialized")}n.initialize({options:t})}(e)}(yu);const wu=function(e=Os()){const t=Es(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=Es(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(es(n.getOptions(),null!=t?t:{}))return e;zs(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:tl,persistence:[yc,nc,ic]})}(yu);new Ha;(new Va).addScope("user_birthday");const $u=We([]),ku=We(null),xu=We(""),_u=We(!1),Iu=We(!1),Cu=He({user:null,isLoggedIn:!1},(e=>wu.onAuthStateChanged((async t=>{e(t?{user:t,isLoggedIn:!0}:{user:null,isLoggedIn:!1})})))),Tu=We("");var Eu=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Su=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Au=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=Eu.exec(e||""),o={},s=14;s--;)o[Su[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,o.query),o};var Ru={exports:{}};try{Ru.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){Ru.exports=!1}var Ou=Ru.exports,Nu="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Pu(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Ou))return new XMLHttpRequest}catch(e){}if(!t)try{return new(Nu[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function Du(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Bu=setTimeout,Lu=clearTimeout;function ju(e,t){t.useNativeTimers?(e.setTimeoutFn=Bu.bind(Nu),e.clearTimeoutFn=Lu.bind(Nu)):(e.setTimeoutFn=setTimeout.bind(Nu),e.clearTimeoutFn=clearTimeout.bind(Nu))}var Mu=Fu;function Fu(e){if(e)return function(e){for(var t in Fu.prototype)e[t]=Fu.prototype[t];return e}(e)}Fu.prototype.on=Fu.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Fu.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Fu.prototype.off=Fu.prototype.removeListener=Fu.prototype.removeAllListeners=Fu.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Fu.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Fu.prototype.emitReserved=Fu.prototype.emit,Fu.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Fu.prototype.hasListeners=function(e){return!!this.listeners(e).length};const zu=Object.create(null);zu.open="0",zu.close="1",zu.ping="2",zu.pong="3",zu.message="4",zu.upgrade="5",zu.noop="6";const Uu=Object.create(null);Object.keys(zu).forEach((e=>{Uu[zu[e]]=e}));const qu={type:"error",data:"parser error"},Vu="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Hu="function"==typeof ArrayBuffer,Wu=({type:e,data:t},n,r)=>{return Vu&&t instanceof Blob?n?r(t):Ku(t,r):Hu&&(t instanceof ArrayBuffer||(i=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?n?r(t):Ku(new Blob([t]),r):r(zu[e]+(t||""));var i},Ku=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};for(var Gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ju="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Xu=0;Xu<Gu.length;Xu++)Ju[Gu.charCodeAt(Xu)]=Xu;const Yu="function"==typeof ArrayBuffer,Zu=(e,t)=>{if("string"!=typeof e)return{type:"message",data:ed(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Qu(e.substring(1),t)};return Uu[n]?e.length>1?{type:Uu[n],data:e.substring(1)}:{type:Uu[n]}:qu},Qu=(e,t)=>{if(Yu){const n=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),u=new Uint8Array(l);for(t=0;t<a;t+=4)n=Ju[e.charCodeAt(t)],r=Ju[e.charCodeAt(t+1)],i=Ju[e.charCodeAt(t+2)],o=Ju[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|i>>2,u[c++]=(3&i)<<6|63&o;return l}(e);return ed(n,t)}return{base64:!0,data:e}},ed=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,td=String.fromCharCode(30);class nd extends Mu{constructor(e){super(),this.writable=!1,ju(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const n=new Error(e);return n.type="TransportError",n.description=t,super.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){const t=Zu(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}}var rd,id="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),od={},sd=0,ad=0;function cd(e){var t="";do{t=id[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function ld(){var e=cd(+new Date);return e!==rd?(sd=0,rd=e):e+"."+cd(sd++)}for(;ad<64;ad++)od[id[ad]]=ad;ld.encode=cd,ld.decode=function(e){var t=0;for(ad=0;ad<e.length;ad++)t=64*t+od[e.charAt(ad)];return t};var ud=ld,dd={encode:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},decode:function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}};class hd extends nd{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){((e,t)=>{const n=e.split(td),r=[];for(let e=0;e<n.length;e++){const i=Zu(n[e],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose(),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,o)=>{Wu(e,!1,(e=>{r[o]=e,++i===n&&t(r.join(td))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emit("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=ud()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=dd.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}}function pd(){}const fd=null!=new Pu({xdomain:!1}).responseType;class md extends Mu{constructor(e,t){super(),ju(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=Du(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Pu(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=md.requestsCount++,md.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=pd,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete md.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&this.onData(e)}abort(){this.cleanup()}}if(md.requestsCount=0,md.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",gd);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Nu?"pagehide":"unload",gd,!1)}function gd(){for(let e in md.requests)md.requests.hasOwnProperty(e)&&md.requests[e].abort()}const vd="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),bd=Nu.WebSocket||Nu.MozWebSocket,yd="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class wd extends nd{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=yd?{}:Du(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=yd?new bd(e,t,n):t?new bd(e,t):new bd(e)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Wu(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}r&&vd((()=>{this.writable=!0,this.emit("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=ud()),this.supportsBinary||(e.b64=1);const r=dd.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!(!bd||"__initialize"in bd&&this.name===wd.prototype.name)}}const $d={websocket:wd,polling:class extends hd{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=fd&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new md(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e=>{this.onError("xhr post error",e)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e=>{this.onError("xhr poll error",e)})),this.pollXhr=e}}};class kd extends Mu{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=Au(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Au(t.host).host),ju(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=dd.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=function(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new $d[e](n)}open(){let e;if(this.opts.rememberUpgrade&&kd.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(()=>{this.onClose("transport close")}))}probe(e){let t=this.createTransport(e),n=!1;kd.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;kd.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,l(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function s(){o("transport closed")}function a(){o("socket closed")}function c(e){t&&e.name!==t.name&&i()}const l=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",s),this.once("close",a),this.once("upgrading",c),t.open()}onOpen(){if(this.readyState="open",kd.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){kd.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}kd.protocol=4,kd.protocol;const xd="function"==typeof ArrayBuffer,_d=Object.prototype.toString,Id="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===_d.call(Blob),Cd="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===_d.call(File);function Td(e){return xd&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Id&&e instanceof Blob||Cd&&e instanceof File}function Ed(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Ed(e[t]))return!0;return!1}if(Td(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Ed(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Ed(e[t]))return!0;return!1}function Sd(e){const t=[],n=e.data,r=e;return r.data=Ad(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ad(e,t){if(!e)return e;if(Td(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ad(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=Ad(e[r],t));return n}return e}function Rd(e,t){return e.data=Od(e.data,t),e.attachments=void 0,e}function Od(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Od(e[n],t);else if("object"==typeof e)for(const n in e)e.hasOwnProperty(n)&&(e[n]=Od(e[n],t));return e}var Nd;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Nd||(Nd={}));class Pd extends Mu{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===Nd.BINARY_EVENT||t.type===Nd.BINARY_ACK?(this.reconstructor=new Dd(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else{if(!Td(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Nd[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Nd.BINARY_EVENT||n.type===Nd.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!Pd.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}static isPayloadValid(e,t){switch(e){case Nd.CONNECT:return"object"==typeof t;case Nd.DISCONNECT:return void 0===t;case Nd.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Nd.EVENT:case Nd.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Nd.ACK:case Nd.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Dd{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Rd(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Bd=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Nd},Encoder:class{encode(e){return e.type!==Nd.EVENT&&e.type!==Nd.ACK||!Ed(e)?[this.encodeAsString(e)]:(e.type=e.type===Nd.EVENT?Nd.BINARY_EVENT:Nd.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==Nd.BINARY_EVENT&&e.type!==Nd.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}encodeAsBinary(e){const t=Sd(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}},Decoder:Pd});function Ld(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const jd=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Md extends Mu{constructor(e,t,n){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ld(e,"open",this.onopen.bind(this)),Ld(e,"packet",this.onpacket.bind(this)),Ld(e,"error",this.onerror.bind(this)),Ld(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(jd.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const n={type:Nd.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?this.packet(n):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const r=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:Nd.CONNECT,data:e})})):this.packet({type:Nd.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Nd.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Nd.EVENT:case Nd.BINARY_EVENT:this.onevent(e);break;case Nd.ACK:case Nd.BINARY_ACK:this.onack(e);break;case Nd.DISCONNECT:this.ondisconnect();break;case Nd.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:Nd.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>this.packet(e))),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Nd.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var Fd=zd;function zd(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}zd.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},zd.prototype.reset=function(){this.attempts=0},zd.prototype.setMin=function(e){this.ms=e},zd.prototype.setMax=function(e){this.max=e},zd.prototype.setJitter=function(e){this.jitter=e};class Ud extends Mu{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,ju(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Fd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Bd;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new kd(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Ld(t,"open",(function(){n.onopen(),e&&e()})),i=Ld(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&r();const n=this.setTimeoutFn((()=>{r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ld(e,"ping",this.onping.bind(this)),Ld(e,"data",this.ondata.bind(this)),Ld(e,"error",this.onerror.bind(this)),Ld(e,"close",this.onclose.bind(this)),Ld(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new Md(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const qd={};function Vd(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=Au(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=qd[i]&&o in qd[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new Ud(r,t):(qd[i]||(qd[i]=new Ud(r,t)),a=qd[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Vd,{Manager:Ud,Socket:Md,io:Vd,connect:Vd});const Hd=async({newSocket:e,userAuth:t})=>{e.on("connect",(async()=>{var n;Iu.set(!0),(null==t?void 0:t.isLoggedIn)&&(e.on("joined_room",(async e=>{var n,r;let i="";if(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.isAnonymous){xu.set(e.chat._id);try{i=await t.user.getIdToken()}catch(e){}}const o=null===(r=e.chat)||void 0===r?void 0:r.messages.flatMap((e=>{var t,n,r,o;return"text"===e.messageType?{type:"text",sender:"customer"===e.whoSent,message:{content:e.text},bot:"bot"===e.whoSent,manager:"manager"===e.whoSent}:"fileText"===e.messageType?{type:"fileText",sender:"customer"===e.whoSent,message:{content:e.text,filename:0!==e.files.length?null!==(n=null===(t=e.files[0])||void 0===t?void 0:t.originalName)&&void 0!==n?n:null===(r=e.files[0])||void 0===r?void 0:r.name:void 0,fileId:0!==e.files.length?null===(o=e.files[0])||void 0===o?void 0:o.url:void 0},bot:"bot"===e.whoSent,manager:"manager"===e.whoSent}:e.files.map((t=>{var n,r;let o=null===(n=t.fileType)||void 0===n?void 0:n.split("/")[0];"application"===o&&(o="file");let s=t.url;return["appwrite","menuOptionAppwrite"].includes(t.fileLocation)&&(s=`https://chat-server.tykhe.dev/mensagens/download/${e._id}?authToken=${i}`),{type:o,sender:"customer"===e.whoSent,message:{content:s,filename:null!==(r=t.originalName)&&void 0!==r?r:t.name},bot:"bot"===e.whoSent,manager:"manager"===e.whoSent}}))}));$u.update((e=>[...o,...e]))})),(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.isAnonymous)||(async({socket:e,userAuth:t})=>{var n;const r=await(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.getIdToken());r&&e.emit("join_category",{firebaseToken:r})})({socket:e,userAuth:t})),e.on("connect_to_new_chat",(e=>{xu.set(e.chatId)})),e.on("error_join_room",(e=>{})),e.on("new_message",(e=>{"customer"!==e.whoSent&&$u.update((t=>{var n,r,i;return[{type:e.messageType,message:{content:e.text,filename:"fileText"===e.messageType&&(null===(n=e.files)||void 0===n?void 0:n.length)>0?null!==(r=e.files[0].originalName)&&void 0!==r?r:e.files[0].name:void 0,fileId:(null===(i=e.files)||void 0===i?void 0:i.length)>0?e.files[0].url:void 0},sender:"customer"===e.whoSent,bot:"bot"===e.whoSent,manager:"manager"===e.whoSent},...t]}))})),e.on("new_file",(async e=>{var n;if("customer"!==e.whoSent){let r="";if(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.isAnonymous){xu.set(e.chat._id);try{r=await t.user.getIdToken()}catch(e){}}const i=e.files.map((t=>{var n,i;let o=null===(n=t.fileType)||void 0===n?void 0:n.split("/")[0];"application"===o&&(o="file");let s=t.url;return["appwrite","menuOptionAppwrite"].includes(t.fileLocation)&&(s=`https://chat-server.tykhe.dev/mensagens/download/${e._id}?authToken=${r}`),{type:o,message:{content:s,filename:null!==(i=t.originalName)&&void 0!==i?i:t.name},sender:"customer"===e.whoSent,bot:"bot"===e.whoSent,manager:"manager"===e.whoSent}}));$u.update((e=>[...i,...e]))}})),e.on("confirm_message",(e=>{"customer"===e.whoSent&&$u.update((t=>{let n=[...t];const r=n.findIndex((t=>t.message.content===e.originalText));return e.newText?n[r]=Object.assign(Object.assign({},n[r]),{message:Object.assign(Object.assign({},n[r].message),{content:e.newText})}):n.splice(r,1),n}))})),null==e||e.on("transfer_category",(async n=>{var r;const i=await(null===(r=null==t?void 0:t.user)||void 0===r?void 0:r.getIdToken());e.emit("transfer_category",{firebaseToken:i,chatId:n.chatId});let o=d(xu);e.emit("leave_room",{chatId:o})}))}))};var Wd={exports:{}},Kd=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Gd=Kd,Jd=Object.prototype.toString;function Xd(e){return"[object Array]"===Jd.call(e)}function Yd(e){return void 0===e}function Zd(e){return null!==e&&"object"==typeof e}function Qd(e){if("[object Object]"!==Jd.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function eh(e){return"[object Function]"===Jd.call(e)}function th(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Xd(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var nh={isArray:Xd,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Jd.call(e)},isBuffer:function(e){return null!==e&&!Yd(e)&&null!==e.constructor&&!Yd(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Zd,isPlainObject:Qd,isUndefined:Yd,isDate:function(e){return"[object Date]"===Jd.call(e)},isFile:function(e){return"[object File]"===Jd.call(e)},isBlob:function(e){return"[object Blob]"===Jd.call(e)},isFunction:eh,isStream:function(e){return Zd(e)&&eh(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:th,merge:function e(){var t={};function n(n,r){Qd(t[r])&&Qd(n)?t[r]=e(t[r],n):Qd(n)?t[r]=e({},n):Xd(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)th(arguments[r],n);return t},extend:function(e,t,n){return th(t,(function(t,r){e[r]=n&&"function"==typeof t?Gd(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},rh=nh;function ih(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var oh=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(rh.isURLSearchParams(t))r=t.toString();else{var i=[];rh.forEach(t,(function(e,t){null!=e&&(rh.isArray(e)?t+="[]":e=[e],rh.forEach(e,(function(e){rh.isDate(e)?e=e.toISOString():rh.isObject(e)&&(e=JSON.stringify(e)),i.push(ih(t)+"="+ih(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},sh=nh;function ah(){this.handlers=[]}ah.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},ah.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},ah.prototype.forEach=function(e){sh.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var ch=ah,lh=nh,uh=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},dh=uh,hh=function(e,t,n,r,i){var o=new Error(e);return dh(o,t,n,r,i)},ph=hh,fh=nh,mh=fh.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),fh.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),fh.isString(r)&&s.push("path="+r),fh.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},gh=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},vh=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},bh=nh,yh=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],wh=nh,$h=wh.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=wh.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function kh(e){this.message=e}kh.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},kh.prototype.__CANCEL__=!0;var xh=kh,_h=nh,Ih=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(ph("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},Ch=mh,Th=oh,Eh=function(e,t){return e&&!gh(t)?vh(e,t):t},Sh=function(e){var t,n,r,i={};return e?(bh.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=bh.trim(e.substr(0,r)).toLowerCase(),n=bh.trim(e.substr(r+1)),t){if(i[t]&&yh.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i},Ah=$h,Rh=hh,Oh=Uh,Nh=xh,Ph=function(e){return new Promise((function(t,n){var r,i=e.data,o=e.headers,s=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}_h.isFormData(i)&&delete o["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(l+":"+u)}var d=Eh(e.baseURL,e.url);function h(){if(c){var r="getAllResponseHeaders"in c?Sh(c.getAllResponseHeaders()):null,i={data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c};Ih((function(e){t(e),a()}),(function(e){n(e),a()}),i),c=null}}if(c.open(e.method.toUpperCase(),Th(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n(Rh("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){n(Rh("Network Error",e,null,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Oh.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(Rh(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},_h.isStandardBrowserEnv()){var p=(e.withCredentials||Ah(d))&&e.xsrfCookieName?Ch.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}"setRequestHeader"in c&&_h.forEach(o,(function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete o[t]:c.setRequestHeader(t,e)})),_h.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){c&&(n(!e||e&&e.type?new Nh("canceled"):e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),i||(i=null),c.send(i)}))},Dh=nh,Bh=function(e,t){lh.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Lh=uh,jh={"Content-Type":"application/x-www-form-urlencoded"};function Mh(e,t){!Dh.isUndefined(e)&&Dh.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Fh,zh={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Fh=Ph),Fh),transformRequest:[function(e,t){return Bh(t,"Accept"),Bh(t,"Content-Type"),Dh.isFormData(e)||Dh.isArrayBuffer(e)||Dh.isBuffer(e)||Dh.isStream(e)||Dh.isFile(e)||Dh.isBlob(e)?e:Dh.isArrayBufferView(e)?e.buffer:Dh.isURLSearchParams(e)?(Mh(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Dh.isObject(e)||t&&"application/json"===t["Content-Type"]?(Mh(t,"application/json"),function(e,t,n){if(Dh.isString(e))try{return(t||JSON.parse)(e),Dh.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||zh.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&Dh.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw Lh(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Dh.forEach(["delete","get","head"],(function(e){zh.headers[e]={}})),Dh.forEach(["post","put","patch"],(function(e){zh.headers[e]=Dh.merge(jh)}));var Uh=zh,qh=nh,Vh=Uh,Hh=function(e){return!(!e||!e.__CANCEL__)},Wh=nh,Kh=function(e,t,n){var r=this||Vh;return qh.forEach(n,(function(n){e=n.call(r,e,t)})),e},Gh=Hh,Jh=Uh,Xh=xh;function Yh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xh("canceled")}var Zh=nh,Qh=function(e,t){t=t||{};var n={};function r(e,t){return Zh.isPlainObject(e)&&Zh.isPlainObject(t)?Zh.merge(e,t):Zh.isPlainObject(t)?Zh.merge({},t):Zh.isArray(t)?t.slice():t}function i(n){return Zh.isUndefined(t[n])?Zh.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function o(e){if(!Zh.isUndefined(t[e]))return r(void 0,t[e])}function s(n){return Zh.isUndefined(t[n])?Zh.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function a(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return Zh.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,r=t(e);Zh.isUndefined(r)&&t!==a||(n[e]=r)})),n},ep="0.24.0",tp=ep,np={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){np[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var rp={};np.transitional=function(e,t,n){function r(e,t){return"[Axios v"+tp+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new Error(r(i," has been removed"+(t?" in "+t:"")));return t&&!rp[i]&&(rp[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var ip={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:np},op=nh,sp=oh,ap=ch,cp=function(e){return Yh(e),e.headers=e.headers||{},e.data=Kh.call(e,e.data,e.headers,e.transformRequest),e.headers=Wh.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Wh.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Jh.adapter)(e).then((function(t){return Yh(e),t.data=Kh.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Gh(t)||(Yh(e),t&&t.response&&(t.response.data=Kh.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},lp=Qh,up=ip,dp=up.validators;function hp(e){this.defaults=e,this.interceptors={request:new ap,response:new ap}}hp.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=lp(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&up.assertOptions(t,{silentJSONParsing:dp.transitional(dp.boolean),forcedJSONParsing:dp.transitional(dp.boolean),clarifyTimeoutError:dp.transitional(dp.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var s=[cp,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),i=Promise.resolve(e);s.length;)i=i.then(s.shift(),s.shift());return i}for(var a=e;n.length;){var c=n.shift(),l=n.shift();try{a=c(a)}catch(e){l(e);break}}try{i=cp(a)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},hp.prototype.getUri=function(e){return e=lp(this.defaults,e),sp(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},op.forEach(["delete","get","head","options"],(function(e){hp.prototype[e]=function(t,n){return this.request(lp(n||{},{method:e,url:t,data:(n||{}).data}))}})),op.forEach(["post","put","patch"],(function(e){hp.prototype[e]=function(t,n,r){return this.request(lp(r||{},{method:e,url:t,data:n}))}}));var pp=hp,fp=xh;function mp(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new fp(e),t(n.reason))}))}mp.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},mp.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},mp.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},mp.source=function(){var e;return{token:new mp((function(t){e=t})),cancel:e}};var gp=mp,vp=nh,bp=Kd,yp=pp,wp=Qh;var $p=function e(t){var n=new yp(t),r=bp(yp.prototype.request,n);return vp.extend(r,yp.prototype,n),vp.extend(r,n),r.create=function(n){return e(wp(t,n))},r}(Uh);$p.Axios=yp,$p.Cancel=xh,$p.CancelToken=gp,$p.isCancel=Hh,$p.VERSION=ep,$p.all=function(e){return Promise.all(e)},$p.spread=function(e){return function(t){return e.apply(null,t)}},$p.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},Wd.exports=$p,Wd.exports.default=$p;var kp,xp=Wd.exports,_p=new Uint8Array(16);function Ip(){if(!kp&&!(kp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kp(_p)}var Cp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Tp(e){return"string"==typeof e&&Cp.test(e)}for(var Ep=[],Sp=0;Sp<256;++Sp)Ep.push((Sp+256).toString(16).substr(1));function Ap(e,t,n){var r=(e=e||{}).random||(e.rng||Ip)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ep[e[t+0]]+Ep[e[t+1]]+Ep[e[t+2]]+Ep[e[t+3]]+"-"+Ep[e[t+4]]+Ep[e[t+5]]+"-"+Ep[e[t+6]]+Ep[e[t+7]]+"-"+Ep[e[t+8]]+Ep[e[t+9]]+"-"+Ep[e[t+10]]+Ep[e[t+11]]+Ep[e[t+12]]+Ep[e[t+13]]+Ep[e[t+14]]+Ep[e[t+15]]).toLowerCase();if(!Tp(n))throw TypeError("Stringified UUID is invalid");return n}(r)}const Rp=async e=>{let t=d(ku),n=d(Cu),r=null==n?void 0:n.user;r?Np({message:e,socket:t,user:r}):($u.set([e]),({newSocket:t,newUser:r}=await(async()=>{var e;_u.set(!0);const t=null===(e=await Xa(wu))||void 0===e?void 0:e.user,n=Vd("https://chat-socket.tykhe.dev",{auth:{token:d(Tu)}});if(t){const e={user:t,isLoggedIn:!0};await Hd({newSocket:n,userAuth:e})}return{newSocket:n,newUser:t}})()),ku.set(t))},Op=async(e,t)=>{let n=d(Cu),r=d(ku),i=d(xu);if((null==e?void 0:e.length)>0){const o=[],s=[];for(let t=0;t<e.length;t++){const n=Ap();o.push({type:"wait",message:{content:URL.createObjectURL(e[t]),filename:e[t].name,fileId:n},sender:!0,bot:!1}),s.push(n)}$u.update((e=>[...o,...e])),await Pp({files:e,filesIds:s,fileType:t,user:null==n?void 0:n.user,chatId:i,socket:r})}},Np=async({message:e,user:t,socket:n,store:r=!0})=>{try{const i=await t.getIdToken();null==n||n.emit("send_message",{message:{messageType:e.type,text:e.message.content,whoSent:"customer"},firebaseToken:i}),r&&$u.update((t=>[e,...t]))}catch(e){const t={type:"text",sender:!1,message:{content:"No foi possvel enviar a mensagem "},bot:!0};$u.update((e=>[t,...e]))}},Pp=async({files:e,filesIds:t,fileType:n,user:r,socket:i,chatId:o})=>{try{let s=r;s||(s=(await Xa(wu)).user);const a=await s.getIdToken();let c=new FormData;c.append("chatId",o),c.append("whoSent","customer"),c.append("msgFilesType",n);for(let n=0;n<e.length;n++)c.append("msgFiles",e[n]),c.append("msgFilesIds",t[n]);const l=await xp.post("https://chat-server.tykhe.dev/mensagens/arquivo",c,{headers:{Authorization:`Bearer ${a}`}});$u.update((e=>{var t,n;let r=e;if((null===(t=l.data.filesWithError)||void 0===t?void 0:t.length)>0){let t=l.data.filesWithError;r=e.filter((e=>-1===t.findIndex((t=>t.id===e.message.fileId))));r=[{type:"text",sender:!1,message:{content:`No foi possvel enviar ${1===t.length?"o arquivo":"alguns arquivos"} `},bot:!0},...r]}let i=null===(n=l.data.message)||void 0===n?void 0:n.files;return i&&(r=r.map((e=>{var t,n;if("wait"===e.type){const r=i.findIndex((t=>t.fileId===e.message.fileId));if(r>=0){let o=null===(t=i[r].fileType)||void 0===t?void 0:t.split("/")[0];"application"===o&&(o="file");let s=i[r].url;["appwrite","menuOptionAppwrite"].includes(i[r].fileLocation)&&(s=`https://chat-server.tykhe.dev/mensagens/download/${l.data.message._id}?authToken=${a}`),e.type=o,e.message.content=s,e.message.filename=null!==(n=i[r].originalName)&&void 0!==n?n:i[r].name}}return e}))),r})),null==i||i.emit("sendMessage",{message:l.data.message,firebaseToken:a})}catch(e){const t={type:"text",sender:!1,message:{content:"No foi possvel enviar o arquivo "},bot:!0};$u.update((e=>[t,...e]))}};function Dp(e){E(e,"svelte-1qt3n88",".tooltip.svelte-1qt3n88.svelte-1qt3n88{position:relative;display:inline-block}.tooltip.svelte-1qt3n88 .tooltip_container.svelte-1qt3n88{visibility:hidden;opacity:0;width:250px;position:absolute;z-index:99999;bottom:calc(100% + 12px);left:50%;margin-left:-125px;background-color:transparent;display:flex;justify-content:center;transition:visibility 0.3s linear,opacity 0.3s linear}.tooltip.svelte-1qt3n88 .tooltip_text.svelte-1qt3n88{background-color:#333333;color:white;text-align:center;padding:8px 16px;border-radius:24px}.tooltip.svelte-1qt3n88:hover .tooltip_container.svelte-1qt3n88{visibility:visible;opacity:1}")}function Bp(e){let t,n,r;return{c(){t=D("div"),n=D("span"),r=L(e[0]),z(n,"class","tooltip_text svelte-1qt3n88"),z(t,"class","tooltip_container svelte-1qt3n88")},m(e,i){O(e,t,i),T(t,n),T(n,r)},p(e,t){1&t&&q(r,e[0])},d(e){e&&N(t)}}}function Lp(e){let t,n,r;const i=e[3].default,o=p(i,e,e[2],null);let s=!e[1]&&Bp(e);return{c(){t=D("div"),o&&o.c(),n=j(),s&&s.c(),z(t,"class","tooltip svelte-1qt3n88")},m(e,i){O(e,t,i),o&&o.m(t,null),T(t,n),s&&s.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||4&n)&&g(o,i,e,e[2],r?m(i,e[2],n,null):v(e[2]),null),e[1]?s&&(s.d(1),s=null):s?s.p(e,n):(s=Bp(e),s.c(),s.m(t,null))},i(e){r||(Se(o,e),r=!0)},o(e){Ae(o,e),r=!1},d(e){e&&N(t),o&&o.d(e),s&&s.d()}}}function jp(e,t,n){let{$$slots:r={},$$scope:i}=t,{tooltipText:o=""}=t,{forceClose:s=!1}=t;return e.$$set=e=>{"tooltipText"in e&&n(0,o=e.tooltipText),"forceClose"in e&&n(1,s=e.forceClose),"$$scope"in e&&n(2,i=e.$$scope)},[o,s,i,r]}class Mp extends qe{constructor(e){super(),Ue(this,e,jp,Lp,a,{tooltipText:0,forceClose:1},Dp)}}function Fp(e){E(e,"svelte-y4bpvn","button.svelte-y4bpvn{border:none}.attachButton.svelte-y4bpvn{cursor:pointer;width:48px;height:48px;box-shadow:1px 2px 5px grey;color:white;margin:0 4px}.audioButton.svelte-y4bpvn{background-color:#2e7d32}.audioButton.svelte-y4bpvn:hover{transition:0.5s all ease;background-color:#1b5e20}")}function zp(e){let t,n,r,i,o,s;return n=new An({props:{path:"M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"}}),{c(){t=D("button"),je(n.$$.fragment),z(t,"class",r=b(["attachButton audioButton",e[0]].join(" "))+" svelte-y4bpvn")},m(r,a){O(r,t,a),Me(n,t,null),i=!0,o||(s=F(t,"click",e[6]),o=!0)},p(e,n){(!i||1&n&&r!==(r=b(["attachButton audioButton",e[0]].join(" "))+" svelte-y4bpvn"))&&z(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Ae(n.$$.fragment,e),i=!1},d(e){e&&N(t),Fe(n),o=!1,s()}}}function Up(e){let t,n,r;return n=new Mp({props:{tooltipText:"udio",$$slots:{default:[zp]},$$scope:{ctx:e}}}),{c(){t=D("div"),je(n.$$.fragment)},m(e,i){O(e,t,i),Me(n,t,null),r=!0},p(e,[t]){const r={};1025&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(Se(n.$$.fragment,e),r=!0)},o(e){Ae(n.$$.fragment,e),r=!1},d(e){e&&N(t),Fe(n)}}}function qp(e,t,n){let r;h(e,Ke,(e=>n(5,r=e)));let i=null,o=!1;const s=ae();oe((()=>{navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){n(3,i=new MediaRecorder(e));let t=[];n(3,i.ondataavailable=e=>{t.push(e.data)},i),n(3,i.onstop=e=>{const n=new Blob(t,{type:"audio/ogg; codecs=opus"});t=[],(e=>{let t=new File([e],"recording.ogg",{type:e.type,lastModified:Date.now()});Op([t],"audio")})(n)},i)})).catch((function(e){c()})):console.log("getUserMedia not supported on your browser!")}));const a=()=>{n(4,o=!0)};const c=()=>{const e={type:"text",sender:!1,message:{content:"Parece que seu microfone est bloqueado , confira no seu navegador se voc deu permisso e atualize a pgina."},bot:!1};$u.update((t=>[e,...t])),s("permissionDenied",{status:"denied"})};let l;return e.$$.update=()=>{24&e.$$.dirty&&null!==i&&(o?(i.start(),s("isPlaying",{status:"on"})):"recording"===i.state&&i.stop()),32&e.$$.dirty&&n(0,l=yn`
    border-radius: ${r.shape.textAreaBorderRadius};
  `)},[l,a,function(){n(4,o=!1)},i,o,r,()=>{a()}]}class Vp extends qe{constructor(e){super(),Ue(this,e,qp,Up,a,{stopRecording:2},Fp)}get stopRecording(){return this.$$.ctx[2]}}function Hp(e){E(e,"svelte-21lds1","textarea.svelte-21lds1{position:absolute;width:100%;height:100%;top:0;right:0;resize:none}button.svelte-21lds1{border:none;margin:0;cursor:pointer}.iconButton.svelte-21lds1{border-radius:50%;background-color:transparent}.container.svelte-21lds1{position:relative;margin:0 16px 4px 16px}.buttonDiv.svelte-21lds1{padding:0;background-color:transparent !important;top:0;right:0;z-index:999;position:absolute;height:100%;display:flex;align-content:center;justify-content:center;flex-direction:column}pre.svelte-21lds1,textarea.svelte-21lds1{padding:16px 64px 16px 24px !important;box-sizing:border-box;outline:1px solid #6e777e;border:0;line-height:1.4;overflow:hidden;margin:0 0 0 0;font-size:16px}.attachButton.svelte-21lds1{width:48px;height:48px;box-shadow:1px 2px 5px grey;color:white;margin:0 4px}.imageButton.svelte-21lds1{background-color:#6a1b9a}.imageButton.svelte-21lds1:hover{transition:0.5s all ease;background-color:#4a148c}.fileButton.svelte-21lds1{background-color:#00695c}.fileButton.svelte-21lds1:hover{transition:0.5s all ease;background-color:#004d40}@keyframes svelte-21lds1-beat{from,20%,53%,80%,to{transform:scale(1)}40%,43%{transform:scale(1.5)}70%{transform:scale(1.2)}90%{transform:scale(1.1)}}.animatedDisk.svelte-21lds1{border-radius:50px;background-color:white;height:20px;width:20px;animation:svelte-21lds1-beat 1s ease infinite}.mediaMenuDiv.svelte-21lds1{box-shadow:0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);position:absolute;height:56px;top:-60px;right:24px;display:flex;align-items:center;justify-content:center;background-color:white !important}.classesIconButton.svelte-21lds1{width:56px;height:56px;border-radius:inherit;box-shadow:1px 2px 5px grey;color:white;display:flex;justify-content:center;align-items:center;margin:0;transition:0.2s all ease;outline-offset:0}.classesIconButton.svelte-21lds1:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.4) 0 0)}.classesIconButton.svelte-21lds1:disabled{background-color:grey;color:lightgray}")}function Wp(e){let t,n,r,i,s,a,c,l,u,d,h,p,f,m;r=new Mp({props:{tooltipText:"Anexo",forceClose:e[5],$$slots:{default:[Kp]},$$scope:{ctx:e}}});let g=!(e[0].image&&e[0].video)&&Gp(e),v=!e[0].audio&&Xp(e),y=!e[0].file&&Yp(e);return{c(){t=D("div"),n=D("div"),je(r.$$.fragment),s=j(),a=D("div"),g&&g.c(),c=j(),v&&v.c(),l=j(),y&&y.c(),z(n,"class",i=b(e[7].themeColor)+" svelte-21lds1"),H(n,"position","absolute"),H(n,"right","60px"),H(n,"top","0"),H(n,"height","100%"),H(n,"display","flex"),H(n,"align-items","center"),z(a,"style",u="visibility: "+(e[5]?"visible":"hidden")),z(a,"class",d=b(["mediaMenuDiv",e[7].mediaMenuDiv].join(" "))+" svelte-21lds1")},m(i,o){O(i,t,o),T(t,n),Me(r,n,null),T(t,s),T(t,a),g&&g.m(a,null),T(a,c),v&&v.m(a,null),T(a,l),y&&y.m(a,null),p=!0,f||(m=[w(h=wo.call(null,t)),F(t,"click_outside",e[28])],f=!0)},p(e,t){const o={};32&t[0]&&(o.forceClose=e[5]),160&t[0]|1&t[1]&&(o.$$scope={dirty:t,ctx:e}),r.$set(o),(!p||128&t[0]&&i!==(i=b(e[7].themeColor)+" svelte-21lds1"))&&z(n,"class",i),e[0].image&&e[0].video?g&&(Te(),Ae(g,1,1,(()=>{g=null})),Ee()):g?(g.p(e,t),1&t[0]&&Se(g,1)):(g=Gp(e),g.c(),Se(g,1),g.m(a,c)),e[0].audio?v&&(Te(),Ae(v,1,1,(()=>{v=null})),Ee()):v?(v.p(e,t),1&t[0]&&Se(v,1)):(v=Xp(e),v.c(),Se(v,1),v.m(a,l)),e[0].file?y&&(Te(),Ae(y,1,1,(()=>{y=null})),Ee()):y?(y.p(e,t),1&t[0]&&Se(y,1)):(y=Yp(e),y.c(),Se(y,1),y.m(a,null)),(!p||32&t[0]&&u!==(u="visibility: "+(e[5]?"visible":"hidden")))&&z(a,"style",u),(!p||128&t[0]&&d!==(d=b(["mediaMenuDiv",e[7].mediaMenuDiv].join(" "))+" svelte-21lds1"))&&z(a,"class",d)},i(e){p||(Se(r.$$.fragment,e),Se(g),Se(v),Se(y),p=!0)},o(e){Ae(r.$$.fragment,e),Ae(g),Ae(v),Ae(y),p=!1},d(e){e&&N(t),Fe(r),g&&g.d(),v&&v.d(),y&&y.d(),f=!1,o(m)}}}function Kp(e){let t,n,r,i,o,s;return n=new An({props:{path:"M7.5,18A5.5,5.5 0 0,1 2,12.5A5.5,5.5 0 0,1 7.5,7H18A4,4 0 0,1 22,11A4,4 0 0,1 18,15H9.5A2.5,2.5 0 0,1 7,12.5A2.5,2.5 0 0,1 9.5,10H17V11.5H9.5A1,1 0 0,0 8.5,12.5A1,1 0 0,0 9.5,13.5H18A2.5,2.5 0 0,0 20.5,11A2.5,2.5 0 0,0 18,8.5H7.5A4,4 0 0,0 3.5,12.5A4,4 0 0,0 7.5,16.5H17V18H7.5Z",style:""}}),{c(){t=D("button"),je(n.$$.fragment),z(t,"class",r=b(["iconButton",e[7].themeColor].join(" "))+" svelte-21lds1"),H(t,"transform","rotate(270deg)")},m(r,a){O(r,t,a),Me(n,t,null),i=!0,o||(s=F(t,"click",e[20]),o=!0)},p(e,n){(!i||128&n[0]&&r!==(r=b(["iconButton",e[7].themeColor].join(" "))+" svelte-21lds1"))&&z(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Ae(n.$$.fragment,e),i=!1},d(e){e&&N(t),Fe(n),o=!1,s()}}}function Gp(e){let t,n,r,i,o,s,a;return t=new Mp({props:{tooltipText:e[0].image?"Vdeos":e[0].video?"Fotos":"Fotos e Vdeos",$$slots:{default:[Jp]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=j(),r=D("input"),z(r,"type","file"),z(r,"accept",i=[...e[0].image?[]:["image/*"],...e[0].video?[]:["video/*"]].join(",")),z(r,"id","input-image-video"),H(r,"display","none")},m(i,c){Me(t,i,c),O(i,n,c),O(i,r,c),e[22](r),o=!0,s||(a=F(r,"change",e[23]),s=!0)},p(e,n){const s={};1&n[0]&&(s.tooltipText=e[0].image?"Vdeos":e[0].video?"Fotos":"Fotos e Vdeos"),164&n[0]|1&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),(!o||1&n[0]&&i!==(i=[...e[0].image?[]:["image/*"],...e[0].video?[]:["video/*"]].join(",")))&&z(r,"accept",i)},i(e){o||(Se(t.$$.fragment,e),o=!0)},o(e){Ae(t.$$.fragment,e),o=!1},d(i){Fe(t,i),i&&N(n),i&&N(r),e[22](null),s=!1,a()}}}function Jp(e){let t,n,r,i,o,s;return n=new An({props:{path:"M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z"}}),{c(){t=D("button"),je(n.$$.fragment),z(t,"class",r=b(["attachButton imageButton",e[7].attachButton].join(" "))+" svelte-21lds1")},m(r,a){O(r,t,a),Me(n,t,null),i=!0,o||(s=F(t,"click",e[21]),o=!0)},p(e,n){(!i||128&n[0]&&r!==(r=b(["attachButton imageButton",e[7].attachButton].join(" "))+" svelte-21lds1"))&&z(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Ae(n.$$.fragment,e),i=!1},d(e){e&&N(t),Fe(n),o=!1,s()}}}function Xp(e){let t,n;return t=new Vp({props:{}}),e[24](t),t.$on("isPlaying",e[9]),t.$on("permissionDenied",e[10]),{c(){je(t.$$.fragment)},m(e,r){Me(t,e,r),n=!0},p(e,n){t.$set({})},i(e){n||(Se(t.$$.fragment,e),n=!0)},o(e){Ae(t.$$.fragment,e),n=!1},d(n){e[24](null),Fe(t,n)}}}function Yp(e){let t,n,r,i,o,s;return t=new Mp({props:{tooltipText:"Documentos",$$slots:{default:[Zp]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=j(),r=D("input"),z(r,"type","file"),z(r,"id","input-file"),H(r,"display","none")},m(a,c){Me(t,a,c),O(a,n,c),O(a,r,c),e[26](r),i=!0,o||(s=F(r,"change",e[27]),o=!0)},p(e,n){const r={};162&n[0]|1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){i||(Se(t.$$.fragment,e),i=!0)},o(e){Ae(t.$$.fragment,e),i=!1},d(i){Fe(t,i),i&&N(n),i&&N(r),e[26](null),o=!1,s()}}}function Zp(e){let t,n,r,i,o,s;return n=new An({props:{path:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z"}}),{c(){t=D("button"),je(n.$$.fragment),z(t,"class",r=b(["attachButton fileButton",e[7].attachButton].join(" "))+" svelte-21lds1")},m(r,a){O(r,t,a),Me(n,t,null),i=!0,o||(s=F(t,"click",e[25]),o=!0)},p(e,n){(!i||128&n[0]&&r!==(r=b(["attachButton fileButton",e[7].attachButton].join(" "))+" svelte-21lds1"))&&z(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Ae(n.$$.fragment,e),i=!1},d(e){e&&N(t),Fe(n),o=!1,s()}}}function Qp(t){let n,r,i,o,s,a;return{c(){n=D("button"),r=D("div"),z(r,"class",i=b(["animatedDisk",t[7].sendIcon].join(" "))+" svelte-21lds1"),z(n,"class",o=b([t[7].iconButton,"classesIconButton"].join(" "))+" svelte-21lds1")},m(e,i){O(e,n,i),T(n,r),s||(a=F(n,"click",t[30]),s=!0)},p(e,t){128&t[0]&&i!==(i=b(["animatedDisk",e[7].sendIcon].join(" "))+" svelte-21lds1")&&z(r,"class",i),128&t[0]&&o!==(o=b([e[7].iconButton,"classesIconButton"].join(" "))+" svelte-21lds1")&&z(n,"class",o)},i:e,o:e,d(e){e&&N(n),s=!1,a()}}}function ef(e){let t,n,r,i,o,s;return n=new An({props:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z",style:"color: white",class:e[7].sendIcon}}),{c(){t=D("button"),je(n.$$.fragment),z(t,"class",r=b([e[7].iconButton,"classesIconButton"].join(" "))+" svelte-21lds1")},m(r,a){O(r,t,a),Me(n,t,null),i=!0,o||(s=F(t,"click",e[29]),o=!0)},p(e,o){const s={};128&o[0]&&(s.class=e[7].sendIcon),n.$set(s),(!i||128&o[0]&&r!==(r=b([e[7].iconButton,"classesIconButton"].join(" "))+" svelte-21lds1"))&&z(t,"class",r)},i(e){i||(Se(n.$$.fragment,e),i=!0)},o(e){Ae(n.$$.fragment,e),i=!1},d(e){e&&N(t),Fe(n),o=!1,s()}}}function tf(e){let t,n,r,i,s,a,c,l,u,d,h,p,f,m,g,v,y=e[4]+"\n",w=0===e[4].length&&!(e[0].image&&e[0].video&&e[0].audio&&e[0].file)&&Wp(e);const $=[ef,Qp],k=[];function x(e,t){return e[6]?1:0}return h=x(e),p=k[h]=$[h](e),{c(){t=D("div"),n=D("pre"),r=L(y),s=j(),a=D("textarea"),l=j(),w&&w.c(),u=j(),d=D("div"),p.c(),z(n,"aria-hidden","true"),z(n,"class",i=b(e[7].pre)+" svelte-21lds1"),z(a,"placeholder","Digite uma mensagem"),z(a,"class",c=b(e[7].textarea)+" svelte-21lds1"),z(d,"class",f=b(["buttonDiv",e[7].sendButton].join(" "))+" svelte-21lds1"),z(t,"class","container svelte-21lds1")},m(i,o){O(i,t,o),T(t,n),T(n,r),T(t,s),T(t,a),V(a,e[4]),T(t,l),w&&w.m(t,null),T(t,u),T(t,d),k[h].m(d,null),m=!0,g||(v=[F(window,"keydown",e[12]),F(a,"input",e[19])],g=!0)},p(e,o){(!m||16&o[0])&&y!==(y=e[4]+"\n")&&q(r,y),(!m||128&o[0]&&i!==(i=b(e[7].pre)+" svelte-21lds1"))&&z(n,"class",i),(!m||128&o[0]&&c!==(c=b(e[7].textarea)+" svelte-21lds1"))&&z(a,"class",c),16&o[0]&&V(a,e[4]),0!==e[4].length||e[0].image&&e[0].video&&e[0].audio&&e[0].file?w&&(Te(),Ae(w,1,1,(()=>{w=null})),Ee()):w?(w.p(e,o),17&o[0]&&Se(w,1)):(w=Wp(e),w.c(),Se(w,1),w.m(t,u));let s=h;h=x(e),h===s?k[h].p(e,o):(Te(),Ae(k[s],1,1,(()=>{k[s]=null})),Ee(),p=k[h],p?p.p(e,o):(p=k[h]=$[h](e),p.c()),Se(p,1),p.m(d,null)),(!m||128&o[0]&&f!==(f=b(["buttonDiv",e[7].sendButton].join(" "))+" svelte-21lds1"))&&z(d,"class",f)},i(e){m||(Se(w),Se(p),m=!0)},o(e){Ae(w),Ae(p),m=!1},d(e){e&&N(t),w&&w.d(),k[h].d(),g=!1,o(v)}}}function nf(e,t,n){let r;h(e,Ke,(e=>n(18,r=e)));let i,{blockedMedias:o={image:!1,video:!0,file:!0,audio:!0}}=t,s={},{minRows:a=1}=t,{maxRows:c}=t,l={value:""},u={value:""},d="",p=!1;const f=()=>{""!==d&&(Rp({type:"text",message:{content:d},sender:!0,bot:!1}),n(4,d=""))};let m,g,v,b=!1;const y=async(e,t)=>{var r;(null===(r=e.currentTarget.files)||void 0===r?void 0:r.length)>0&&await Op(e.currentTarget.files,t),n(2,u.value="",u),n(1,l.value="",l)};return e.$$set=e=>{"blockedMedias"in e&&n(0,o=e.blockedMedias),"minRows"in e&&n(13,a=e.minRows),"maxRows"in e&&n(14,c=e.maxRows)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(15,s={image:o.image&&o.video,file:o.file,audio:o.audio}),8192&e.$$.dirty[0]&&n(16,m=2.1+1.4*a+"em"),16384&e.$$.dirty[0]&&n(17,g=c?1+1.5*c+"em":"auto"),491520&e.$$.dirty[0]&&n(7,v={iconButton:yn`
      background-color: ${r.palette.primary.main};
      outline: ${r.outline?`1px solid ${r.palette.primary.main}`:"unset"};
      &:hover {
        outline-offset: ${r.outline?"3px":"0"};
      }
    `,textarea:yn`
      color: ${r.textAreaTextColor};
      font-family: ${r.fontFamily};
      border-radius: ${r.shape.textAreaBorderRadius};
      background-color: ${r.palette.background.textarea} !important;
      &:focus-visible {
        outline: 1px solid ${r.palette.primary.main};
      }
    `,pre:yn`
      color: ${r.textAreaTextColor};
      font-family: ${r.fontFamily};
      border-radius: ${r.shape.textAreaBorderRadius};
      min-height: ${m};
      max-height: ${g};
      &:focus-visible {
        outline: 1px solid ${r.palette.primary.main};
      }
    `,themeColor:yn`
      background-color: ${r.palette.background.textarea} !important;
    `,sendButton:yn`
      border-radius: ${r.shape.textAreaBorderRadius};
    `,sendIcon:yn`
      color: ${r.buttonIconColor} !important;
    `,mediaMenuDiv:yn`
      border-radius: ${r.shape.textAreaBorderRadius};
      width: ${60*Object.values(s).filter((e=>!1===e)).length};
    `,attachButton:yn`
      border-radius: ${r.shape.textAreaBorderRadius};
    `})},[o,l,u,i,d,p,b,v,f,e=>{"on"===e.detail.status&&(n(6,b=!0),n(5,p=!1))},e=>{"denied"===e.detail.status&&(n(0,o=Object.assign(Object.assign({},o),{audio:!0})),n(5,p=!1))},y,function(e){13!=e.keyCode||e.shiftKey||(e.preventDefault(),f())},a,c,s,m,g,r,function(){d=this.value,n(4,d)},()=>{n(5,p=!p)},()=>{u.click(),n(5,p=!1)},function(e){de[e?"unshift":"push"]((()=>{u=e,n(2,u)}))},e=>y(e,"image/video"),function(e){de[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},()=>{l.click(),n(5,p=!1)},function(e){de[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},e=>y(e,"file"),()=>{n(5,p=!1)},()=>f(),()=>{i.stopRecording(),n(6,b=!1)}]}class rf extends qe{constructor(e){super(),Ue(this,e,nf,tf,a,{blockedMedias:0,minRows:13,maxRows:14},Hp,[-1,-1])}}function of(e,{from:t,to:n},r={}){const i=getComputedStyle(e),o="none"===i.transform?"":i.transform,[a,c]=i.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*a/n.width-(n.left+a),u=t.top+t.height*c/n.height-(n.top+c),{delay:d=0,duration:h=(e=>120*Math.sqrt(e)),easing:p=Nn}=r;return{delay:d,duration:s(h)?h(Math.sqrt(l*l+u*u)):h,easing:p,css:(e,r)=>{const i=r*l,s=r*u,a=e+r*t.width/n.width,c=e+r*t.height/n.height;return`transform: ${o} translate(${i}px, ${s}px) scale(${a}, ${c});`}}}function sf(e){E(e,"svelte-6r73h3",".fabDiv.svelte-6r73h3{position:fixed;bottom:24px;z-index:9996}.fab.svelte-6r73h3{cursor:pointer;color:white;border:0;border-radius:50%;height:56px;width:56px;display:flex;justify-content:center;align-items:center;box-shadow:0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);transition:all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)}.fab.svelte-6r73h3:hover{box-shadow:0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22)}.chatDiv.svelte-6r73h3{position:fixed;margin:0 auto;box-shadow:1px 1px 20px rgba(0, 0, 0, 0.3);z-index:9998;flex-direction:column;transition:all 0.5s ease-in-out}")}function af(e,t,n){const r=e.slice();return r[17]=t[n],r}function cf(n,r){let i,o,s,a,c,l,u,d=e;return o=new Wo({props:{type:r[17].type,content:r[17].message.content,fileName:r[17].message.filename,fileId:r[17].message.fileId,sender:r[17].sender}}),{key:n,first:null,c(){i=D("div"),je(o.$$.fragment),s=j(),this.first=i},m(e,t){O(e,i,t),Me(o,i,null),T(i,s),u=!0},p(e,t){r=e;const n={};32&t&&(n.type=r[17].type),32&t&&(n.content=r[17].message.content),32&t&&(n.fileName=r[17].message.filename),32&t&&(n.fileId=r[17].message.fileId),32&t&&(n.sender=r[17].sender),o.$set(n)},r(){l=i.getBoundingClientRect()},f(){!function(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,ne(e,i)}}(i),d(),ne(i,l)},a(){d(),d=function(n,r,i,o){if(!r)return e;const s=n.getBoundingClientRect();if(r.left===s.left&&r.right===s.right&&r.top===s.top&&r.bottom===s.bottom)return e;const{delay:a=0,duration:c=300,easing:l=t,start:u=k()+a,end:d=u+c,tick:h=e,css:p}=i(n,{from:r,to:s},o);let f,m=!0,g=!1;function v(){p&&te(n,f),m=!1}return C((e=>{if(!g&&e>=u&&(g=!0),g&&e>=d&&(h(1,0),v()),!m)return!1;if(g){const t=0+1*l((e-u)/c);h(t,1-t)}return!0})),p&&(f=ee(n,0,1,c,a,l,p)),a||(g=!0),h(0,1),v}(i,l,of,{})},i(e){u||(Se(o.$$.fragment,e),ge((()=>{c&&c.end(1),a=Oe(i,r[8],{key:r[17]}),a.start()})),u=!0)},o(e){Ae(o.$$.fragment,e),a&&a.invalidate(),c=Ne(i,r[7],{key:r[17]}),u=!1},d(e){e&&N(i),Fe(o),e&&c&&c.end()}}}function lf(e){let t,n,r=[],i=new Map,o=e[5];const s=e=>e[17];for(let t=0;t<o.length;t+=1){let n=af(e,o,t),a=s(n);i.set(a,r[t]=cf(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=M()},m(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);O(e,t,i),n=!0},p(e,n){if(32&n){o=e[5],Te();for(let e=0;e<r.length;e+=1)r[e].r();r=function(e,t,n,r,i,o,s,a,c,l,u,d){let h=e.length,p=o.length,f=h;const m={};for(;f--;)m[e[f].key]=f;const g=[],v=new Map,b=new Map;for(f=p;f--;){const e=d(i,o,f),a=n(e);let c=s.get(a);c?r&&c.p(e,t):(c=l(a,e),c.c()),v.set(a,g[f]=c),a in m&&b.set(a,Math.abs(f-m[a]))}const y=new Set,w=new Set;function $(e){Se(e,1),e.m(a,u),s.set(e.key,e),u=e.first,p--}for(;h&&p;){const t=g[p-1],n=e[h-1],r=t.key,i=n.key;t===n?(u=t.first,h--,p--):v.has(i)?!s.has(r)||y.has(r)?$(t):w.has(i)?h--:b.get(r)>b.get(i)?(w.add(r),$(t)):(y.add(i),h--):(c(n,s),h--)}for(;h--;){const t=e[h];v.has(t.key)||c(t,s)}for(;p;)$(g[p-1]);return g}(r,n,s,1,e,o,i,t.parentNode,Be,cf,t,af);for(let e=0;e<r.length;e+=1)r[e].a();Ee()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)Se(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)Ae(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&N(t)}}}function uf(e){let t,n,r,i,o,s,a,c;return r=new An({props:{path:"M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3Z"}}),{c(){t=D("div"),n=D("button"),je(r.$$.fragment),z(n,"class","fab svelte-6r73h3"),z(n,"style",i=`background-color: ${e[2].palette.primary.main}`),z(t,"class",o=b(["fabDiv",e[4].fabDiv].join(" "))+" svelte-6r73h3")},m(i,o){O(i,t,o),T(t,n),Me(r,n,null),s=!0,a||(c=F(n,"click",e[16]),a=!0)},p(e,r){(!s||4&r&&i!==(i=`background-color: ${e[2].palette.primary.main}`))&&z(n,"style",i),(!s||16&r&&o!==(o=b(["fabDiv",e[4].fabDiv].join(" "))+" svelte-6r73h3"))&&z(t,"class",o)},i(e){s||(Se(r.$$.fragment,e),s=!0)},o(e){Ae(r.$$.fragment,e),s=!1},d(e){e&&N(t),Fe(r),a=!1,c()}}}function df(e){let t,n,r,i,o,s,a,c,l,u;n=new qn({props:{title:e[6].name,image:e[6].image,isOpened:e[0]}}),n.$on("open",e[9]),i=new Kn({props:{$$slots:{default:[lf]},$$scope:{ctx:e}}}),s=new rf({props:{maxRows:3,minRows:1,blockedMedias:e[3]}});let d=(e[2].fab||e[1])&&uf(e);return{c(){t=D("div"),je(n.$$.fragment),r=j(),je(i.$$.fragment),o=j(),je(s.$$.fragment),c=j(),d&&d.c(),l=M(),z(t,"class",a=b([e[4].chatDiv,"chatDiv"].join(" "))+" svelte-6r73h3")},m(e,a){O(e,t,a),Me(n,t,null),T(t,r),Me(i,t,null),T(t,o),Me(s,t,null),O(e,c,a),d&&d.m(e,a),O(e,l,a),u=!0},p(e,[r]){const o={};64&r&&(o.title=e[6].name),64&r&&(o.image=e[6].image),1&r&&(o.isOpened=e[0]),n.$set(o);const c={};1048608&r&&(c.$$scope={dirty:r,ctx:e}),i.$set(c);const h={};8&r&&(h.blockedMedias=e[3]),s.$set(h),(!u||16&r&&a!==(a=b([e[4].chatDiv,"chatDiv"].join(" "))+" svelte-6r73h3"))&&z(t,"class",a),e[2].fab||e[1]?d?(d.p(e,r),6&r&&Se(d,1)):(d=uf(e),d.c(),Se(d,1),d.m(l.parentNode,l)):d&&(Te(),Ae(d,1,1,(()=>{d=null})),Ee())},i(e){u||(Se(n.$$.fragment,e),Se(i.$$.fragment,e),Se(s.$$.fragment,e),Se(d),u=!0)},o(e){Ae(n.$$.fragment,e),Ae(i.$$.fragment,e),Ae(s.$$.fragment,e),Ae(d),u=!1},d(e){e&&N(t),Fe(n),Fe(i),Fe(s),e&&N(c),d&&d.d(e),e&&N(l)}}}function hf(e,t,n){let r,i,o,s,a,c,l,u,p,f;h(e,wn,(e=>n(1,r=e))),h(e,$n,(e=>n(10,i=e))),h(e,kn,(e=>n(11,o=e))),h(e,Ke,(e=>n(2,s=e))),h(e,Tu,(e=>n(12,a=e))),h(e,Cu,(e=>n(13,c=e))),h(e,ku,(e=>n(14,l=e))),h(e,$u,(e=>n(5,u=e))),h(e,_u,(e=>n(15,p=e))),h(e,Ge,(e=>n(6,f=e)));let m,g=!1;Iu.subscribe((e=>{e&&(p?(null==u?void 0:u.length)>0&&Np({message:u[0],socket:l,user:null==c?void 0:c.user,store:!1}):(async({socket:e,userAuth:t})=>{var n;const r=await(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.getIdToken());r&&(d(xu),e.emit("join_room",{firebaseToken:r,agent:!1}))})({socket:l,userAuth:c}))}));const[v,b]=Bn({duration:e=>Math.sqrt(200*e),fallback(e,t){const n=getComputedStyle(e),r="none"===n.transform?"":n.transform;return{duration:500,easing:Pn,css:e=>`\n\t\t\t\t\ttransform: ${r} scale(${e});\n\t\t\t\t\topacity: ${e}\n\t\t\t\t`}}});oe((async()=>{var e,t,r,i,o;try{const s=null!==(e=(await xp.get(`https://chat-server.tykhe.dev/configuracoes/midias?channel=webchat&whtoken=${a}`)).data.configuration.blockMedia)&&void 0!==e?e:[];n(3,m={video:s.includes("video"),image:s.includes("image"),audio:s.includes("audio"),file:s.includes("file")});const c=await xp.get(`https://chat-server.tykhe.dev/configuracoes/tema-webchat?channel=webchat&whtoken=${a}`);if(null===(r=null===(t=c.data)||void 0===t?void 0:t.configuration)||void 0===r?void 0:r.theme){const e=c.data.configuration.theme,t=c.data.configuration.webchatTheme;Ke.update((n=>{var r,i,o,s,a,c,l,u,d;return Object.assign(Object.assign({},n),{palette:Object.assign(Object.assign({},n.palette),{primary:e.primary?e.primary:n.palette.primary,bubble:{sent:(null===(r=null==e?void 0:e.bubble)||void 0===r?void 0:r.agent)?e.bubble.agent:n.palette.bubble.sent,received:(null===(i=null==e?void 0:e.bubble)||void 0===i?void 0:i.user)?e.bubble.user:n.palette.bubble.received},bubbleText:{sent:(null===(o=null==e?void 0:e.bubble)||void 0===o?void 0:o.agent)?Xe(e.bubble.agent):n.palette.bubble.sent,received:(null===(s=null==e?void 0:e.bubble)||void 0===s?void 0:s.user)?Xe(e.bubble.user):n.palette.bubble.received},background:{default:(null===(a=null==e?void 0:e.cBackground)||void 0===a?void 0:a.chat)?e.cBackground.chat:n.palette.background.default,textarea:(null===(c=null==e?void 0:e.cBackground)||void 0===c?void 0:c.textArea)?e.cBackground.textArea:n.palette.background.textarea}}),shape:n.shape,outline:n.outline,headerTextColor:(null===(l=null==e?void 0:e.primary)||void 0===l?void 0:l.dark)?Xe(e.primary.dark):n.headerTextColor,buttonIconColor:(null===(u=null==e?void 0:e.primary)||void 0===u?void 0:u.main)?Xe(e.primary.main):n.buttonIconColor,textAreaTextColor:(null===(d=null==e?void 0:e.cBackground)||void 0===d?void 0:d.textArea)?Xe(e.cBackground.textArea):n.textAreaTextColor,fontFamily:n.fontFamily,fab:t.useFab?t.useFab:n.fab})}))}if(null===(o=null===(i=c.data)||void 0===i?void 0:i.configuration)||void 0===o?void 0:o.webchatTheme){const e=c.data.configuration.webchatTheme;Ge.update((t=>({name:(null==e?void 0:e.widgetName)?e.widgetName:t.name,image:(null==e?void 0:e.widgetImg)?e.widgetImg:t.image})))}}catch(e){console.log(e)}}));let y={};return e.$$.update=()=>{if(61440&e.$$.dirty&&!p&&c.isLoggedIn&&!l){const e=Vd("https://chat-socket.tykhe.dev",{auth:{token:a}});ku.set(e),Hd({newSocket:e,userAuth:c})}3079&e.$$.dirty&&n(4,y={chatDiv:yn`
      background-color: ${s.palette.background.default};
      border-radius: ${r?0:s.shape.borderRadius}
        ${r?0:s.shape.borderRadius} 0 0;
      max-width: ${r?"100vw":"350px"};
      width: ${r?"100%":"350px"};
      display: ${g?"flex":"block"};
      height: ${g?r?"100vh":"628px":"56px"};
      bottom: ${s.fab&&!g||r&&!g?"-78px":"0"};
      right: ${o?i?r?"0px":"50px":"100px":"200px"};
    `,fabDiv:yn`
      right: ${o?i?r?"24px":"54px":"104px":"204px"};
    `})},[g,r,s,m,y,u,f,v,b,function(e){n(0,g="open"===e.detail.status)},i,o,a,c,l,p,()=>{n(0,g=!0)}]}class pf extends qe{constructor(e){super(),Ue(this,e,hf,df,a,{},sf)}}function ff(e){E(e,"svelte-d67a3c","main.svelte-d67a3c{max-width:240px;margin:0 auto}@media(min-width: 640px){main.svelte-d67a3c{max-width:none}}")}function mf(e){let t,n,r,i,o,s;return i=new pf({}),{c(){t=D("main"),n=D("link"),r=j(),je(i.$$.fragment),z(n,"rel","stylesheet"),z(n,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),z(t,"class",o=b(e[0])+" svelte-d67a3c")},m(e,o){O(e,t,o),T(t,n),T(t,r),Me(i,t,null),s=!0},p(e,[n]){(!s||1&n&&o!==(o=b(e[0])+" svelte-d67a3c"))&&z(t,"class",o)},i(e){s||(Se(i.$$.fragment,e),s=!0)},o(e){Ae(i.$$.fragment,e),s=!1},d(e){e&&N(t),Fe(i)}}}function gf(e,t,n){let r;h(e,Ke,(e=>n(21,r=e)));let i,{accentColor:o=""}=t,{mainColor:s=""}=t,{backgroundColor:a=""}=t,{textAreaColor:c=""}=t,{receivedBubbleColor:l=""}=t,{sentBubbleColor:u=""}=t,{receivedTextColor:d=""}=t,{sentTextColor:p=""}=t,{borderRadius:f=""}=t,{bubbleBorderRadius:m=""}=t,{textAreaBorderRadius:g=""}=t,{outline:v=!1}=t,{headerTextColor:b=""}=t,{buttonIconColor:y=""}=t,{textAreaTextColor:w=""}=t,{fontFamily:$=""}=t,{token:k=""}=t,{fab:x=!1}=t,{headerName:_=""}=t,{headerImageSource:I=""}=t;return Tu.set(k),Tu.subscribe((async e=>{if(e)try{(await xp.get(`https://chat-server.tykhe.dev/projetos/validar-token?channel=webchat&whtoken=${e}`)).data.success||console.error("Token do webchat invlido")}catch(e){console.error("Token do webchat invlido")}})),Ke.update((e=>Object.assign(Object.assign({},e),{palette:Object.assign(Object.assign({},e.palette),{primary:Object.assign(Object.assign({},e.palette.primary),{main:""!==o?o:e.palette.primary.main,dark:""!==s?s:e.palette.primary.dark}),bubble:Object.assign(Object.assign({},e.palette.bubble),{sent:""!==u?u:e.palette.bubble.sent,received:""!==l?l:e.palette.bubble.received}),bubbleText:Object.assign(Object.assign({},e.palette.bubbleText),{sent:""!==p?p:e.palette.bubbleText.sent,received:""!==d?d:e.palette.bubbleText.received}),background:Object.assign(Object.assign({},e.palette.background),{default:""!==a?a:e.palette.background.default,textarea:""!==c?c:e.palette.background.textarea})}),shape:Object.assign(Object.assign({},e.shape),{borderRadius:""!==f?f:e.shape.borderRadius,bubbleBorderRadius:""!==m?m:""!==f?f:e.shape.bubbleBorderRadius,textAreaBorderRadius:""!==g?g:""!==f?f:e.shape.textAreaBorderRadius}),outline:v,headerTextColor:""!==b?b:e.headerTextColor,buttonIconColor:""!==y?y:e.buttonIconColor,textAreaTextColor:""!==w?w:e.textAreaTextColor,fontFamily:""!==$?$:e.fontFamily,fab:x}))),Ge.update((e=>({name:_||e.name,image:I||e.image}))),e.$$set=e=>{"accentColor"in e&&n(1,o=e.accentColor),"mainColor"in e&&n(2,s=e.mainColor),"backgroundColor"in e&&n(3,a=e.backgroundColor),"textAreaColor"in e&&n(4,c=e.textAreaColor),"receivedBubbleColor"in e&&n(5,l=e.receivedBubbleColor),"sentBubbleColor"in e&&n(6,u=e.sentBubbleColor),"receivedTextColor"in e&&n(7,d=e.receivedTextColor),"sentTextColor"in e&&n(8,p=e.sentTextColor),"borderRadius"in e&&n(9,f=e.borderRadius),"bubbleBorderRadius"in e&&n(10,m=e.bubbleBorderRadius),"textAreaBorderRadius"in e&&n(11,g=e.textAreaBorderRadius),"outline"in e&&n(12,v=e.outline),"headerTextColor"in e&&n(13,b=e.headerTextColor),"buttonIconColor"in e&&n(14,y=e.buttonIconColor),"textAreaTextColor"in e&&n(15,w=e.textAreaTextColor),"fontFamily"in e&&n(16,$=e.fontFamily),"token"in e&&n(17,k=e.token),"fab"in e&&n(18,x=e.fab),"headerName"in e&&n(19,_=e.headerName),"headerImageSource"in e&&n(20,I=e.headerImageSource)},e.$$.update=()=>{2097152&e.$$.dirty&&n(0,i=yn`
    font-family: ${r.fontFamily};
  `)},[i,o,s,a,c,l,u,d,p,f,m,g,v,b,y,w,$,k,x,_,I,r]}let vf=document.createElement("DIV"),bf=document.currentScript;bf.parentNode.insertBefore(vf,bf);let yf=bf.getAttribute("accentColor"),wf=bf.getAttribute("mainColor"),$f=bf.getAttribute("backgroundColor"),kf=bf.getAttribute("textAreaColor"),xf=bf.getAttribute("receivedBubbleColor"),_f=bf.getAttribute("sentBubbleColor"),If=bf.getAttribute("receivedTextColor"),Cf=bf.getAttribute("sentTextColor"),Tf=bf.getAttribute("borderRadius"),Ef=bf.getAttribute("bubbleBorderRadius"),Sf=bf.getAttribute("textAreaBorderRadius"),Af=bf.getAttribute("outline"),Rf=bf.getAttribute("headerTextColor"),Of=bf.getAttribute("buttonIconColor"),Nf=bf.getAttribute("textAreaTextColor"),Pf=bf.getAttribute("fontFamily"),Df=bf.getAttribute("fab"),Bf=bf.getAttribute("token"),Lf=bf.getAttribute("headerName"),jf=bf.getAttribute("headerImageSource");new class extends qe{constructor(e){super(),Ue(this,e,gf,mf,a,{accentColor:1,mainColor:2,backgroundColor:3,textAreaColor:4,receivedBubbleColor:5,sentBubbleColor:6,receivedTextColor:7,sentTextColor:8,borderRadius:9,bubbleBorderRadius:10,textAreaBorderRadius:11,outline:12,headerTextColor:13,buttonIconColor:14,textAreaTextColor:15,fontFamily:16,token:17,fab:18,headerName:19,headerImageSource:20},ff)}}({target:vf,props:{accentColor:null!==yf?yf:"",mainColor:null!==wf?wf:"",backgroundColor:null!==$f?$f:"",textAreaColor:null!==kf?kf:"",receivedBubbleColor:null!==xf?xf:"",sentBubbleColor:null!==_f?_f:"",receivedTextColor:null!==If?If:"",sentTextColor:null!==Cf?Cf:"",borderRadius:null!==Tf?Tf:"",bubbleBorderRadius:null!==Ef?Ef:"",textAreaBorderRadius:null!==Sf?Sf:"",outline:"true"===Af,headerTextColor:null!==Rf?Rf:"",buttonIconColor:null!==Of?Of:"",textAreaTextColor:null!==Nf?Nf:"",fontFamily:null!==Pf?Pf:"",fab:"true"===Df,token:null!==Bf?Bf:"",headerName:null!==Lf?Lf:"",headerImageSource:null!==jf?jf:""}})}();
